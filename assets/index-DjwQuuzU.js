(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))l(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function i(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(d){if(d.ep)return;d.ep=!0;const f=i(d);fetch(d.href,f)}})();function Hp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kh={exports:{}},Oo={};var ep;function Bv(){if(ep)return Oo;ep=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(l,d,f){var m=null;if(f!==void 0&&(m=""+f),d.key!==void 0&&(m=""+d.key),"key"in d){f={};for(var v in d)v!=="key"&&(f[v]=d[v])}else f=d;return d=f.ref,{$$typeof:n,type:l,key:m,ref:d!==void 0?d:null,props:f}}return Oo.Fragment=a,Oo.jsx=i,Oo.jsxs=i,Oo}var tp;function qv(){return tp||(tp=1,kh.exports=Bv()),kh.exports}var o=qv(),Rh={exports:{}},ke={};var sp;function Hv(){if(sp)return ke;sp=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),N=Symbol.iterator;function A(E){return E===null||typeof E!="object"?null:(E=N&&E[N]||E["@@iterator"],typeof E=="function"?E:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,D={};function V(E,Q,ce){this.props=E,this.context=Q,this.refs=D,this.updater=ce||z}V.prototype.isReactComponent={},V.prototype.setState=function(E,Q){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,Q,"setState")},V.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function q(){}q.prototype=V.prototype;function U(E,Q,ce){this.props=E,this.context=Q,this.refs=D,this.updater=ce||z}var W=U.prototype=new q;W.constructor=U,k(W,V.prototype),W.isPureReactComponent=!0;var ae=Array.isArray;function se(){}var J={H:null,A:null,T:null,S:null},Re=Object.prototype.hasOwnProperty;function Y(E,Q,ce){var he=ce.ref;return{$$typeof:n,type:E,key:Q,ref:he!==void 0?he:null,props:ce}}function le(E,Q){return Y(E.type,Q,E.props)}function ee(E){return typeof E=="object"&&E!==null&&E.$$typeof===n}function De(E){var Q={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ce){return Q[ce]})}var Vt=/\/+/g;function hs(E,Q){return typeof E=="object"&&E!==null&&E.key!=null?De(""+E.key):Q.toString(36)}function is(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(se,se):(E.status="pending",E.then(function(Q){E.status==="pending"&&(E.status="fulfilled",E.value=Q)},function(Q){E.status==="pending"&&(E.status="rejected",E.reason=Q)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function I(E,Q,ce,he,te){var ie=typeof E;(ie==="undefined"||ie==="boolean")&&(E=null);var ge=!1;if(E===null)ge=!0;else switch(ie){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(E.$$typeof){case n:case a:ge=!0;break;case S:return ge=E._init,I(ge(E._payload),Q,ce,he,te)}}if(ge)return te=te(E),ge=he===""?"."+hs(E,0):he,ae(te)?(ce="",ge!=null&&(ce=ge.replace(Vt,"$&/")+"/"),I(te,Q,ce,"",function(Ta){return Ta})):te!=null&&(ee(te)&&(te=le(te,ce+(te.key==null||E&&E.key===te.key?"":(""+te.key).replace(Vt,"$&/")+"/")+ge)),Q.push(te)),1;ge=0;var ht=he===""?".":he+":";if(ae(E))for(var ue=0;ue<E.length;ue++)he=E[ue],ie=ht+hs(he,ue),ge+=I(he,Q,ce,ie,te);else if(ue=A(E),typeof ue=="function")for(E=ue.call(E),ue=0;!(he=E.next()).done;)he=he.value,ie=ht+hs(he,ue++),ge+=I(he,Q,ce,ie,te);else if(ie==="object"){if(typeof E.then=="function")return I(is(E),Q,ce,he,te);throw Q=String(E),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ge}function re(E,Q,ce){if(E==null)return E;var he=[],te=0;return I(E,he,"","",function(ie){return Q.call(ce,ie,te++)}),he}function ve(E){if(E._status===-1){var Q=E._result;Q=Q(),Q.then(function(ce){(E._status===0||E._status===-1)&&(E._status=1,E._result=ce)},function(ce){(E._status===0||E._status===-1)&&(E._status=2,E._result=ce)}),E._status===-1&&(E._status=0,E._result=Q)}if(E._status===1)return E._result.default;throw E._result}var Ke=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},Ye={map:re,forEach:function(E,Q,ce){re(E,function(){Q.apply(this,arguments)},ce)},count:function(E){var Q=0;return re(E,function(){Q++}),Q},toArray:function(E){return re(E,function(Q){return Q})||[]},only:function(E){if(!ee(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return ke.Activity=j,ke.Children=Ye,ke.Component=V,ke.Fragment=i,ke.Profiler=d,ke.PureComponent=U,ke.StrictMode=l,ke.Suspense=p,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ke.__COMPILER_RUNTIME={__proto__:null,c:function(E){return J.H.useMemoCache(E)}},ke.cache=function(E){return function(){return E.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(E,Q,ce){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var he=k({},E.props),te=E.key;if(Q!=null)for(ie in Q.key!==void 0&&(te=""+Q.key),Q)!Re.call(Q,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&Q.ref===void 0||(he[ie]=Q[ie]);var ie=arguments.length-2;if(ie===1)he.children=ce;else if(1<ie){for(var ge=Array(ie),ht=0;ht<ie;ht++)ge[ht]=arguments[ht+2];he.children=ge}return Y(E.type,te,he)},ke.createContext=function(E){return E={$$typeof:m,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:f,_context:E},E},ke.createElement=function(E,Q,ce){var he,te={},ie=null;if(Q!=null)for(he in Q.key!==void 0&&(ie=""+Q.key),Q)Re.call(Q,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(te[he]=Q[he]);var ge=arguments.length-2;if(ge===1)te.children=ce;else if(1<ge){for(var ht=Array(ge),ue=0;ue<ge;ue++)ht[ue]=arguments[ue+2];te.children=ht}if(E&&E.defaultProps)for(he in ge=E.defaultProps,ge)te[he]===void 0&&(te[he]=ge[he]);return Y(E,ie,te)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(E){return{$$typeof:v,render:E}},ke.isValidElement=ee,ke.lazy=function(E){return{$$typeof:S,_payload:{_status:-1,_result:E},_init:ve}},ke.memo=function(E,Q){return{$$typeof:y,type:E,compare:Q===void 0?null:Q}},ke.startTransition=function(E){var Q=J.T,ce={};J.T=ce;try{var he=E(),te=J.S;te!==null&&te(ce,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(se,Ke)}catch(ie){Ke(ie)}finally{Q!==null&&ce.types!==null&&(Q.types=ce.types),J.T=Q}},ke.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ke.use=function(E){return J.H.use(E)},ke.useActionState=function(E,Q,ce){return J.H.useActionState(E,Q,ce)},ke.useCallback=function(E,Q){return J.H.useCallback(E,Q)},ke.useContext=function(E){return J.H.useContext(E)},ke.useDebugValue=function(){},ke.useDeferredValue=function(E,Q){return J.H.useDeferredValue(E,Q)},ke.useEffect=function(E,Q){return J.H.useEffect(E,Q)},ke.useEffectEvent=function(E){return J.H.useEffectEvent(E)},ke.useId=function(){return J.H.useId()},ke.useImperativeHandle=function(E,Q,ce){return J.H.useImperativeHandle(E,Q,ce)},ke.useInsertionEffect=function(E,Q){return J.H.useInsertionEffect(E,Q)},ke.useLayoutEffect=function(E,Q){return J.H.useLayoutEffect(E,Q)},ke.useMemo=function(E,Q){return J.H.useMemo(E,Q)},ke.useOptimistic=function(E,Q){return J.H.useOptimistic(E,Q)},ke.useReducer=function(E,Q,ce){return J.H.useReducer(E,Q,ce)},ke.useRef=function(E){return J.H.useRef(E)},ke.useState=function(E){return J.H.useState(E)},ke.useSyncExternalStore=function(E,Q,ce){return J.H.useSyncExternalStore(E,Q,ce)},ke.useTransition=function(){return J.H.useTransition()},ke.version="19.2.3",ke}var ap;function cf(){return ap||(ap=1,Rh.exports=Hv()),Rh.exports}var L=cf();const Vv=Hp(L);var Dh={exports:{}},Co={},Uh={exports:{}},Mh={};var np;function Pv(){return np||(np=1,(function(n){function a(I,re){var ve=I.length;I.push(re);e:for(;0<ve;){var Ke=ve-1>>>1,Ye=I[Ke];if(0<d(Ye,re))I[Ke]=re,I[ve]=Ye,ve=Ke;else break e}}function i(I){return I.length===0?null:I[0]}function l(I){if(I.length===0)return null;var re=I[0],ve=I.pop();if(ve!==re){I[0]=ve;e:for(var Ke=0,Ye=I.length,E=Ye>>>1;Ke<E;){var Q=2*(Ke+1)-1,ce=I[Q],he=Q+1,te=I[he];if(0>d(ce,ve))he<Ye&&0>d(te,ce)?(I[Ke]=te,I[he]=ve,Ke=he):(I[Ke]=ce,I[Q]=ve,Ke=Q);else if(he<Ye&&0>d(te,ve))I[Ke]=te,I[he]=ve,Ke=he;else break e}}return re}function d(I,re){var ve=I.sortIndex-re.sortIndex;return ve!==0?ve:I.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var m=Date,v=m.now();n.unstable_now=function(){return m.now()-v}}var p=[],y=[],S=1,j=null,N=3,A=!1,z=!1,k=!1,D=!1,V=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function W(I){for(var re=i(y);re!==null;){if(re.callback===null)l(y);else if(re.startTime<=I)l(y),re.sortIndex=re.expirationTime,a(p,re);else break;re=i(y)}}function ae(I){if(k=!1,W(I),!z)if(i(p)!==null)z=!0,se||(se=!0,De());else{var re=i(y);re!==null&&is(ae,re.startTime-I)}}var se=!1,J=-1,Re=5,Y=-1;function le(){return D?!0:!(n.unstable_now()-Y<Re)}function ee(){if(D=!1,se){var I=n.unstable_now();Y=I;var re=!0;try{e:{z=!1,k&&(k=!1,q(J),J=-1),A=!0;var ve=N;try{t:{for(W(I),j=i(p);j!==null&&!(j.expirationTime>I&&le());){var Ke=j.callback;if(typeof Ke=="function"){j.callback=null,N=j.priorityLevel;var Ye=Ke(j.expirationTime<=I);if(I=n.unstable_now(),typeof Ye=="function"){j.callback=Ye,W(I),re=!0;break t}j===i(p)&&l(p),W(I)}else l(p);j=i(p)}if(j!==null)re=!0;else{var E=i(y);E!==null&&is(ae,E.startTime-I),re=!1}}break e}finally{j=null,N=ve,A=!1}re=void 0}}finally{re?De():se=!1}}}var De;if(typeof U=="function")De=function(){U(ee)};else if(typeof MessageChannel<"u"){var Vt=new MessageChannel,hs=Vt.port2;Vt.port1.onmessage=ee,De=function(){hs.postMessage(null)}}else De=function(){V(ee,0)};function is(I,re){J=V(function(){I(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Re=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(I){switch(N){case 1:case 2:case 3:var re=3;break;default:re=N}var ve=N;N=re;try{return I()}finally{N=ve}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(I,re){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ve=N;N=I;try{return re()}finally{N=ve}},n.unstable_scheduleCallback=function(I,re,ve){var Ke=n.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ke+ve:Ke):ve=Ke,I){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=ve+Ye,I={id:S++,callback:re,priorityLevel:I,startTime:ve,expirationTime:Ye,sortIndex:-1},ve>Ke?(I.sortIndex=ve,a(y,I),i(p)===null&&I===i(y)&&(k?(q(J),J=-1):k=!0,is(ae,ve-Ke))):(I.sortIndex=Ye,a(p,I),z||A||(z=!0,se||(se=!0,De()))),I},n.unstable_shouldYield=le,n.unstable_wrapCallback=function(I){var re=N;return function(){var ve=N;N=re;try{return I.apply(this,arguments)}finally{N=ve}}}})(Mh)),Mh}var ip;function Gv(){return ip||(ip=1,Uh.exports=Pv()),Uh.exports}var zh={exports:{}},ds={};var rp;function Iv(){if(rp)return ds;rp=1;var n=cf();function a(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(p,y,S){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:j==null?null:""+j,children:p,containerInfo:y,implementation:S}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ds.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ds.createPortal=function(p,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(a(299));return f(p,y,null,S)},ds.flushSync=function(p){var y=m.T,S=l.p;try{if(m.T=null,l.p=2,p)return p()}finally{m.T=y,l.p=S,l.d.f()}},ds.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(p,y))},ds.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},ds.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var S=y.as,j=v(S,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,A=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?l.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:j,integrity:N,fetchPriority:A}):S==="script"&&l.d.X(p,{crossOrigin:j,integrity:N,fetchPriority:A,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ds.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=v(y.as,y.crossOrigin);l.d.M(p,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(p)},ds.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,j=v(S,y.crossOrigin);l.d.L(p,S,{crossOrigin:j,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ds.preloadModule=function(p,y){if(typeof p=="string")if(y){var S=v(y.as,y.crossOrigin);l.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(p)},ds.requestFormReset=function(p){l.d.r(p)},ds.unstable_batchedUpdates=function(p,y){return p(y)},ds.useFormState=function(p,y,S){return m.H.useFormState(p,y,S)},ds.useFormStatus=function(){return m.H.useHostTransitionStatus()},ds.version="19.2.3",ds}var lp;function Kv(){if(lp)return zh.exports;lp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),zh.exports=Iv(),zh.exports}var op;function Yv(){if(op)return Co;op=1;var n=Gv(),a=cf(),i=Kv();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(l(188))}function y(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(l(188));return t!==e?null:e}for(var s=e,r=t;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(r=c.return,r!==null){s=r;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return p(c),e;if(h===r)return p(c),t;h=h.sibling}throw Error(l(188))}if(s.return!==r.return)s=c,r=h;else{for(var b=!1,w=c.child;w;){if(w===s){b=!0,s=c,r=h;break}if(w===r){b=!0,r=c,s=h;break}w=w.sibling}if(!b){for(w=h.child;w;){if(w===s){b=!0,s=h,r=c;break}if(w===r){b=!0,r=h,s=c;break}w=w.sibling}if(!b)throw Error(l(189))}}if(s.alternate!==r)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var j=Object.assign,N=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),U=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function De(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var Vt=Symbol.for("react.client.reference");function hs(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Vt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case V:return"Profiler";case D:return"StrictMode";case ae:return"Suspense";case se:return"SuspenseList";case Y:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case U:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return t=e.displayName||null,t!==null?t:hs(e.type)||"Memo";case Re:t=e._payload,e=e._init;try{return hs(e(t))}catch{}}return null}var is=Array.isArray,I=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Ke=[],Ye=-1;function E(e){return{current:e}}function Q(e){0>Ye||(e.current=Ke[Ye],Ke[Ye]=null,Ye--)}function ce(e,t){Ye++,Ke[Ye]=e.current,e.current=t}var he=E(null),te=E(null),ie=E(null),ge=E(null);function ht(e,t){switch(ce(ie,t),ce(te,e),ce(he,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?jg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=jg(t),e=Sg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(he),ce(he,e)}function ue(){Q(he),Q(te),Q(ie)}function Ta(e){e.memoizedState!==null&&ce(ge,e);var t=he.current,s=Sg(t,e.type);t!==s&&(ce(te,e),ce(he,s))}function pi(e){te.current===e&&(Q(he),Q(te)),ge.current===e&&(Q(ge),Eo._currentValue=ve)}var ol,Ko;function Ls(e){if(ol===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);ol=t&&t[1]||"",Ko=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ol+e+Ko}var Wi=!1;function Ya(e,t){if(!e||Wi)return"";Wi=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(P){var H=P}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(P){H=P}e.call(Z.prototype)}}else{try{throw Error()}catch(P){H=P}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(P){if(P&&H&&typeof P.stack=="string")return[P.stack,H.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=r.DetermineComponentFrameRoot(),b=h[0],w=h[1];if(b&&w){var T=b.split(`
`),B=w.split(`
`);for(c=r=0;r<T.length&&!T[r].includes("DetermineComponentFrameRoot");)r++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(r===T.length||c===B.length)for(r=T.length-1,c=B.length-1;1<=r&&0<=c&&T[r]!==B[c];)c--;for(;1<=r&&0<=c;r--,c--)if(T[r]!==B[c]){if(r!==1||c!==1)do if(r--,c--,0>c||T[r]!==B[c]){var K=`
`+T[r].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=r&&0<=c);break}}}finally{Wi=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ls(s):""}function wn(e,t){switch(e.tag){case 26:case 27:case 5:return Ls(e.type);case 16:return Ls("Lazy");case 13:return e.child!==t&&t!==null?Ls("Suspense Fallback"):Ls("Suspense");case 19:return Ls("SuspenseList");case 0:case 15:return Ya(e.type,!1);case 11:return Ya(e.type.render,!1);case 1:return Ya(e.type,!0);case 31:return Ls("Activity");default:return""}}function Yo(e){try{var t="",s=null;do t+=wn(e,s),s=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var cl=Object.prototype.hasOwnProperty,ul=n.unstable_scheduleCallback,dl=n.unstable_cancelCallback,Yu=n.unstable_shouldYield,Xu=n.unstable_requestPaint,fs=n.unstable_now,er=n.unstable_getCurrentPriorityLevel,ca=n.unstable_ImmediatePriority,hl=n.unstable_UserBlockingPriority,tr=n.unstable_NormalPriority,Qu=n.unstable_LowPriority,xn=n.unstable_IdlePriority,jn=n.log,Sn=n.unstable_setDisableYieldValue,Aa=null,ms=null;function Xs(e){if(typeof jn=="function"&&Sn(e),ms&&typeof ms.setStrictMode=="function")try{ms.setStrictMode(Aa,e)}catch{}}var gs=Math.clz32?Math.clz32:Fu,Ju=Math.log,Zu=Math.LN2;function Fu(e){return e>>>=0,e===0?32:31-(Ju(e)/Zu|0)|0}var sr=256,ar=262144,bi=4194304;function Qs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vi(e,t,s){var r=e.pendingLanes;if(r===0)return 0;var c=0,h=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var w=r&134217727;return w!==0?(r=w&~h,r!==0?c=Qs(r):(b&=w,b!==0?c=Qs(b):s||(s=w&~e,s!==0&&(c=Qs(s))))):(w=r&~h,w!==0?c=Qs(w):b!==0?c=Qs(b):s||(s=r&~e,s!==0&&(c=Qs(s)))),c===0?0:t!==0&&t!==c&&(t&h)===0&&(h=c&-c,s=t&-t,h>=s||h===32&&(s&4194048)!==0)?t:c}function En(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Wu(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(){var e=bi;return bi<<=1,(bi&62914560)===0&&(bi=4194304),e}function fl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function yi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Nn(e,t,s,r,c,h){var b=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var w=e.entanglements,T=e.expirationTimes,B=e.hiddenUpdates;for(s=b&~s;0<s;){var K=31-gs(s),Z=1<<K;w[K]=0,T[K]=-1;var H=B[K];if(H!==null)for(B[K]=null,K=0;K<H.length;K++){var P=H[K];P!==null&&(P.lane&=-536870913)}s&=~Z}r!==0&&Tn(e,r,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(b&~t))}function Tn(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-gs(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|s&261930}function Qo(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-gs(s),c=1<<r;c&t|e[r]&t&&(e[r]|=t),s&=~c}}function Jo(e,t){var s=t&-t;return s=(s&42)!==0?1:ml(s),(s&(e.suspendedLanes|t))!==0?0:s}function ml(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function gl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zo(){var e=re.p;return e!==0?e:(e=window.event,e===void 0?32:Yg(e.type))}function nr(e,t){var s=re.p;try{return re.p=e,t()}finally{re.p=s}}var ps=Math.random().toString(36).slice(2),St="__reactFiber$"+ps,rs="__reactProps$"+ps,Oa="__reactContainer$"+ps,pl="__reactEvents$"+ps,ed="__reactListeners$"+ps,An="__reactHandles$"+ps,Pt="__reactResources$"+ps,$t="__reactMarker$"+ps;function Zt(e){delete e[St],delete e[rs],delete e[pl],delete e[ed],delete e[An]}function Et(e){var t=e[St];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Oa]||s[St]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=kg(e);e!==null;){if(s=e[St])return s;e=kg(e)}return t}e=s,s=e.parentNode}return null}function ua(e){if(e=e[St]||e[Oa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Js(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Ns(e){var t=e[Pt];return t||(t=e[Pt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ft(e){e[$t]=!0}var bl=new Set,ir={};function Ts(e,t){Xa(e,t),Xa(e+"Capture",t)}function Xa(e,t){for(ir[e]=t,e=0;e<t.length;e++)bl.add(t[e])}var vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rr={},yl={};function Fo(e){return cl.call(yl,e)?!0:cl.call(rr,e)?!1:vl.test(e)?yl[e]=!0:(rr[e]=!0,!1)}function _i(e,t,s){if(Fo(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function wi(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function Zs(e,t,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+r)}}function bs(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _l(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wo(e,t,s){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,h=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(b){s=""+b,h.call(this,b)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lr(e){if(!e._valueTracker){var t=_l(e)?"checked":"value";e._valueTracker=Wo(e,t,""+e[t])}}function wl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=_l(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ys=/[\n"\\]/g;function kt(e){return e.replace(ys,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ls(e,t,s,r,c,h,b,w){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),t!=null?b==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+bs(t)):e.value!==""+bs(t)&&(e.value=""+bs(t)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),t!=null?xi(e,b,bs(t)):s!=null?xi(e,b,bs(s)):r!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+bs(w):e.removeAttribute("name")}function or(e,t,s,r,c,h,b,w){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){lr(e);return}s=s!=null?""+bs(s):"",t=t!=null?""+bs(t):s,w||t===e.value||(e.value=t),e.defaultValue=t}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=w?e.checked:!!r,e.defaultChecked=!!r,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),lr(e)}function xi(e,t,s){t==="number"&&vs(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ft(e,t,s,r){if(e=e.options,t){t={};for(var c=0;c<s.length;c++)t["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=t.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&r&&(e[s].defaultSelected=!0)}else{for(s=""+bs(s),t=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Ca(e,t,s){if(t!=null&&(t=""+bs(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+bs(s):""}function ji(e,t,s,r){if(t==null){if(r!=null){if(s!=null)throw Error(l(92));if(is(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),t=s}s=bs(t),e.defaultValue=s,r=e.textContent,r===s&&r!==""&&r!==null&&(e.value=r),lr(e)}function $s(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var xl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jl(e,t,s){var r=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,s):typeof s!="number"||s===0||xl.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function Qa(e,t,s){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in t)r=t[c],t.hasOwnProperty(c)&&s[c]!==r&&jl(e,c,r)}else for(var h in t)t.hasOwnProperty(h)&&jl(e,h,t[h])}function Si(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),da=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cr(e){return da.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gt(){}var On=null;function ur(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fs=null,ka=null;function Cn(e){var t=ua(e);if(t&&(e=t.stateNode)){var s=e[rs]||null;e:switch(e=t.stateNode,t.type){case"input":if(ls(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+kt(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var c=r[rs]||null;if(!c)throw Error(l(90));ls(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<s.length;t++)r=s[t],r.form===e.form&&wl(r)}break e;case"textarea":Ca(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&Ft(e,!!s.multiple,t,!1)}}}var dr=!1;function Sl(e,t,s){if(dr)return e(t,s);dr=!0;try{var r=e(t);return r}finally{if(dr=!1,(Fs!==null||ka!==null)&&(tu(),Fs&&(t=Fs,e=ka,ka=Fs=null,Cn(t),e)))for(t=0;t<e.length;t++)Cn(e[t])}}function kn(e,t){var s=e.stateNode;if(s===null)return null;var r=s[rs]||null;if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,t,typeof s));return s}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),El=!1;if(os)try{var Rn={};Object.defineProperty(Rn,"passive",{get:function(){El=!0}}),window.addEventListener("test",Rn,Rn),window.removeEventListener("test",Rn,Rn)}catch{El=!1}var Ws=null,Dn=null,Un=null;function tc(){if(Un)return Un;var e,t=Dn,s=t.length,r,c="value"in Ws?Ws.value:Ws.textContent,h=c.length;for(e=0;e<s&&t[e]===c[e];e++);var b=s-e;for(r=1;r<=b&&t[s-r]===c[h-r];r++);return Un=c.slice(e,1<r?1-r:void 0)}function Ja(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hr(){return!0}function Nl(){return!1}function It(e){function t(s,r,c,h,b){this._reactName=s,this._targetInst=c,this.type=r,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(s=e[w],this[w]=s?s(h):h[w]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?hr:Nl,this.isPropagationStopped=Nl,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),t}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mn=It(ha),zn=j({},ha,{view:0,detail:0}),Ei=It(zn),Ni,fr,Ln,fa=j({},zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ln&&(Ln&&e.type==="mousemove"?(Ni=e.screenX-Ln.screenX,fr=e.screenY-Ln.screenY):fr=Ni=0,Ln=e),Ni)},movementY:function(e){return"movementY"in e?e.movementY:fr}}),sc=It(fa),ac=j({},fa,{dataTransfer:0}),nc=It(ac),ic=j({},zn,{relatedTarget:0}),mr=It(ic),rc=j({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),Tl=It(rc),lc=j({},ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),td=It(lc),sd=j({},ha,{data:0}),Al=It(sd),oc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ad={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ad[e])?!!t[e]:!1}function Ti(){return nd}var cc=j({},zn,{key:function(e){if(e.key){var t=oc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ja(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(e){return e.type==="keypress"?Ja(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ja(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uc=It(cc),Za=j({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pr=It(Za),id=j({},zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti}),dc=It(id),rd=j({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),ld=It(rd),od=j({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cd=It(od),hc=j({},ha,{newState:0,oldState:0}),fc=It(hc),ud=[9,13,27,32],Ra=os&&"CompositionEvent"in window,Bs=null;os&&"documentMode"in document&&(Bs=document.documentMode);var dd=os&&"TextEvent"in window&&!Bs,Ai=os&&(!Ra||Bs&&8<Bs&&11>=Bs),mc=" ",gc=!1;function pc(e,t){switch(e){case"keyup":return ud.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $n=!1;function hd(e,t){switch(e){case"compositionend":return bc(t);case"keypress":return t.which!==32?null:(gc=!0,mc);case"textInput":return e=t.data,e===mc&&gc?null:e;default:return null}}function fd(e,t){if($n)return e==="compositionend"||!Ra&&pc(e,t)?(e=tc(),Un=Dn=Ws=null,$n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ai&&t.locale!=="ko"?null:t.data;default:return null}}var md={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function As(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!md[e.type]:t==="textarea"}function Ol(e,t,s,r){Fs?ka?ka.push(r):ka=[r]:Fs=r,t=ou(t,"onChange"),0<t.length&&(s=new Mn("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Bn=null,qn=null;function gd(e){bg(e,0)}function br(e){var t=Js(e);if(wl(t))return e}function Cl(e,t){if(e==="change")return t}var Oi=!1;if(os){var kl;if(os){var Rl="oninput"in document;if(!Rl){var Dl=document.createElement("div");Dl.setAttribute("oninput","return;"),Rl=typeof Dl.oninput=="function"}kl=Rl}else kl=!1;Oi=kl&&(!document.documentMode||9<document.documentMode)}function vc(){Bn&&(Bn.detachEvent("onpropertychange",yc),qn=Bn=null)}function yc(e){if(e.propertyName==="value"&&br(qn)){var t=[];Ol(t,qn,e,ur(e)),Sl(gd,t)}}function _c(e,t,s){e==="focusin"?(vc(),Bn=t,qn=s,Bn.attachEvent("onpropertychange",yc)):e==="focusout"&&vc()}function wc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return br(qn)}function xc(e,t){if(e==="click")return br(t)}function vr(e,t){if(e==="input"||e==="change")return br(t)}function jc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:jc;function Kt(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var c=s[r];if(!cl.call(t,c)||!Wt(e[c],t[c]))return!1}return!0}function Sc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ec(e,t){var s=Sc(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Sc(s)}}function Ul(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ul(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ml(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=vs(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=vs(e.document)}return t}function zl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var pd=os&&"documentMode"in document&&11>=document.documentMode,Hn=null,Ll=null,Ci=null,$l=!1;function Bl(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;$l||Hn==null||Hn!==vs(r)||(r=Hn,"selectionStart"in r&&zl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ci&&Kt(Ci,r)||(Ci=r,r=ou(Ll,"onSelect"),0<r.length&&(t=new Mn("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Hn)))}function Da(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ua={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionrun:Da("Transition","TransitionRun"),transitionstart:Da("Transition","TransitionStart"),transitioncancel:Da("Transition","TransitionCancel"),transitionend:Da("Transition","TransitionEnd")},ql={},Nc={};os&&(Nc=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function _s(e){if(ql[e])return ql[e];if(!Ua[e])return e;var t=Ua[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Nc)return ql[e]=t[s];return e}var ea=_s("animationend"),Hl=_s("animationiteration"),Tc=_s("animationstart"),Ac=_s("transitionrun"),Oc=_s("transitionstart"),Cc=_s("transitioncancel"),Vl=_s("transitionend"),kc=new Map,Pl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pl.push("scrollEnd");function qs(e,t){kc.set(e,t),Ts(t,[e])}var ki=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ws=[],Vn=0,Gl=0;function yr(){for(var e=Vn,t=Gl=Vn=0;t<e;){var s=ws[t];ws[t++]=null;var r=ws[t];ws[t++]=null;var c=ws[t];ws[t++]=null;var h=ws[t];if(ws[t++]=null,r!==null&&c!==null){var b=r.pending;b===null?c.next=c:(c.next=b.next,b.next=c),r.pending=c}h!==0&&Kl(s,c,h)}}function _r(e,t,s,r){ws[Vn++]=e,ws[Vn++]=t,ws[Vn++]=s,ws[Vn++]=r,Gl|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Il(e,t,s,r){return _r(e,t,s,r),wr(e)}function es(e,t){return _r(e,null,null,t),wr(e)}function Kl(e,t,s){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s);for(var c=!1,h=e.return;h!==null;)h.childLanes|=s,r=h.alternate,r!==null&&(r.childLanes|=s),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&t!==null&&(c=31-gs(s),e=h.hiddenUpdates,r=e[c],r===null?e[c]=[t]:r.push(t),t.lane=s|536870912),h):null}function wr(e){if(50<vo)throw vo=0,th=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Pn={};function bd(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(e,t,s,r){return new bd(e,t,s,r)}function Yl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ma(e,t){var s=e.alternate;return s===null?(s=xs(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Rc(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function xr(e,t,s,r,c,h){var b=0;if(r=e,typeof e=="function")Yl(e)&&(b=1);else if(typeof e=="string")b=Tv(e,s,he.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Y:return e=xs(31,s,t,c),e.elementType=Y,e.lanes=h,e;case k:return ga(s.children,c,h,t);case D:b=8,c|=24;break;case V:return e=xs(12,s,t,c|2),e.elementType=V,e.lanes=h,e;case ae:return e=xs(13,s,t,c),e.elementType=ae,e.lanes=h,e;case se:return e=xs(19,s,t,c),e.elementType=se,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:b=10;break e;case q:b=9;break e;case W:b=11;break e;case J:b=14;break e;case Re:b=16,r=null;break e}b=29,s=Error(l(130,e===null?"null":typeof e,"")),r=null}return t=xs(b,s,t,c),t.elementType=e,t.type=r,t.lanes=h,t}function ga(e,t,s,r){return e=xs(7,e,r,t),e.lanes=s,e}function Gn(e,t,s){return e=xs(6,e,null,t),e.lanes=s,e}function Dc(e){var t=xs(18,null,null,0);return t.stateNode=e,t}function jr(e,t,s){return t=xs(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Xl=new WeakMap;function Yt(e,t){if(typeof e=="object"&&e!==null){var s=Xl.get(e);return s!==void 0?s:(t={value:e,source:t,stack:Yo(t)},Xl.set(e,t),t)}return{value:e,source:t,stack:Yo(t)}}var Ma=[],za=0,Sr=null,Ri=0,Os=[],Rt=0,La=null,ta=1,sa="";function pa(e,t){Ma[za++]=Ri,Ma[za++]=Sr,Sr=e,Ri=t}function Di(e,t,s){Os[Rt++]=ta,Os[Rt++]=sa,Os[Rt++]=La,La=e;var r=ta;e=sa;var c=32-gs(r)-1;r&=~(1<<c),s+=1;var h=32-gs(t)+c;if(30<h){var b=c-c%5;h=(r&(1<<b)-1).toString(32),r>>=b,c-=b,ta=1<<32-gs(t)+c|s<<c|r,sa=h+e}else ta=1<<h|s<<c|r,sa=e}function Ui(e){e.return!==null&&(pa(e,1),Di(e,1,0))}function Ql(e){for(;e===Sr;)Sr=Ma[--za],Ma[za]=null,Ri=Ma[--za],Ma[za]=null;for(;e===La;)La=Os[--Rt],Os[Rt]=null,sa=Os[--Rt],Os[Rt]=null,ta=Os[--Rt],Os[Rt]=null}function Jl(e,t){Os[Rt++]=ta,Os[Rt++]=sa,Os[Rt++]=La,ta=t.id,sa=t.overflow,La=e}var Bt=null,Xe=null,ze=!1,ba=null,Cs=!1,Zl=Error(l(519));function $a(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mi(Yt(t,e)),Zl}function In(e){var t=e.stateNode,s=e.type,r=e.memoizedProps;switch(t[St]=e,t[rs]=r,s){case"dialog":Be("cancel",t),Be("close",t);break;case"iframe":case"object":case"embed":Be("load",t);break;case"video":case"audio":for(s=0;s<_o.length;s++)Be(_o[s],t);break;case"source":Be("error",t);break;case"img":case"image":case"link":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"input":Be("invalid",t),or(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Be("invalid",t);break;case"textarea":Be("invalid",t),ji(t,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||r.suppressHydrationWarning===!0||wg(t.textContent,s)?(r.popover!=null&&(Be("beforetoggle",t),Be("toggle",t)),r.onScroll!=null&&Be("scroll",t),r.onScrollEnd!=null&&Be("scrollend",t),r.onClick!=null&&(t.onclick=Gt),t=!0):t=!1,t||$a(e,!0)}function Ba(e){for(Bt=e.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Cs=!1;return;case 27:case 3:Cs=!0;return;default:Bt=Bt.return}}function Kn(e){if(e!==Bt)return!1;if(!ze)return Ba(e),ze=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ph(e.type,e.memoizedProps)),s=!s),s&&Xe&&$a(e),Ba(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Xe=Cg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Xe=Cg(e)}else t===27?(t=Xe,ri(e.type)?(e=wh,wh=null,Xe=e):Xe=t):Xe=Bt?ia(e.stateNode.nextSibling):null;return!0}function Fa(){Xe=Bt=null,ze=!1}function Fl(){var e=ba;return e!==null&&(Ms===null?Ms=e:Ms.push.apply(Ms,e),ba=null),e}function Mi(e){ba===null?ba=[e]:ba.push(e)}var Wl=E(null),Wa=null,va=null;function qa(e,t,s){ce(Wl,t._currentValue),t._currentValue=s}function aa(e){e._currentValue=Wl.current,Q(Wl)}function eo(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Er(e,t,s,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var b=c.child;h=h.firstContext;e:for(;h!==null;){var w=h;h=c;for(var T=0;T<t.length;T++)if(w.context===t[T]){h.lanes|=s,w=h.alternate,w!==null&&(w.lanes|=s),eo(h.return,s,e),r||(b=null);break e}h=w.next}}else if(c.tag===18){if(b=c.return,b===null)throw Error(l(341));b.lanes|=s,h=b.alternate,h!==null&&(h.lanes|=s),eo(b,s,e),b=null}else b=c.child;if(b!==null)b.return=c;else for(b=c;b!==null;){if(b===e){b=null;break}if(c=b.sibling,c!==null){c.return=b.return,b=c;break}b=b.return}c=b}}function Ha(e,t,s,r){e=null;for(var c=t,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var b=c.alternate;if(b===null)throw Error(l(387));if(b=b.memoizedProps,b!==null){var w=c.type;Wt(c.pendingProps.value,b.value)||(e!==null?e.push(w):e=[w])}}else if(c===ge.current){if(b=c.alternate,b===null)throw Error(l(387));b.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Eo):e=[Eo])}c=c.return}e!==null&&Er(t,e,s,r),t.flags|=262144}function zi(e){for(e=e.firstContext;e!==null;){if(!Wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function js(e){Wa=e,va=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dt(e){return to(Wa,e)}function Yn(e,t){return Wa===null&&js(e),to(e,t)}function to(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},va===null){if(e===null)throw Error(l(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return s}var so=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},Uc=n.unstable_scheduleCallback,ao=n.unstable_NormalPriority,Nt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ya(){return{controller:new so,data:new Map,refCount:0}}function ks(e){e.refCount--,e.refCount===0&&Uc(ao,function(){e.controller.abort()})}var Li=null,no=0,Xn=0,Qn=null;function vd(e,t){if(Li===null){var s=Li=[];no=0,Xn=lh(),Qn={status:"pending",value:void 0,then:function(r){s.push(r)}}}return no++,t.then(Mc,Mc),t}function Mc(){if(--no===0&&Li!==null){Qn!==null&&(Qn.status="fulfilled");var e=Li;Li=null,Xn=0,Qn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function yd(e,t){var s=[],r={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var c=0;c<s.length;c++)(0,s[c])(t)},function(c){for(r.status="rejected",r.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),r}var zc=I.S;I.S=function(e,t){Im=fs(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&vd(e,t),zc!==null&&zc(e,t)};var Va=E(null);function Jn(){var e=Va.current;return e!==null?e:lt.pooledCache}function en(e,t){t===null?ce(Va,Va.current):ce(Va,t.pool)}function Lc(){var e=Jn();return e===null?null:{parent:Nt._currentValue,pool:e}}var Zn=Error(l(460)),tn=Error(l(474)),_=Error(l(542)),u={then:function(){}};function g(e){return e=e.status,e==="fulfilled"||e==="rejected"}function x(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(Gt,Gt),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,F(e),e;default:if(typeof t.status=="string")t.then(Gt,Gt);else{if(e=lt,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=r}},function(r){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,F(e),e}throw R=t,Zn}}function C(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(R=s,Zn):s}}var R=null;function G(){if(R===null)throw Error(l(459));var e=R;return R=null,e}function F(e){if(e===Zn||e===_)throw Error(l(483))}var ne=null,de=0;function fe(e){var t=de;return de+=1,ne===null&&(ne=[]),x(ne,e,t)}function oe(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ae(e,t){throw t.$$typeof===N?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function we(e){function t(M,O){if(e){var $=M.deletions;$===null?(M.deletions=[O],M.flags|=16):$.push(O)}}function s(M,O){if(!e)return null;for(;O!==null;)t(M,O),O=O.sibling;return null}function r(M){for(var O=new Map;M!==null;)M.key!==null?O.set(M.key,M):O.set(M.index,M),M=M.sibling;return O}function c(M,O){return M=ma(M,O),M.index=0,M.sibling=null,M}function h(M,O,$){return M.index=$,e?($=M.alternate,$!==null?($=$.index,$<O?(M.flags|=67108866,O):$):(M.flags|=67108866,O)):(M.flags|=1048576,O)}function b(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function w(M,O,$,X){return O===null||O.tag!==6?(O=Gn($,M.mode,X),O.return=M,O):(O=c(O,$),O.return=M,O)}function T(M,O,$,X){var ye=$.type;return ye===k?K(M,O,$.props.children,X,$.key):O!==null&&(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Re&&C(ye)===O.type)?(O=c(O,$.props),oe(O,$),O.return=M,O):(O=xr($.type,$.key,$.props,null,M.mode,X),oe(O,$),O.return=M,O)}function B(M,O,$,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==$.containerInfo||O.stateNode.implementation!==$.implementation?(O=jr($,M.mode,X),O.return=M,O):(O=c(O,$.children||[]),O.return=M,O)}function K(M,O,$,X,ye){return O===null||O.tag!==7?(O=ga($,M.mode,X,ye),O.return=M,O):(O=c(O,$),O.return=M,O)}function Z(M,O,$){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Gn(""+O,M.mode,$),O.return=M,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return $=xr(O.type,O.key,O.props,null,M.mode,$),oe($,O),$.return=M,$;case z:return O=jr(O,M.mode,$),O.return=M,O;case Re:return O=C(O),Z(M,O,$)}if(is(O)||De(O))return O=ga(O,M.mode,$,null),O.return=M,O;if(typeof O.then=="function")return Z(M,fe(O),$);if(O.$$typeof===U)return Z(M,Yn(M,O),$);Ae(M,O)}return null}function H(M,O,$,X){var ye=O!==null?O.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ye!==null?null:w(M,O,""+$,X);if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return $.key===ye?T(M,O,$,X):null;case z:return $.key===ye?B(M,O,$,X):null;case Re:return $=C($),H(M,O,$,X)}if(is($)||De($))return ye!==null?null:K(M,O,$,X,null);if(typeof $.then=="function")return H(M,O,fe($),X);if($.$$typeof===U)return H(M,O,Yn(M,$),X);Ae(M,$)}return null}function P(M,O,$,X,ye){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return M=M.get($)||null,w(O,M,""+X,ye);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return M=M.get(X.key===null?$:X.key)||null,T(O,M,X,ye);case z:return M=M.get(X.key===null?$:X.key)||null,B(O,M,X,ye);case Re:return X=C(X),P(M,O,$,X,ye)}if(is(X)||De(X))return M=M.get($)||null,K(O,M,X,ye,null);if(typeof X.then=="function")return P(M,O,$,fe(X),ye);if(X.$$typeof===U)return P(M,O,$,Yn(O,X),ye);Ae(O,X)}return null}function me(M,O,$,X){for(var ye=null,Je=null,pe=O,Ue=O=0,He=null;pe!==null&&Ue<$.length;Ue++){pe.index>Ue?(He=pe,pe=null):He=pe.sibling;var Ze=H(M,pe,$[Ue],X);if(Ze===null){pe===null&&(pe=He);break}e&&pe&&Ze.alternate===null&&t(M,pe),O=h(Ze,O,Ue),Je===null?ye=Ze:Je.sibling=Ze,Je=Ze,pe=He}if(Ue===$.length)return s(M,pe),ze&&pa(M,Ue),ye;if(pe===null){for(;Ue<$.length;Ue++)pe=Z(M,$[Ue],X),pe!==null&&(O=h(pe,O,Ue),Je===null?ye=pe:Je.sibling=pe,Je=pe);return ze&&pa(M,Ue),ye}for(pe=r(pe);Ue<$.length;Ue++)He=P(pe,M,Ue,$[Ue],X),He!==null&&(e&&He.alternate!==null&&pe.delete(He.key===null?Ue:He.key),O=h(He,O,Ue),Je===null?ye=He:Je.sibling=He,Je=He);return e&&pe.forEach(function(di){return t(M,di)}),ze&&pa(M,Ue),ye}function je(M,O,$,X){if($==null)throw Error(l(151));for(var ye=null,Je=null,pe=O,Ue=O=0,He=null,Ze=$.next();pe!==null&&!Ze.done;Ue++,Ze=$.next()){pe.index>Ue?(He=pe,pe=null):He=pe.sibling;var di=H(M,pe,Ze.value,X);if(di===null){pe===null&&(pe=He);break}e&&pe&&di.alternate===null&&t(M,pe),O=h(di,O,Ue),Je===null?ye=di:Je.sibling=di,Je=di,pe=He}if(Ze.done)return s(M,pe),ze&&pa(M,Ue),ye;if(pe===null){for(;!Ze.done;Ue++,Ze=$.next())Ze=Z(M,Ze.value,X),Ze!==null&&(O=h(Ze,O,Ue),Je===null?ye=Ze:Je.sibling=Ze,Je=Ze);return ze&&pa(M,Ue),ye}for(pe=r(pe);!Ze.done;Ue++,Ze=$.next())Ze=P(pe,M,Ue,Ze.value,X),Ze!==null&&(e&&Ze.alternate!==null&&pe.delete(Ze.key===null?Ue:Ze.key),O=h(Ze,O,Ue),Je===null?ye=Ze:Je.sibling=Ze,Je=Ze);return e&&pe.forEach(function($v){return t(M,$v)}),ze&&pa(M,Ue),ye}function rt(M,O,$,X){if(typeof $=="object"&&$!==null&&$.type===k&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case A:e:{for(var ye=$.key;O!==null;){if(O.key===ye){if(ye=$.type,ye===k){if(O.tag===7){s(M,O.sibling),X=c(O,$.props.children),X.return=M,M=X;break e}}else if(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Re&&C(ye)===O.type){s(M,O.sibling),X=c(O,$.props),oe(X,$),X.return=M,M=X;break e}s(M,O);break}else t(M,O);O=O.sibling}$.type===k?(X=ga($.props.children,M.mode,X,$.key),X.return=M,M=X):(X=xr($.type,$.key,$.props,null,M.mode,X),oe(X,$),X.return=M,M=X)}return b(M);case z:e:{for(ye=$.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===$.containerInfo&&O.stateNode.implementation===$.implementation){s(M,O.sibling),X=c(O,$.children||[]),X.return=M,M=X;break e}else{s(M,O);break}else t(M,O);O=O.sibling}X=jr($,M.mode,X),X.return=M,M=X}return b(M);case Re:return $=C($),rt(M,O,$,X)}if(is($))return me(M,O,$,X);if(De($)){if(ye=De($),typeof ye!="function")throw Error(l(150));return $=ye.call($),je(M,O,$,X)}if(typeof $.then=="function")return rt(M,O,fe($),X);if($.$$typeof===U)return rt(M,O,Yn(M,$),X);Ae(M,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,O!==null&&O.tag===6?(s(M,O.sibling),X=c(O,$),X.return=M,M=X):(s(M,O),X=Gn($,M.mode,X),X.return=M,M=X),b(M)):s(M,O)}return function(M,O,$,X){try{de=0;var ye=rt(M,O,$,X);return ne=null,ye}catch(pe){if(pe===Zn||pe===_)throw pe;var Je=xs(29,pe,null,M.mode);return Je.lanes=X,Je.return=M,Je}}}var xe=we(!0),Ne=we(!1),_e=!1;function Qe(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function We(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Te(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Me(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Fe&2)!==0){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,t=wr(e),Kl(e,null,s),t}return _r(e,r,t,s),wr(e)}function Oe(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Qo(e,s)}}function Le(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?c=h=b:h=h.next=b,s=s.next}while(s!==null);h===null?c=h=t:h=h.next=t}else c=h=t;s={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:r.shared,callbacks:r.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var Ge=!1;function Pe(){if(Ge){var e=Qn;if(e!==null)throw e}}function Ve(e,t,s,r){Ge=!1;var c=e.updateQueue;_e=!1;var h=c.firstBaseUpdate,b=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var T=w,B=T.next;T.next=null,b===null?h=B:b.next=B,b=T;var K=e.alternate;K!==null&&(K=K.updateQueue,w=K.lastBaseUpdate,w!==b&&(w===null?K.firstBaseUpdate=B:w.next=B,K.lastBaseUpdate=T))}if(h!==null){var Z=c.baseState;b=0,K=B=T=null,w=h;do{var H=w.lane&-536870913,P=H!==w.lane;if(P?(qe&H)===H:(r&H)===H){H!==0&&H===Xn&&(Ge=!0),K!==null&&(K=K.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var me=e,je=w;H=t;var rt=s;switch(je.tag){case 1:if(me=je.payload,typeof me=="function"){Z=me.call(rt,Z,H);break e}Z=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=je.payload,H=typeof me=="function"?me.call(rt,Z,H):me,H==null)break e;Z=j({},Z,H);break e;case 2:_e=!0}}H=w.callback,H!==null&&(e.flags|=64,P&&(e.flags|=8192),P=c.callbacks,P===null?c.callbacks=[H]:P.push(H))}else P={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},K===null?(B=K=P,T=Z):K=K.next=P,b|=H;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;P=w,w=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);K===null&&(T=Z),c.baseState=T,c.firstBaseUpdate=B,c.lastBaseUpdate=K,h===null&&(c.shared.lanes=0),ti|=b,e.lanes=b,e.memoizedState=Z}}function gt(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function cs(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)gt(s[e],t)}var Xt=E(null),Ut=E(0);function Ss(e,t){e=fn,ce(Ut,e),ce(Xt,t),fn=e|t.baseLanes}function us(){ce(Ut,fn),ce(Xt,Xt.current)}function ct(){fn=Ut.current,Q(Xt),Q(Ut)}var pt=E(null),wt=null;function Es(e){var t=e.alternate;ce(tt,tt.current&1),ce(pt,e),wt===null&&(t===null||Xt.current!==null||t.memoizedState!==null)&&(wt=e)}function Tt(e){ce(tt,tt.current),ce(pt,e),wt===null&&(wt=e)}function et(e){e.tag===22?(ce(tt,tt.current),ce(pt,e),wt===null&&(wt=e)):bt()}function bt(){ce(tt,tt.current),ce(pt,pt.current)}function ut(e){Q(pt),wt===e&&(wt=null),Q(tt)}var tt=E(0);function sn(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||yh(s)||_h(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=0,Ce=null,Ie=null,At=null,Nr=!1,Pa=!1,an=!1,$i=0,Bi=0,nn=null,$c=0;function vt(){throw Error(l(321))}function io(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Wt(e[s],t[s]))return!1;return!0}function _a(e,t,s,r,c,h){return na=h,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?sm:Cd,an=!1,h=s(r,c),an=!1,Pa&&(h=ro(t,s,r,c)),qi(e),h}function qi(e){I.H=oo;var t=Ie!==null&&Ie.next!==null;if(na=0,At=Ie=Ce=null,Nr=!1,Bi=0,nn=null,t)throw Error(l(300));e===null||Mt||(e=e.dependencies,e!==null&&zi(e)&&(Mt=!0))}function ro(e,t,s,r){Ce=e;var c=0;do{if(Pa&&(nn=null),Bi=0,Pa=!1,25<=c)throw Error(l(301));if(c+=1,At=Ie=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}I.H=am,h=t(s,r)}while(Pa);return h}function Bc(){var e=I.H,t=e.useState()[0];return t=typeof t.then=="function"?Vi(t):t,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(Ce.flags|=1024),t}function Hi(){var e=$i!==0;return $i=0,e}function Tr(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function Ar(e){if(Nr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Nr=!1}na=0,At=Ie=Ce=null,Pa=!1,Bi=$i=0,nn=null}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ce.memoizedState=At=e:At=At.next=e,At}function yt(){if(Ie===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=At===null?Ce.memoizedState:At.next;if(t!==null)At=t,Ie=e;else{if(e===null)throw Ce.alternate===null?Error(l(467)):Error(l(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},At===null?Ce.memoizedState=At=e:At=At.next=e}return At}function Or(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vi(e){var t=Bi;return Bi+=1,nn===null&&(nn=[]),e=x(nn,e,t),t=Ce,(At===null?t.memoizedState:At.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?sm:Cd),e}function Fn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vi(e);if(e.$$typeof===U)return Dt(e)}throw Error(l(438,String(e)))}function Cr(e){var t=null,s=Ce.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var r=Ce.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=Or(),Ce.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),r=0;r<e;r++)s[r]=le;return t.index++,s}function rn(e,t){return typeof t=="function"?t(e):t}function qc(e){var t=yt();return _d(t,Ie,e)}function _d(e,t,s){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=s;var c=e.baseQueue,h=r.pending;if(h!==null){if(c!==null){var b=c.next;c.next=h.next,h.next=b}t.baseQueue=c=h,r.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{t=c.next;var w=b=null,T=null,B=t,K=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(qe&Z)===Z:(na&Z)===Z){var H=B.revertLane;if(H===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===Xn&&(K=!0);else if((na&H)===H){B=B.next,H===Xn&&(K=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},T===null?(w=T=Z,b=h):T=T.next=Z,Ce.lanes|=H,ti|=H;Z=B.action,an&&s(h,Z),h=B.hasEagerState?B.eagerState:s(h,Z)}else H={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},T===null?(w=T=H,b=h):T=T.next=H,Ce.lanes|=Z,ti|=Z;B=B.next}while(B!==null&&B!==t);if(T===null?b=h:T.next=w,!Wt(h,e.memoizedState)&&(Mt=!0,K&&(s=Qn,s!==null)))throw s;e.memoizedState=h,e.baseState=b,e.baseQueue=T,r.lastRenderedState=h}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function wd(e){var t=yt(),s=t.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var r=s.dispatch,c=s.pending,h=t.memoizedState;if(c!==null){s.pending=null;var b=c=c.next;do h=e(h,b.action),b=b.next;while(b!==c);Wt(h,t.memoizedState)||(Mt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),s.lastRenderedState=h}return[h,r]}function xf(e,t,s){var r=Ce,c=yt(),h=ze;if(h){if(s===void 0)throw Error(l(407));s=s()}else s=t();var b=!Wt((Ie||c).memoizedState,s);if(b&&(c.memoizedState=s,Mt=!0),c=c.queue,Sd(Ef.bind(null,r,c,e),[e]),c.getSnapshot!==t||b||At!==null&&At.memoizedState.tag&1){if(r.flags|=2048,kr(9,{destroy:void 0},Sf.bind(null,r,c,s,t),null),lt===null)throw Error(l(349));h||(na&127)!==0||jf(r,t,s)}return s}function jf(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ce.updateQueue,t===null?(t=Or(),Ce.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Sf(e,t,s,r){t.value=s,t.getSnapshot=r,Nf(t)&&Tf(e)}function Ef(e,t,s){return s(function(){Nf(t)&&Tf(e)})}function Nf(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Wt(e,s)}catch{return!0}}function Tf(e){var t=es(e,2);t!==null&&zs(t,e,2)}function xd(e){var t=Qt();if(typeof e=="function"){var s=e;if(e=s(),an){Xs(!0);try{s()}finally{Xs(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:e},t}function Af(e,t,s,r){return e.baseState=s,_d(e,Ie,typeof r=="function"?r:rn)}function Cb(e,t,s,r,c){if(Pc(e))throw Error(l(485));if(e=t.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){h.listeners.push(b)}};I.T!==null?s(!0):h.isTransition=!1,r(h),s=t.pending,s===null?(h.next=t.pending=h,Of(t,h)):(h.next=s.next,t.pending=s.next=h)}}function Of(e,t){var s=t.action,r=t.payload,c=e.state;if(t.isTransition){var h=I.T,b={};I.T=b;try{var w=s(c,r),T=I.S;T!==null&&T(b,w),Cf(e,t,w)}catch(B){jd(e,t,B)}finally{h!==null&&b.types!==null&&(h.types=b.types),I.T=h}}else try{h=s(c,r),Cf(e,t,h)}catch(B){jd(e,t,B)}}function Cf(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){kf(e,t,r)},function(r){return jd(e,t,r)}):kf(e,t,s)}function kf(e,t,s){t.status="fulfilled",t.value=s,Rf(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,Of(e,s)))}function jd(e,t,s){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=s,Rf(t),t=t.next;while(t!==r)}e.action=null}function Rf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Df(e,t){return t}function Uf(e,t){if(ze){var s=lt.formState;if(s!==null){e:{var r=Ce;if(ze){if(Xe){t:{for(var c=Xe,h=Cs;c.nodeType!==8;){if(!h){c=null;break t}if(c=ia(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Xe=ia(c.nextSibling),r=c.data==="F!";break e}}$a(r)}r=!1}r&&(t=s[0])}}return s=Qt(),s.memoizedState=s.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Df,lastRenderedState:t},s.queue=r,s=Wf.bind(null,Ce,r),r.dispatch=s,r=xd(!1),h=Od.bind(null,Ce,!1,r.queue),r=Qt(),c={state:t,dispatch:null,action:e,pending:null},r.queue=c,s=Cb.bind(null,Ce,c,h,s),c.dispatch=s,r.memoizedState=e,[t,s,!1]}function Mf(e){var t=yt();return zf(t,Ie,e)}function zf(e,t,s){if(t=_d(e,t,Df)[0],e=qc(rn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Vi(t)}catch(b){throw b===Zn?_:b}else r=t;t=yt();var c=t.queue,h=c.dispatch;return s!==t.memoizedState&&(Ce.flags|=2048,kr(9,{destroy:void 0},kb.bind(null,c,s),null)),[r,h,e]}function kb(e,t){e.action=t}function Lf(e){var t=yt(),s=Ie;if(s!==null)return zf(t,s,e);yt(),t=t.memoizedState,s=yt();var r=s.queue.dispatch;return s.memoizedState=e,[t,r,!1]}function kr(e,t,s,r){return e={tag:e,create:s,deps:r,inst:t,next:null},t=Ce.updateQueue,t===null&&(t=Or(),Ce.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e),e}function $f(){return yt().memoizedState}function Hc(e,t,s,r){var c=Qt();Ce.flags|=e,c.memoizedState=kr(1|t,{destroy:void 0},s,r===void 0?null:r)}function Vc(e,t,s,r){var c=yt();r=r===void 0?null:r;var h=c.memoizedState.inst;Ie!==null&&r!==null&&io(r,Ie.memoizedState.deps)?c.memoizedState=kr(t,h,s,r):(Ce.flags|=e,c.memoizedState=kr(1|t,h,s,r))}function Bf(e,t){Hc(8390656,8,e,t)}function Sd(e,t){Vc(2048,8,e,t)}function Rb(e){Ce.flags|=4;var t=Ce.updateQueue;if(t===null)t=Or(),Ce.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function qf(e){var t=yt().memoizedState;return Rb({ref:t,nextImpl:e}),function(){if((Fe&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Hf(e,t){return Vc(4,2,e,t)}function Vf(e,t){return Vc(4,4,e,t)}function Pf(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gf(e,t,s){s=s!=null?s.concat([e]):null,Vc(4,4,Pf.bind(null,t,e),s)}function Ed(){}function If(e,t){var s=yt();t=t===void 0?null:t;var r=s.memoizedState;return t!==null&&io(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function Kf(e,t){var s=yt();t=t===void 0?null:t;var r=s.memoizedState;if(t!==null&&io(t,r[1]))return r[0];if(r=e(),an){Xs(!0);try{e()}finally{Xs(!1)}}return s.memoizedState=[r,t],r}function Nd(e,t,s){return s===void 0||(na&1073741824)!==0&&(qe&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=Ym(),Ce.lanes|=e,ti|=e,s)}function Yf(e,t,s,r){return Wt(s,t)?s:Xt.current!==null?(e=Nd(e,s,r),Wt(e,t)||(Mt=!0),e):(na&42)===0||(na&1073741824)!==0&&(qe&261930)===0?(Mt=!0,e.memoizedState=s):(e=Ym(),Ce.lanes|=e,ti|=e,t)}function Xf(e,t,s,r,c){var h=re.p;re.p=h!==0&&8>h?h:8;var b=I.T,w={};I.T=w,Od(e,!1,t,s);try{var T=c(),B=I.S;if(B!==null&&B(w,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var K=yd(T,r);lo(e,t,K,Ps(e))}else lo(e,t,r,Ps(e))}catch(Z){lo(e,t,{then:function(){},status:"rejected",reason:Z},Ps())}finally{re.p=h,b!==null&&w.types!==null&&(b.types=w.types),I.T=b}}function Db(){}function Td(e,t,s,r){if(e.tag!==5)throw Error(l(476));var c=Qf(e).queue;Xf(e,c,t,ve,s===null?Db:function(){return Jf(e),s(r)})}function Qf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:ve},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Jf(e){var t=Qf(e);t.next===null&&(t=e.alternate.memoizedState),lo(e,t.next.queue,{},Ps())}function Ad(){return Dt(Eo)}function Zf(){return yt().memoizedState}function Ff(){return yt().memoizedState}function Ub(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=Ps();e=Te(s);var r=Me(t,e,s);r!==null&&(zs(r,t,s),Oe(r,t,s)),t={cache:ya()},e.payload=t;return}t=t.return}}function Mb(e,t,s){var r=Ps();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Pc(e)?em(t,s):(s=Il(e,t,s,r),s!==null&&(zs(s,e,r),tm(s,t,r)))}function Wf(e,t,s){var r=Ps();lo(e,t,s,r)}function lo(e,t,s,r){var c={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Pc(e))em(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var b=t.lastRenderedState,w=h(b,s);if(c.hasEagerState=!0,c.eagerState=w,Wt(w,b))return _r(e,t,c,0),lt===null&&yr(),!1}catch{}if(s=Il(e,t,c,r),s!==null)return zs(s,e,r),tm(s,t,r),!0}return!1}function Od(e,t,s,r){if(r={lane:2,revertLane:lh(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Pc(e)){if(t)throw Error(l(479))}else t=Il(e,s,r,2),t!==null&&zs(t,e,2)}function Pc(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function em(e,t){Pa=Nr=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function tm(e,t,s){if((s&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Qo(e,s)}}var oo={readContext:Dt,use:Fn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};oo.useEffectEvent=vt;var sm={readContext:Dt,use:Fn,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:Bf,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,Hc(4194308,4,Pf.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Hc(4194308,4,e,t)},useInsertionEffect:function(e,t){Hc(4,2,e,t)},useMemo:function(e,t){var s=Qt();t=t===void 0?null:t;var r=e();if(an){Xs(!0);try{e()}finally{Xs(!1)}}return s.memoizedState=[r,t],r},useReducer:function(e,t,s){var r=Qt();if(s!==void 0){var c=s(t);if(an){Xs(!0);try{s(t)}finally{Xs(!1)}}}else c=t;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=Mb.bind(null,Ce,e),[r.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:function(e){e=xd(e);var t=e.queue,s=Wf.bind(null,Ce,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:Ed,useDeferredValue:function(e,t){var s=Qt();return Nd(s,e,t)},useTransition:function(){var e=xd(!1);return e=Xf.bind(null,Ce,e.queue,!0,!1),Qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var r=Ce,c=Qt();if(ze){if(s===void 0)throw Error(l(407));s=s()}else{if(s=t(),lt===null)throw Error(l(349));(qe&127)!==0||jf(r,t,s)}c.memoizedState=s;var h={value:s,getSnapshot:t};return c.queue=h,Bf(Ef.bind(null,r,h,e),[e]),r.flags|=2048,kr(9,{destroy:void 0},Sf.bind(null,r,h,s,t),null),s},useId:function(){var e=Qt(),t=lt.identifierPrefix;if(ze){var s=sa,r=ta;s=(r&~(1<<32-gs(r)-1)).toString(32)+s,t="_"+t+"R_"+s,s=$i++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=$c++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ad,useFormState:Uf,useActionState:Uf,useOptimistic:function(e){var t=Qt();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Od.bind(null,Ce,!0,s),s.dispatch=t,[e,t]},useMemoCache:Cr,useCacheRefresh:function(){return Qt().memoizedState=Ub.bind(null,Ce)},useEffectEvent:function(e){var t=Qt(),s={impl:e};return t.memoizedState=s,function(){if((Fe&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},Cd={readContext:Dt,use:Fn,useCallback:If,useContext:Dt,useEffect:Sd,useImperativeHandle:Gf,useInsertionEffect:Hf,useLayoutEffect:Vf,useMemo:Kf,useReducer:qc,useRef:$f,useState:function(){return qc(rn)},useDebugValue:Ed,useDeferredValue:function(e,t){var s=yt();return Yf(s,Ie.memoizedState,e,t)},useTransition:function(){var e=qc(rn)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:Vi(e),t]},useSyncExternalStore:xf,useId:Zf,useHostTransitionStatus:Ad,useFormState:Mf,useActionState:Mf,useOptimistic:function(e,t){var s=yt();return Af(s,Ie,e,t)},useMemoCache:Cr,useCacheRefresh:Ff};Cd.useEffectEvent=qf;var am={readContext:Dt,use:Fn,useCallback:If,useContext:Dt,useEffect:Sd,useImperativeHandle:Gf,useInsertionEffect:Hf,useLayoutEffect:Vf,useMemo:Kf,useReducer:wd,useRef:$f,useState:function(){return wd(rn)},useDebugValue:Ed,useDeferredValue:function(e,t){var s=yt();return Ie===null?Nd(s,e,t):Yf(s,Ie.memoizedState,e,t)},useTransition:function(){var e=wd(rn)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:Vi(e),t]},useSyncExternalStore:xf,useId:Zf,useHostTransitionStatus:Ad,useFormState:Lf,useActionState:Lf,useOptimistic:function(e,t){var s=yt();return Ie!==null?Af(s,Ie,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Cr,useCacheRefresh:Ff};am.useEffectEvent=qf;function kd(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:j({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Rd={enqueueSetState:function(e,t,s){e=e._reactInternals;var r=Ps(),c=Te(r);c.payload=t,s!=null&&(c.callback=s),t=Me(e,c,r),t!==null&&(zs(t,e,r),Oe(t,e,r))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=Ps(),c=Te(r);c.tag=1,c.payload=t,s!=null&&(c.callback=s),t=Me(e,c,r),t!==null&&(zs(t,e,r),Oe(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ps(),r=Te(s);r.tag=2,t!=null&&(r.callback=t),t=Me(e,r,s),t!==null&&(zs(t,e,s),Oe(t,e,s))}};function nm(e,t,s,r,c,h,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,h,b):t.prototype&&t.prototype.isPureReactComponent?!Kt(s,r)||!Kt(c,h):!0}function im(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&Rd.enqueueReplaceState(t,t.state,null)}function Pi(e,t){var s=t;if("ref"in t){s={};for(var r in t)r!=="ref"&&(s[r]=t[r])}if(e=e.defaultProps){s===t&&(s=j({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function rm(e){ki(e)}function lm(e){console.error(e)}function om(e){ki(e)}function Gc(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function cm(e,t,s){try{var r=e.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Dd(e,t,s){return s=Te(s),s.tag=3,s.payload={element:null},s.callback=function(){Gc(e,t)},s}function um(e){return e=Te(e),e.tag=3,e}function dm(e,t,s,r){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var h=r.value;e.payload=function(){return c(h)},e.callback=function(){cm(t,s,r)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){cm(t,s,r),typeof c!="function"&&(si===null?si=new Set([this]):si.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})})}function zb(e,t,s,r,c){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=s.alternate,t!==null&&Ha(t,s,c,!0),s=pt.current,s!==null){switch(s.tag){case 31:case 13:return wt===null?su():s.alternate===null&&Ot===0&&(Ot=3),s.flags&=-257,s.flags|=65536,s.lanes=c,r===u?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([r]):t.add(r),nh(e,r,c)),!1;case 22:return s.flags|=65536,r===u?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([r]):s.add(r)),nh(e,r,c)),!1}throw Error(l(435,s.tag))}return nh(e,r,c),su(),!1}if(ze)return t=pt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,r!==Zl&&(e=Error(l(422),{cause:r}),Mi(Yt(e,s)))):(r!==Zl&&(t=Error(l(423),{cause:r}),Mi(Yt(t,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=Yt(r,s),c=Dd(e.stateNode,r,c),Le(e,c),Ot!==4&&(Ot=2)),!1;var h=Error(l(520),{cause:r});if(h=Yt(h,s),bo===null?bo=[h]:bo.push(h),Ot!==4&&(Ot=2),t===null)return!0;r=Yt(r,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=Dd(s.stateNode,r,e),Le(s,e),!1;case 1:if(t=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(si===null||!si.has(h))))return s.flags|=65536,c&=-c,s.lanes|=c,c=um(c),dm(c,e,s,r),Le(s,c),!1}s=s.return}while(s!==null);return!1}var Ud=Error(l(461)),Mt=!1;function ts(e,t,s,r){t.child=e===null?Ne(t,null,s,r):xe(t,e.child,s,r)}function hm(e,t,s,r,c){s=s.render;var h=t.ref;if("ref"in r){var b={};for(var w in r)w!=="ref"&&(b[w]=r[w])}else b=r;return js(t),r=_a(e,t,s,b,h,c),w=Hi(),e!==null&&!Mt?(Tr(e,t,c),ln(e,t,c)):(ze&&w&&Ui(t),t.flags|=1,ts(e,t,r,c),t.child)}function fm(e,t,s,r,c){if(e===null){var h=s.type;return typeof h=="function"&&!Yl(h)&&h.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=h,mm(e,t,h,r,c)):(e=xr(s.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!Vd(e,c)){var b=h.memoizedProps;if(s=s.compare,s=s!==null?s:Kt,s(b,r)&&e.ref===t.ref)return ln(e,t,c)}return t.flags|=1,e=ma(h,r),e.ref=t.ref,e.return=t,t.child=e}function mm(e,t,s,r,c){if(e!==null){var h=e.memoizedProps;if(Kt(h,r)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=r=h,Vd(e,c))(e.flags&131072)!==0&&(Mt=!0);else return t.lanes=e.lanes,ln(e,t,c)}return Md(e,t,s,r,c)}function gm(e,t,s,r){var c=r.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|s:s,e!==null){for(r=t.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~h}else r=0,t.child=null;return pm(e,t,h,s,r)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&en(t,h!==null?h.cachePool:null),h!==null?Ss(t,h):us(),et(t);else return r=t.lanes=536870912,pm(e,t,h!==null?h.baseLanes|s:s,s,r)}else h!==null?(en(t,h.cachePool),Ss(t,h),bt(),t.memoizedState=null):(e!==null&&en(t,null),us(),bt());return ts(e,t,c,s),t.child}function co(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function pm(e,t,s,r,c){var h=Jn();return h=h===null?null:{parent:Nt._currentValue,pool:h},t.memoizedState={baseLanes:s,cachePool:h},e!==null&&en(t,null),us(),et(t),e!==null&&Ha(e,t,r,!0),t.childLanes=c,null}function Ic(e,t){return t=Yc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function bm(e,t,s){return xe(t,e.child,null,s),e=Ic(t,t.pendingProps),e.flags|=2,ut(t),t.memoizedState=null,e}function Lb(e,t,s){var r=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ze){if(r.mode==="hidden")return e=Ic(t,r),t.lanes=536870912,co(null,e);if(Tt(t),(e=Xe)?(e=Og(e,Cs),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:La!==null?{id:ta,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},s=Dc(e),s.return=t,t.child=s,Bt=t,Xe=null)):e=null,e===null)throw $a(t);return t.lanes=536870912,null}return Ic(t,r)}var h=e.memoizedState;if(h!==null){var b=h.dehydrated;if(Tt(t),c)if(t.flags&256)t.flags&=-257,t=bm(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Mt||Ha(e,t,s,!1),c=(s&e.childLanes)!==0,Mt||c){if(r=lt,r!==null&&(b=Jo(r,s),b!==0&&b!==h.retryLane))throw h.retryLane=b,es(e,b),zs(r,e,b),Ud;su(),t=bm(e,t,s)}else e=h.treeContext,Xe=ia(b.nextSibling),Bt=t,ze=!0,ba=null,Cs=!1,e!==null&&Jl(t,e),t=Ic(t,r),t.flags|=4096;return t}return e=ma(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Kc(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function Md(e,t,s,r,c){return js(t),s=_a(e,t,s,r,void 0,c),r=Hi(),e!==null&&!Mt?(Tr(e,t,c),ln(e,t,c)):(ze&&r&&Ui(t),t.flags|=1,ts(e,t,s,c),t.child)}function vm(e,t,s,r,c,h){return js(t),t.updateQueue=null,s=ro(t,r,s,c),qi(e),r=Hi(),e!==null&&!Mt?(Tr(e,t,h),ln(e,t,h)):(ze&&r&&Ui(t),t.flags|=1,ts(e,t,s,h),t.child)}function ym(e,t,s,r,c){if(js(t),t.stateNode===null){var h=Pn,b=s.contextType;typeof b=="object"&&b!==null&&(h=Dt(b)),h=new s(r,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Rd,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=r,h.state=t.memoizedState,h.refs={},Qe(t),b=s.contextType,h.context=typeof b=="object"&&b!==null?Dt(b):Pn,h.state=t.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(kd(t,s,b,r),h.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(b=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),b!==h.state&&Rd.enqueueReplaceState(h,h.state,null),Ve(t,r,h,c),Pe(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){h=t.stateNode;var w=t.memoizedProps,T=Pi(s,w);h.props=T;var B=h.context,K=s.contextType;b=Pn,typeof K=="object"&&K!==null&&(b=Dt(K));var Z=s.getDerivedStateFromProps;K=typeof Z=="function"||typeof h.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,K||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w||B!==b)&&im(t,h,r,b),_e=!1;var H=t.memoizedState;h.state=H,Ve(t,r,h,c),Pe(),B=t.memoizedState,w||H!==B||_e?(typeof Z=="function"&&(kd(t,s,Z,r),B=t.memoizedState),(T=_e||nm(t,s,T,r,H,B,b))?(K||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=B),h.props=r,h.state=B,h.context=b,r=T):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{h=t.stateNode,We(e,t),b=t.memoizedProps,K=Pi(s,b),h.props=K,Z=t.pendingProps,H=h.context,B=s.contextType,T=Pn,typeof B=="object"&&B!==null&&(T=Dt(B)),w=s.getDerivedStateFromProps,(B=typeof w=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==Z||H!==T)&&im(t,h,r,T),_e=!1,H=t.memoizedState,h.state=H,Ve(t,r,h,c),Pe();var P=t.memoizedState;b!==Z||H!==P||_e||e!==null&&e.dependencies!==null&&zi(e.dependencies)?(typeof w=="function"&&(kd(t,s,w,r),P=t.memoizedState),(K=_e||nm(t,s,K,r,H,P,T)||e!==null&&e.dependencies!==null&&zi(e.dependencies))?(B||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,P,T),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,P,T)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=P),h.props=r,h.state=P,h.context=T,r=K):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),r=!1)}return h=r,Kc(e,t),r=(t.flags&128)!==0,h||r?(h=t.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&r?(t.child=xe(t,e.child,null,c),t.child=xe(t,null,s,c)):ts(e,t,s,c),t.memoizedState=h.state,e=t.child):e=ln(e,t,c),e}function _m(e,t,s,r){return Fa(),t.flags|=256,ts(e,t,s,r),t.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ld(e){return{baseLanes:e,cachePool:Lc()}}function $d(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=Vs),e}function wm(e,t,s){var r=t.pendingProps,c=!1,h=(t.flags&128)!==0,b;if((b=h)||(b=e!==null&&e.memoizedState===null?!1:(tt.current&2)!==0),b&&(c=!0,t.flags&=-129),b=(t.flags&32)!==0,t.flags&=-33,e===null){if(ze){if(c?Es(t):bt(),(e=Xe)?(e=Og(e,Cs),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:La!==null?{id:ta,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},s=Dc(e),s.return=t,t.child=s,Bt=t,Xe=null)):e=null,e===null)throw $a(t);return _h(e)?t.lanes=32:t.lanes=536870912,null}var w=r.children;return r=r.fallback,c?(bt(),c=t.mode,w=Yc({mode:"hidden",children:w},c),r=ga(r,c,s,null),w.return=t,r.return=t,w.sibling=r,t.child=w,r=t.child,r.memoizedState=Ld(s),r.childLanes=$d(e,b,s),t.memoizedState=zd,co(null,r)):(Es(t),Bd(t,w))}var T=e.memoizedState;if(T!==null&&(w=T.dehydrated,w!==null)){if(h)t.flags&256?(Es(t),t.flags&=-257,t=qd(e,t,s)):t.memoizedState!==null?(bt(),t.child=e.child,t.flags|=128,t=null):(bt(),w=r.fallback,c=t.mode,r=Yc({mode:"visible",children:r.children},c),w=ga(w,c,s,null),w.flags|=2,r.return=t,w.return=t,r.sibling=w,t.child=r,xe(t,e.child,null,s),r=t.child,r.memoizedState=Ld(s),r.childLanes=$d(e,b,s),t.memoizedState=zd,t=co(null,r));else if(Es(t),_h(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var B=b.dgst;b=B,r=Error(l(419)),r.stack="",r.digest=b,Mi({value:r,source:null,stack:null}),t=qd(e,t,s)}else if(Mt||Ha(e,t,s,!1),b=(s&e.childLanes)!==0,Mt||b){if(b=lt,b!==null&&(r=Jo(b,s),r!==0&&r!==T.retryLane))throw T.retryLane=r,es(e,r),zs(b,e,r),Ud;yh(w)||su(),t=qd(e,t,s)}else yh(w)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Xe=ia(w.nextSibling),Bt=t,ze=!0,ba=null,Cs=!1,e!==null&&Jl(t,e),t=Bd(t,r.children),t.flags|=4096);return t}return c?(bt(),w=r.fallback,c=t.mode,T=e.child,B=T.sibling,r=ma(T,{mode:"hidden",children:r.children}),r.subtreeFlags=T.subtreeFlags&65011712,B!==null?w=ma(B,w):(w=ga(w,c,s,null),w.flags|=2),w.return=t,r.return=t,r.sibling=w,t.child=r,co(null,r),r=t.child,w=e.child.memoizedState,w===null?w=Ld(s):(c=w.cachePool,c!==null?(T=Nt._currentValue,c=c.parent!==T?{parent:T,pool:T}:c):c=Lc(),w={baseLanes:w.baseLanes|s,cachePool:c}),r.memoizedState=w,r.childLanes=$d(e,b,s),t.memoizedState=zd,co(e.child,r)):(Es(t),s=e.child,e=s.sibling,s=ma(s,{mode:"visible",children:r.children}),s.return=t,s.sibling=null,e!==null&&(b=t.deletions,b===null?(t.deletions=[e],t.flags|=16):b.push(e)),t.child=s,t.memoizedState=null,s)}function Bd(e,t){return t=Yc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Yc(e,t){return e=xs(22,e,null,t),e.lanes=0,e}function qd(e,t,s){return xe(t,e.child,null,s),e=Bd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xm(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),eo(e.return,t,s)}function Hd(e,t,s,r,c,h){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:c,treeForkCount:h}:(b.isBackwards=t,b.rendering=null,b.renderingStartTime=0,b.last=r,b.tail=s,b.tailMode=c,b.treeForkCount=h)}function jm(e,t,s){var r=t.pendingProps,c=r.revealOrder,h=r.tail;r=r.children;var b=tt.current,w=(b&2)!==0;if(w?(b=b&1|2,t.flags|=128):b&=1,ce(tt,b),ts(e,t,r,s),r=ze?Ri:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xm(e,s,t);else if(e.tag===19)xm(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=t.child,c=null;s!==null;)e=s.alternate,e!==null&&sn(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=t.child,t.child=null):(c=s.sibling,s.sibling=null),Hd(t,!1,c,s,h,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&sn(e)===null){t.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Hd(t,!0,s,null,h,r);break;case"together":Hd(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ln(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),ti|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(Ha(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,s=ma(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=ma(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Vd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&zi(e)))}function $b(e,t,s){switch(t.tag){case 3:ht(t,t.stateNode.containerInfo),qa(t,Nt,e.memoizedState.cache),Fa();break;case 27:case 5:Ta(t);break;case 4:ht(t,t.stateNode.containerInfo);break;case 10:qa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Tt(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Es(t),t.flags|=128,null):(s&t.child.childLanes)!==0?wm(e,t,s):(Es(t),e=ln(e,t,s),e!==null?e.sibling:null);Es(t);break;case 19:var c=(e.flags&128)!==0;if(r=(s&t.childLanes)!==0,r||(Ha(e,t,s,!1),r=(s&t.childLanes)!==0),c){if(r)return jm(e,t,s);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ce(tt,tt.current),r)break;return null;case 22:return t.lanes=0,gm(e,t,s,t.pendingProps);case 24:qa(t,Nt,e.memoizedState.cache)}return ln(e,t,s)}function Sm(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)Mt=!0;else{if(!Vd(e,s)&&(t.flags&128)===0)return Mt=!1,$b(e,t,s);Mt=(e.flags&131072)!==0}else Mt=!1,ze&&(t.flags&1048576)!==0&&Di(t,Ri,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=C(t.elementType),t.type=e,typeof e=="function")Yl(e)?(r=Pi(e,r),t.tag=1,t=ym(null,t,e,r,s)):(t.tag=0,t=Md(null,t,e,r,s));else{if(e!=null){var c=e.$$typeof;if(c===W){t.tag=11,t=hm(null,t,e,r,s);break e}else if(c===J){t.tag=14,t=fm(null,t,e,r,s);break e}}throw t=hs(e)||e,Error(l(306,t,""))}}return t;case 0:return Md(e,t,t.type,t.pendingProps,s);case 1:return r=t.type,c=Pi(r,t.pendingProps),ym(e,t,r,c,s);case 3:e:{if(ht(t,t.stateNode.containerInfo),e===null)throw Error(l(387));r=t.pendingProps;var h=t.memoizedState;c=h.element,We(e,t),Ve(t,r,null,s);var b=t.memoizedState;if(r=b.cache,qa(t,Nt,r),r!==h.cache&&Er(t,[Nt],s,!0),Pe(),r=b.element,h.isDehydrated)if(h={element:r,isDehydrated:!1,cache:b.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=_m(e,t,r,s);break e}else if(r!==c){c=Yt(Error(l(424)),t),Mi(c),t=_m(e,t,r,s);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Xe=ia(e.firstChild),Bt=t,ze=!0,ba=null,Cs=!0,s=Ne(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Fa(),r===c){t=ln(e,t,s);break e}ts(e,t,r,s)}t=t.child}return t;case 26:return Kc(e,t),e===null?(s=Mg(t.type,null,t.pendingProps,null))?t.memoizedState=s:ze||(s=t.type,e=t.pendingProps,r=cu(ie.current).createElement(s),r[St]=t,r[rs]=e,ss(r,s,e),ft(r),t.stateNode=r):t.memoizedState=Mg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ta(t),e===null&&ze&&(r=t.stateNode=Rg(t.type,t.pendingProps,ie.current),Bt=t,Cs=!0,c=Xe,ri(t.type)?(wh=c,Xe=ia(r.firstChild)):Xe=c),ts(e,t,t.pendingProps.children,s),Kc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ze&&((c=r=Xe)&&(r=mv(r,t.type,t.pendingProps,Cs),r!==null?(t.stateNode=r,Bt=t,Xe=ia(r.firstChild),Cs=!1,c=!0):c=!1),c||$a(t)),Ta(t),c=t.type,h=t.pendingProps,b=e!==null?e.memoizedProps:null,r=h.children,ph(c,h)?r=null:b!==null&&ph(c,b)&&(t.flags|=32),t.memoizedState!==null&&(c=_a(e,t,Bc,null,null,s),Eo._currentValue=c),Kc(e,t),ts(e,t,r,s),t.child;case 6:return e===null&&ze&&((e=s=Xe)&&(s=gv(s,t.pendingProps,Cs),s!==null?(t.stateNode=s,Bt=t,Xe=null,e=!0):e=!1),e||$a(t)),null;case 13:return wm(e,t,s);case 4:return ht(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xe(t,null,r,s):ts(e,t,r,s),t.child;case 11:return hm(e,t,t.type,t.pendingProps,s);case 7:return ts(e,t,t.pendingProps,s),t.child;case 8:return ts(e,t,t.pendingProps.children,s),t.child;case 12:return ts(e,t,t.pendingProps.children,s),t.child;case 10:return r=t.pendingProps,qa(t,t.type,r.value),ts(e,t,r.children,s),t.child;case 9:return c=t.type._context,r=t.pendingProps.children,js(t),c=Dt(c),r=r(c),t.flags|=1,ts(e,t,r,s),t.child;case 14:return fm(e,t,t.type,t.pendingProps,s);case 15:return mm(e,t,t.type,t.pendingProps,s);case 19:return jm(e,t,s);case 31:return Lb(e,t,s);case 22:return gm(e,t,s,t.pendingProps);case 24:return js(t),r=Dt(Nt),e===null?(c=Jn(),c===null&&(c=lt,h=ya(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=s),c=h),t.memoizedState={parent:r,cache:c},Qe(t),qa(t,Nt,c)):((e.lanes&s)!==0&&(We(e,t),Ve(t,null,null,s),Pe()),c=e.memoizedState,h=t.memoizedState,c.parent!==r?(c={parent:r,cache:r},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),qa(t,Nt,r)):(r=h.cache,qa(t,Nt,r),r!==c.cache&&Er(t,[Nt],s,!0))),ts(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function on(e){e.flags|=4}function Pd(e,t,s,r,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Zm())e.flags|=8192;else throw R=u,tn}else e.flags&=-16777217}function Em(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!qg(t))if(Zm())e.flags|=8192;else throw R=u,tn}function Xc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Xo():536870912,e.lanes|=t,Mr|=t)}function uo(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function Bb(e,t,s){var r=t.pendingProps;switch(Ql(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(t),null;case 1:return mt(t),null;case 3:return s=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),aa(Nt),ue(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Kn(t)?on(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Fl())),mt(t),null;case 26:var c=t.type,h=t.memoizedState;return e===null?(on(t),h!==null?(mt(t),Em(t,h)):(mt(t),Pd(t,c,null,r,s))):h?h!==e.memoizedState?(on(t),mt(t),Em(t,h)):(mt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&on(t),mt(t),Pd(t,c,e,r,s)),null;case 27:if(pi(t),s=ie.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&on(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return mt(t),null}e=he.current,Kn(t)?In(t):(e=Rg(c,r,s),t.stateNode=e,on(t))}return mt(t),null;case 5:if(pi(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&on(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return mt(t),null}if(h=he.current,Kn(t))In(t);else{var b=cu(ie.current);switch(h){case 1:h=b.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=b.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=b.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=b.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=b.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof r.is=="string"?b.createElement("select",{is:r.is}):b.createElement("select"),r.multiple?h.multiple=!0:r.size&&(h.size=r.size);break;default:h=typeof r.is=="string"?b.createElement(c,{is:r.is}):b.createElement(c)}}h[St]=t,h[rs]=r;e:for(b=t.child;b!==null;){if(b.tag===5||b.tag===6)h.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===t)break e;for(;b.sibling===null;){if(b.return===null||b.return===t)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}t.stateNode=h;e:switch(ss(h,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&on(t)}}return mt(t),Pd(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&on(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(e=ie.current,Kn(t)){if(e=t.stateNode,s=t.memoizedProps,r=null,c=Bt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[St]=t,e=!!(e.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||wg(e.nodeValue,s)),e||$a(t,!0)}else e=cu(e).createTextNode(r),e[St]=t,t.stateNode=e}return mt(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(r=Kn(t),s!==null){if(e===null){if(!r)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[St]=t}else Fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;mt(t),e=!1}else s=Fl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(ut(t),t):(ut(t),null);if((t.flags&128)!==0)throw Error(l(558))}return mt(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Kn(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[St]=t}else Fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;mt(t),c=!1}else c=Fl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(ut(t),t):(ut(t),null)}return ut(t),(t.flags&128)!==0?(t.lanes=s,t):(s=r!==null,e=e!==null&&e.memoizedState!==null,s&&(r=t.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==c&&(r.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),Xc(t,t.updateQueue),mt(t),null);case 4:return ue(),e===null&&dh(t.stateNode.containerInfo),mt(t),null;case 10:return aa(t.type),mt(t),null;case 19:if(Q(tt),r=t.memoizedState,r===null)return mt(t),null;if(c=(t.flags&128)!==0,h=r.rendering,h===null)if(c)uo(r,!1);else{if(Ot!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=sn(e),h!==null){for(t.flags|=128,uo(r,!1),e=h.updateQueue,t.updateQueue=e,Xc(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)Rc(s,e),s=s.sibling;return ce(tt,tt.current&1|2),ze&&pa(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&fs()>Wc&&(t.flags|=128,c=!0,uo(r,!1),t.lanes=4194304)}else{if(!c)if(e=sn(h),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Xc(t,e),uo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!h.alternate&&!ze)return mt(t),null}else 2*fs()-r.renderingStartTime>Wc&&s!==536870912&&(t.flags|=128,c=!0,uo(r,!1),t.lanes=4194304);r.isBackwards?(h.sibling=t.child,t.child=h):(e=r.last,e!==null?e.sibling=h:t.child=h,r.last=h)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=fs(),e.sibling=null,s=tt.current,ce(tt,c?s&1|2:s&1),ze&&pa(t,r.treeForkCount),e):(mt(t),null);case 22:case 23:return ut(t),ct(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(s&536870912)!==0&&(t.flags&128)===0&&(mt(t),t.subtreeFlags&6&&(t.flags|=8192)):mt(t),s=t.updateQueue,s!==null&&Xc(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==s&&(t.flags|=2048),e!==null&&Q(Va),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),aa(Nt),mt(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function qb(e,t){switch(Ql(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return aa(Nt),ue(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return pi(t),null;case 31:if(t.memoizedState!==null){if(ut(t),t.alternate===null)throw Error(l(340));Fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ut(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(tt),null;case 4:return ue(),null;case 10:return aa(t.type),null;case 22:case 23:return ut(t),ct(),e!==null&&Q(Va),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return aa(Nt),null;case 25:return null;default:return null}}function Nm(e,t){switch(Ql(t),t.tag){case 3:aa(Nt),ue();break;case 26:case 27:case 5:pi(t);break;case 4:ue();break;case 31:t.memoizedState!==null&&ut(t);break;case 13:ut(t);break;case 19:Q(tt);break;case 10:aa(t.type);break;case 22:case 23:ut(t),ct(),e!==null&&Q(Va);break;case 24:aa(Nt)}}function ho(e,t){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var c=r.next;s=c;do{if((s.tag&e)===e){r=void 0;var h=s.create,b=s.inst;r=h(),b.destroy=r}s=s.next}while(s!==c)}}catch(w){at(t,t.return,w)}}function Wn(e,t,s){try{var r=t.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var h=c.next;r=h;do{if((r.tag&e)===e){var b=r.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,c=t;var T=s,B=w;try{B()}catch(K){at(c,T,K)}}}r=r.next}while(r!==h)}}catch(K){at(t,t.return,K)}}function Tm(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{cs(t,s)}catch(r){at(e,e.return,r)}}}function Am(e,t,s){s.props=Pi(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(r){at(e,t,r)}}function fo(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof s=="function"?e.refCleanup=s(r):s.current=r}}catch(c){at(e,t,c)}}function Ga(e,t){var s=e.ref,r=e.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(c){at(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){at(e,t,c)}else s.current=null}function Om(e){var t=e.type,s=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(c){at(e,e.return,c)}}function Gd(e,t,s){try{var r=e.stateNode;ov(r,e.type,s,t),r[rs]=t}catch(c){at(e,e.return,c)}}function Cm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ri(e.type)||e.tag===4}function Id(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ri(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kd(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Gt));else if(r!==4&&(r===27&&ri(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(Kd(e,t,s),e=e.sibling;e!==null;)Kd(e,t,s),e=e.sibling}function Qc(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(r===27&&ri(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Qc(e,t,s),e=e.sibling;e!==null;)Qc(e,t,s),e=e.sibling}function km(e){var t=e.stateNode,s=e.memoizedProps;try{for(var r=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);ss(t,r,s),t[St]=e,t[rs]=s}catch(h){at(e,e.return,h)}}var cn=!1,zt=!1,Yd=!1,Rm=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function Hb(e,t){if(e=e.containerInfo,mh=pu,e=Ml(e),zl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var c=r.anchorOffset,h=r.focusNode;r=r.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var b=0,w=-1,T=-1,B=0,K=0,Z=e,H=null;t:for(;;){for(var P;Z!==s||c!==0&&Z.nodeType!==3||(w=b+c),Z!==h||r!==0&&Z.nodeType!==3||(T=b+r),Z.nodeType===3&&(b+=Z.nodeValue.length),(P=Z.firstChild)!==null;)H=Z,Z=P;for(;;){if(Z===e)break t;if(H===s&&++B===c&&(w=b),H===h&&++K===r&&(T=b),(P=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=P}s=w===-1||T===-1?null:{start:w,end:T}}else s=null}s=s||{start:0,end:0}}else s=null;for(gh={focusedElem:e,selectionRange:s},pu=!1,Jt=t;Jt!==null;)if(t=Jt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Jt=e;else for(;Jt!==null;){switch(t=Jt,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,s=t,c=h.memoizedProps,h=h.memoizedState,r=s.stateNode;try{var me=Pi(s.type,c);e=r.getSnapshotBeforeUpdate(me,h),r.__reactInternalSnapshotBeforeUpdate=e}catch(je){at(s,s.return,je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)vh(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Jt=e;break}Jt=t.return}}function Dm(e,t,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:dn(e,s),r&4&&ho(5,s);break;case 1:if(dn(e,s),r&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(b){at(s,s.return,b)}else{var c=Pi(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(b){at(s,s.return,b)}}r&64&&Tm(s),r&512&&fo(s,s.return);break;case 3:if(dn(e,s),r&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{cs(e,t)}catch(b){at(s,s.return,b)}}break;case 27:t===null&&r&4&&km(s);case 26:case 5:dn(e,s),t===null&&r&4&&Om(s),r&512&&fo(s,s.return);break;case 12:dn(e,s);break;case 31:dn(e,s),r&4&&zm(e,s);break;case 13:dn(e,s),r&4&&Lm(e,s),r&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Jb.bind(null,s),pv(e,s))));break;case 22:if(r=s.memoizedState!==null||cn,!r){t=t!==null&&t.memoizedState!==null||zt,c=cn;var h=zt;cn=r,(zt=t)&&!h?hn(e,s,(s.subtreeFlags&8772)!==0):dn(e,s),cn=c,zt=h}break;case 30:break;default:dn(e,s)}}function Um(e){var t=e.alternate;t!==null&&(e.alternate=null,Um(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Zt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _t=null,Rs=!1;function un(e,t,s){for(s=s.child;s!==null;)Mm(e,t,s),s=s.sibling}function Mm(e,t,s){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(Aa,s)}catch{}switch(s.tag){case 26:zt||Ga(s,t),un(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:zt||Ga(s,t);var r=_t,c=Rs;ri(s.type)&&(_t=s.stateNode,Rs=!1),un(e,t,s),xo(s.stateNode),_t=r,Rs=c;break;case 5:zt||Ga(s,t);case 6:if(r=_t,c=Rs,_t=null,un(e,t,s),_t=r,Rs=c,_t!==null)if(Rs)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(s.stateNode)}catch(h){at(s,t,h)}else try{_t.removeChild(s.stateNode)}catch(h){at(s,t,h)}break;case 18:_t!==null&&(Rs?(e=_t,Tg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Pr(e)):Tg(_t,s.stateNode));break;case 4:r=_t,c=Rs,_t=s.stateNode.containerInfo,Rs=!0,un(e,t,s),_t=r,Rs=c;break;case 0:case 11:case 14:case 15:Wn(2,s,t),zt||Wn(4,s,t),un(e,t,s);break;case 1:zt||(Ga(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"&&Am(s,t,r)),un(e,t,s);break;case 21:un(e,t,s);break;case 22:zt=(r=zt)||s.memoizedState!==null,un(e,t,s),zt=r;break;default:un(e,t,s)}}function zm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pr(e)}catch(s){at(t,t.return,s)}}}function Lm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pr(e)}catch(s){at(t,t.return,s)}}function Vb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Rm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Rm),t;default:throw Error(l(435,e.tag))}}function Jc(e,t){var s=Vb(e);t.forEach(function(r){if(!s.has(r)){s.add(r);var c=Zb.bind(null,e,r);r.then(c,c)}})}function Ds(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var c=s[r],h=e,b=t,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(ri(w.type)){_t=w.stateNode,Rs=!1;break e}break;case 5:_t=w.stateNode,Rs=!1;break e;case 3:case 4:_t=w.stateNode.containerInfo,Rs=!0;break e}w=w.return}if(_t===null)throw Error(l(160));Mm(h,b,c),_t=null,Rs=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)$m(t,e),t=t.sibling}var wa=null;function $m(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ds(t,e),Us(e),r&4&&(Wn(3,e,e.return),ho(3,e),Wn(5,e,e.return));break;case 1:Ds(t,e),Us(e),r&512&&(zt||s===null||Ga(s,s.return)),r&64&&cn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var c=wa;if(Ds(t,e),Us(e),r&512&&(zt||s===null||Ga(s,s.return)),r&4){var h=s!==null?s.memoizedState:null;if(r=e.memoizedState,s===null)if(r===null)if(e.stateNode===null){e:{r=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":h=c.getElementsByTagName("title")[0],(!h||h[$t]||h[St]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(r),c.head.insertBefore(h,c.querySelector("head > title"))),ss(h,r,s),h[St]=e,ft(h),r=h;break e;case"link":var b=$g("link","href",c).get(r+(s.href||""));if(b){for(var w=0;w<b.length;w++)if(h=b[w],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(w,1);break t}}h=c.createElement(r),ss(h,r,s),c.head.appendChild(h);break;case"meta":if(b=$g("meta","content",c).get(r+(s.content||""))){for(w=0;w<b.length;w++)if(h=b[w],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(w,1);break t}}h=c.createElement(r),ss(h,r,s),c.head.appendChild(h);break;default:throw Error(l(468,r))}h[St]=e,ft(h),r=h}e.stateNode=r}else Bg(c,e.type,e.stateNode);else e.stateNode=Lg(c,r,e.memoizedProps);else h!==r?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,r===null?Bg(c,e.type,e.stateNode):Lg(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Gd(e,e.memoizedProps,s.memoizedProps)}break;case 27:Ds(t,e),Us(e),r&512&&(zt||s===null||Ga(s,s.return)),s!==null&&r&4&&Gd(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Ds(t,e),Us(e),r&512&&(zt||s===null||Ga(s,s.return)),e.flags&32){c=e.stateNode;try{$s(c,"")}catch(me){at(e,e.return,me)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Gd(e,c,s!==null?s.memoizedProps:c)),r&1024&&(Yd=!0);break;case 6:if(Ds(t,e),Us(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,s=e.stateNode;try{s.nodeValue=r}catch(me){at(e,e.return,me)}}break;case 3:if(hu=null,c=wa,wa=uu(t.containerInfo),Ds(t,e),wa=c,Us(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Pr(t.containerInfo)}catch(me){at(e,e.return,me)}Yd&&(Yd=!1,Bm(e));break;case 4:r=wa,wa=uu(e.stateNode.containerInfo),Ds(t,e),Us(e),wa=r;break;case 12:Ds(t,e),Us(e);break;case 31:Ds(t,e),Us(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Jc(e,r)));break;case 13:Ds(t,e),Us(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Fc=fs()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Jc(e,r)));break;case 22:c=e.memoizedState!==null;var T=s!==null&&s.memoizedState!==null,B=cn,K=zt;if(cn=B||c,zt=K||T,Ds(t,e),zt=K,cn=B,Us(e),r&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(s===null||T||cn||zt||Gi(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){T=s=t;try{if(h=T.stateNode,c)b=h.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=T.stateNode;var Z=T.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(me){at(T,T.return,me)}}}else if(t.tag===6){if(s===null){T=t;try{T.stateNode.nodeValue=c?"":T.memoizedProps}catch(me){at(T,T.return,me)}}}else if(t.tag===18){if(s===null){T=t;try{var P=T.stateNode;c?Ag(P,!0):Ag(T.stateNode,!1)}catch(me){at(T,T.return,me)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,Jc(e,s))));break;case 19:Ds(t,e),Us(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Jc(e,r)));break;case 30:break;case 21:break;default:Ds(t,e),Us(e)}}function Us(e){var t=e.flags;if(t&2){try{for(var s,r=e.return;r!==null;){if(Cm(r)){s=r;break}r=r.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var c=s.stateNode,h=Id(e);Qc(e,h,c);break;case 5:var b=s.stateNode;s.flags&32&&($s(b,""),s.flags&=-33);var w=Id(e);Qc(e,w,b);break;case 3:case 4:var T=s.stateNode.containerInfo,B=Id(e);Kd(e,B,T);break;default:throw Error(l(161))}}catch(K){at(e,e.return,K)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Bm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function dn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Dm(e,t.alternate,t),t=t.sibling}function Gi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Wn(4,t,t.return),Gi(t);break;case 1:Ga(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&Am(t,t.return,s),Gi(t);break;case 27:xo(t.stateNode);case 26:case 5:Ga(t,t.return),Gi(t);break;case 22:t.memoizedState===null&&Gi(t);break;case 30:Gi(t);break;default:Gi(t)}e=e.sibling}}function hn(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,c=e,h=t,b=h.flags;switch(h.tag){case 0:case 11:case 15:hn(c,h,s),ho(4,h);break;case 1:if(hn(c,h,s),r=h,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){at(r,r.return,B)}if(r=h,c=r.updateQueue,c!==null){var w=r.stateNode;try{var T=c.shared.hiddenCallbacks;if(T!==null)for(c.shared.hiddenCallbacks=null,c=0;c<T.length;c++)gt(T[c],w)}catch(B){at(r,r.return,B)}}s&&b&64&&Tm(h),fo(h,h.return);break;case 27:km(h);case 26:case 5:hn(c,h,s),s&&r===null&&b&4&&Om(h),fo(h,h.return);break;case 12:hn(c,h,s);break;case 31:hn(c,h,s),s&&b&4&&zm(c,h);break;case 13:hn(c,h,s),s&&b&4&&Lm(c,h);break;case 22:h.memoizedState===null&&hn(c,h,s),fo(h,h.return);break;case 30:break;default:hn(c,h,s)}t=t.sibling}}function Xd(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ks(s))}function Qd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ks(e))}function xa(e,t,s,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qm(e,t,s,r),t=t.sibling}function qm(e,t,s,r){var c=t.flags;switch(t.tag){case 0:case 11:case 15:xa(e,t,s,r),c&2048&&ho(9,t);break;case 1:xa(e,t,s,r);break;case 3:xa(e,t,s,r),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ks(e)));break;case 12:if(c&2048){xa(e,t,s,r),e=t.stateNode;try{var h=t.memoizedProps,b=h.id,w=h.onPostCommit;typeof w=="function"&&w(b,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){at(t,t.return,T)}}else xa(e,t,s,r);break;case 31:xa(e,t,s,r);break;case 13:xa(e,t,s,r);break;case 23:break;case 22:h=t.stateNode,b=t.alternate,t.memoizedState!==null?h._visibility&2?xa(e,t,s,r):mo(e,t):h._visibility&2?xa(e,t,s,r):(h._visibility|=2,Rr(e,t,s,r,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Xd(b,t);break;case 24:xa(e,t,s,r),c&2048&&Qd(t.alternate,t);break;default:xa(e,t,s,r)}}function Rr(e,t,s,r,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,b=t,w=s,T=r,B=b.flags;switch(b.tag){case 0:case 11:case 15:Rr(h,b,w,T,c),ho(8,b);break;case 23:break;case 22:var K=b.stateNode;b.memoizedState!==null?K._visibility&2?Rr(h,b,w,T,c):mo(h,b):(K._visibility|=2,Rr(h,b,w,T,c)),c&&B&2048&&Xd(b.alternate,b);break;case 24:Rr(h,b,w,T,c),c&&B&2048&&Qd(b.alternate,b);break;default:Rr(h,b,w,T,c)}t=t.sibling}}function mo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,r=t,c=r.flags;switch(r.tag){case 22:mo(s,r),c&2048&&Xd(r.alternate,r);break;case 24:mo(s,r),c&2048&&Qd(r.alternate,r);break;default:mo(s,r)}t=t.sibling}}var go=8192;function Dr(e,t,s){if(e.subtreeFlags&go)for(e=e.child;e!==null;)Hm(e,t,s),e=e.sibling}function Hm(e,t,s){switch(e.tag){case 26:Dr(e,t,s),e.flags&go&&e.memoizedState!==null&&Av(s,wa,e.memoizedState,e.memoizedProps);break;case 5:Dr(e,t,s);break;case 3:case 4:var r=wa;wa=uu(e.stateNode.containerInfo),Dr(e,t,s),wa=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=go,go=16777216,Dr(e,t,s),go=r):Dr(e,t,s));break;default:Dr(e,t,s)}}function Vm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function po(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var r=t[s];Jt=r,Gm(r,e)}Vm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pm(e),e=e.sibling}function Pm(e){switch(e.tag){case 0:case 11:case 15:po(e),e.flags&2048&&Wn(9,e,e.return);break;case 3:po(e);break;case 12:po(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Zc(e)):po(e);break;default:po(e)}}function Zc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var r=t[s];Jt=r,Gm(r,e)}Vm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Wn(8,t,t.return),Zc(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,Zc(t));break;default:Zc(t)}e=e.sibling}}function Gm(e,t){for(;Jt!==null;){var s=Jt;switch(s.tag){case 0:case 11:case 15:Wn(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ks(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,Jt=r;else e:for(s=e;Jt!==null;){r=Jt;var c=r.sibling,h=r.return;if(Um(r),r===s){Jt=null;break e}if(c!==null){c.return=h,Jt=c;break e}Jt=h}}}var Pb={getCacheForType:function(e){var t=Dt(Nt),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return Dt(Nt).controller.signal}},Gb=typeof WeakMap=="function"?WeakMap:Map,Fe=0,lt=null,$e=null,qe=0,st=0,Hs=null,ei=!1,Ur=!1,Jd=!1,fn=0,Ot=0,ti=0,Ii=0,Zd=0,Vs=0,Mr=0,bo=null,Ms=null,Fd=!1,Fc=0,Im=0,Wc=1/0,eu=null,si=null,qt=0,ai=null,zr=null,mn=0,Wd=0,eh=null,Km=null,vo=0,th=null;function Ps(){return(Fe&2)!==0&&qe!==0?qe&-qe:I.T!==null?lh():Zo()}function Ym(){if(Vs===0)if((qe&536870912)===0||ze){var e=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),Vs=e}else Vs=536870912;return e=pt.current,e!==null&&(e.flags|=32),Vs}function zs(e,t,s){(e===lt&&(st===2||st===9)||e.cancelPendingCommit!==null)&&(Lr(e,0),ni(e,qe,Vs,!1)),yi(e,s),((Fe&2)===0||e!==lt)&&(e===lt&&((Fe&2)===0&&(Ii|=s),Ot===4&&ni(e,qe,Vs,!1)),Ia(e))}function Xm(e,t,s){if((Fe&6)!==0)throw Error(l(327));var r=!s&&(t&127)===0&&(t&e.expiredLanes)===0||En(e,t),c=r?Yb(e,t):ah(e,t,!0),h=r;do{if(c===0){Ur&&!r&&ni(e,t,0,!1);break}else{if(s=e.current.alternate,h&&!Ib(s)){c=ah(e,t,!1),h=!1;continue}if(c===2){if(h=t,e.errorRecoveryDisabledLanes&h)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){t=b;e:{var w=e;c=bo;var T=w.current.memoizedState.isDehydrated;if(T&&(Lr(w,b).flags|=256),b=ah(w,b,!1),b!==2){if(Jd&&!T){w.errorRecoveryDisabledLanes|=h,Ii|=h,c=4;break e}h=Ms,Ms=c,h!==null&&(Ms===null?Ms=h:Ms.push.apply(Ms,h))}c=b}if(h=!1,c!==2)continue}}if(c===1){Lr(e,0),ni(e,t,0,!0);break}e:{switch(r=e,h=c,h){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:ni(r,t,Vs,!ei);break e;case 2:Ms=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(c=Fc+300-fs(),10<c)){if(ni(r,t,Vs,!ei),vi(r,0,!0)!==0)break e;mn=t,r.timeoutHandle=Eg(Qm.bind(null,r,s,Ms,eu,Fd,t,Vs,Ii,Mr,ei,h,"Throttled",-0,0),c);break e}Qm(r,s,Ms,eu,Fd,t,Vs,Ii,Mr,ei,h,null,-0,0)}}break}while(!0);Ia(e)}function Qm(e,t,s,r,c,h,b,w,T,B,K,Z,H,P){if(e.timeoutHandle=-1,Z=t.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gt},Hm(t,h,Z);var me=(h&62914560)===h?Fc-fs():(h&4194048)===h?Im-fs():0;if(me=Ov(Z,me),me!==null){mn=h,e.cancelPendingCommit=me(ag.bind(null,e,t,h,s,r,c,b,w,T,K,Z,null,H,P)),ni(e,h,b,!B);return}}ag(e,t,h,s,r,c,b,w,T)}function Ib(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var c=s[r],h=c.getSnapshot;c=c.value;try{if(!Wt(h(),c))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ni(e,t,s,r){t&=~Zd,t&=~Ii,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var c=t;0<c;){var h=31-gs(c),b=1<<h;r[h]=-1,c&=~b}s!==0&&Tn(e,s,t)}function tu(){return(Fe&6)===0?(yo(0),!1):!0}function sh(){if($e!==null){if(st===0)var e=$e.return;else e=$e,va=Wa=null,Ar(e),ne=null,de=0,e=$e;for(;e!==null;)Nm(e.alternate,e),e=e.return;$e=null}}function Lr(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,dv(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),mn=0,sh(),lt=e,$e=s=ma(e.current,null),qe=t,st=0,Hs=null,ei=!1,Ur=En(e,t),Jd=!1,Mr=Vs=Zd=Ii=ti=Ot=0,Ms=bo=null,Fd=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var c=31-gs(r),h=1<<c;t|=e[c],r&=~h}return fn=t,yr(),s}function Jm(e,t){Ce=null,I.H=oo,t===Zn||t===_?(t=G(),st=3):t===tn?(t=G(),st=4):st=t===Ud?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Hs=t,$e===null&&(Ot=1,Gc(e,Yt(t,e.current)))}function Zm(){var e=pt.current;return e===null?!0:(qe&4194048)===qe?wt===null:(qe&62914560)===qe||(qe&536870912)!==0?e===wt:!1}function Fm(){var e=I.H;return I.H=oo,e===null?oo:e}function Wm(){var e=I.A;return I.A=Pb,e}function su(){Ot=4,ei||(qe&4194048)!==qe&&pt.current!==null||(Ur=!0),(ti&134217727)===0&&(Ii&134217727)===0||lt===null||ni(lt,qe,Vs,!1)}function ah(e,t,s){var r=Fe;Fe|=2;var c=Fm(),h=Wm();(lt!==e||qe!==t)&&(eu=null,Lr(e,t)),t=!1;var b=Ot;e:do try{if(st!==0&&$e!==null){var w=$e,T=Hs;switch(st){case 8:sh(),b=6;break e;case 3:case 2:case 9:case 6:pt.current===null&&(t=!0);var B=st;if(st=0,Hs=null,$r(e,w,T,B),s&&Ur){b=0;break e}break;default:B=st,st=0,Hs=null,$r(e,w,T,B)}}Kb(),b=Ot;break}catch(K){Jm(e,K)}while(!0);return t&&e.shellSuspendCounter++,va=Wa=null,Fe=r,I.H=c,I.A=h,$e===null&&(lt=null,qe=0,yr()),b}function Kb(){for(;$e!==null;)eg($e)}function Yb(e,t){var s=Fe;Fe|=2;var r=Fm(),c=Wm();lt!==e||qe!==t?(eu=null,Wc=fs()+500,Lr(e,t)):Ur=En(e,t);e:do try{if(st!==0&&$e!==null){t=$e;var h=Hs;t:switch(st){case 1:st=0,Hs=null,$r(e,t,h,1);break;case 2:case 9:if(g(h)){st=0,Hs=null,tg(t);break}t=function(){st!==2&&st!==9||lt!==e||(st=7),Ia(e)},h.then(t,t);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:g(h)?(st=0,Hs=null,tg(t)):(st=0,Hs=null,$r(e,t,h,7));break;case 5:var b=null;switch($e.tag){case 26:b=$e.memoizedState;case 5:case 27:var w=$e;if(b?qg(b):w.stateNode.complete){st=0,Hs=null;var T=w.sibling;if(T!==null)$e=T;else{var B=w.return;B!==null?($e=B,au(B)):$e=null}break t}}st=0,Hs=null,$r(e,t,h,5);break;case 6:st=0,Hs=null,$r(e,t,h,6);break;case 8:sh(),Ot=6;break e;default:throw Error(l(462))}}Xb();break}catch(K){Jm(e,K)}while(!0);return va=Wa=null,I.H=r,I.A=c,Fe=s,$e!==null?0:(lt=null,qe=0,yr(),Ot)}function Xb(){for(;$e!==null&&!Yu();)eg($e)}function eg(e){var t=Sm(e.alternate,e,fn);e.memoizedProps=e.pendingProps,t===null?au(e):$e=t}function tg(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=vm(s,t,t.pendingProps,t.type,void 0,qe);break;case 11:t=vm(s,t,t.pendingProps,t.type.render,t.ref,qe);break;case 5:Ar(t);default:Nm(s,t),t=$e=Rc(t,fn),t=Sm(s,t,fn)}e.memoizedProps=e.pendingProps,t===null?au(e):$e=t}function $r(e,t,s,r){va=Wa=null,Ar(t),ne=null,de=0;var c=t.return;try{if(zb(e,c,t,s,qe)){Ot=1,Gc(e,Yt(s,e.current)),$e=null;return}}catch(h){if(c!==null)throw $e=c,h;Ot=1,Gc(e,Yt(s,e.current)),$e=null;return}t.flags&32768?(ze||r===1?e=!0:Ur||(qe&536870912)!==0?e=!1:(ei=e=!0,(r===2||r===9||r===3||r===6)&&(r=pt.current,r!==null&&r.tag===13&&(r.flags|=16384))),sg(t,e)):au(t)}function au(e){var t=e;do{if((t.flags&32768)!==0){sg(t,ei);return}e=t.return;var s=Bb(t.alternate,t,fn);if(s!==null){$e=s;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);Ot===0&&(Ot=5)}function sg(e,t){do{var s=qb(e.alternate,e);if(s!==null){s.flags&=32767,$e=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){$e=e;return}$e=e=s}while(e!==null);Ot=6,$e=null}function ag(e,t,s,r,c,h,b,w,T){e.cancelPendingCommit=null;do nu();while(qt!==0);if((Fe&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(h=t.lanes|t.childLanes,h|=Gl,Nn(e,s,h,b,w,T),e===lt&&($e=lt=null,qe=0),zr=t,ai=e,mn=s,Wd=h,eh=c,Km=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Fb(tr,function(){return og(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=I.T,I.T=null,c=re.p,re.p=2,b=Fe,Fe|=4;try{Hb(e,t,s)}finally{Fe=b,re.p=c,I.T=r}}qt=1,ng(),ig(),rg()}}function ng(){if(qt===1){qt=0;var e=ai,t=zr,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=I.T,I.T=null;var r=re.p;re.p=2;var c=Fe;Fe|=4;try{$m(t,e);var h=gh,b=Ml(e.containerInfo),w=h.focusedElem,T=h.selectionRange;if(b!==w&&w&&w.ownerDocument&&Ul(w.ownerDocument.documentElement,w)){if(T!==null&&zl(w)){var B=T.start,K=T.end;if(K===void 0&&(K=B),"selectionStart"in w)w.selectionStart=B,w.selectionEnd=Math.min(K,w.value.length);else{var Z=w.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var P=H.getSelection(),me=w.textContent.length,je=Math.min(T.start,me),rt=T.end===void 0?je:Math.min(T.end,me);!P.extend&&je>rt&&(b=rt,rt=je,je=b);var M=Ec(w,je),O=Ec(w,rt);if(M&&O&&(P.rangeCount!==1||P.anchorNode!==M.node||P.anchorOffset!==M.offset||P.focusNode!==O.node||P.focusOffset!==O.offset)){var $=Z.createRange();$.setStart(M.node,M.offset),P.removeAllRanges(),je>rt?(P.addRange($),P.extend(O.node,O.offset)):($.setEnd(O.node,O.offset),P.addRange($))}}}}for(Z=[],P=w;P=P.parentNode;)P.nodeType===1&&Z.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Z.length;w++){var X=Z[w];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}pu=!!mh,gh=mh=null}finally{Fe=c,re.p=r,I.T=s}}e.current=t,qt=2}}function ig(){if(qt===2){qt=0;var e=ai,t=zr,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=I.T,I.T=null;var r=re.p;re.p=2;var c=Fe;Fe|=4;try{Dm(e,t.alternate,t)}finally{Fe=c,re.p=r,I.T=s}}qt=3}}function rg(){if(qt===4||qt===3){qt=0,Xu();var e=ai,t=zr,s=mn,r=Km;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?qt=5:(qt=0,zr=ai=null,lg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(si=null),gl(s),t=t.stateNode,ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(Aa,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=I.T,c=re.p,re.p=2,I.T=null;try{for(var h=e.onRecoverableError,b=0;b<r.length;b++){var w=r[b];h(w.value,{componentStack:w.stack})}}finally{I.T=t,re.p=c}}(mn&3)!==0&&nu(),Ia(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===th?vo++:(vo=0,th=e):vo=0,yo(0)}}function lg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ks(t)))}function nu(){return ng(),ig(),rg(),og()}function og(){if(qt!==5)return!1;var e=ai,t=Wd;Wd=0;var s=gl(mn),r=I.T,c=re.p;try{re.p=32>s?32:s,I.T=null,s=eh,eh=null;var h=ai,b=mn;if(qt=0,zr=ai=null,mn=0,(Fe&6)!==0)throw Error(l(331));var w=Fe;if(Fe|=4,Pm(h.current),qm(h,h.current,b,s),Fe=w,yo(0,!1),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(Aa,h)}catch{}return!0}finally{re.p=c,I.T=r,lg(e,t)}}function cg(e,t,s){t=Yt(s,t),t=Dd(e.stateNode,t,2),e=Me(e,t,2),e!==null&&(yi(e,2),Ia(e))}function at(e,t,s){if(e.tag===3)cg(e,e,s);else for(;t!==null;){if(t.tag===3){cg(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(si===null||!si.has(r))){e=Yt(s,e),s=um(2),r=Me(t,s,2),r!==null&&(dm(s,r,t,e),yi(r,2),Ia(r));break}}t=t.return}}function nh(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new Gb;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(s)||(Jd=!0,c.add(s),e=Qb.bind(null,e,t,s),t.then(e,e))}function Qb(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,lt===e&&(qe&s)===s&&(Ot===4||Ot===3&&(qe&62914560)===qe&&300>fs()-Fc?(Fe&2)===0&&Lr(e,0):Zd|=s,Mr===qe&&(Mr=0)),Ia(e)}function ug(e,t){t===0&&(t=Xo()),e=es(e,t),e!==null&&(yi(e,t),Ia(e))}function Jb(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),ug(e,s)}function Zb(e,t){var s=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(t),ug(e,s)}function Fb(e,t){return ul(e,t)}var iu=null,Br=null,ih=!1,ru=!1,rh=!1,ii=0;function Ia(e){e!==Br&&e.next===null&&(Br===null?iu=Br=e:Br=Br.next=e),ru=!0,ih||(ih=!0,ev())}function yo(e,t){if(!rh&&ru){rh=!0;do for(var s=!1,r=iu;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var h=0;else{var b=r.suspendedLanes,w=r.pingedLanes;h=(1<<31-gs(42|e)+1)-1,h&=c&~(b&~w),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,mg(r,h))}else h=qe,h=vi(r,r===lt?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(h&3)===0||En(r,h)||(s=!0,mg(r,h));r=r.next}while(s);rh=!1}}function Wb(){dg()}function dg(){ru=ih=!1;var e=0;ii!==0&&uv()&&(e=ii);for(var t=fs(),s=null,r=iu;r!==null;){var c=r.next,h=hg(r,t);h===0?(r.next=null,s===null?iu=c:s.next=c,c===null&&(Br=s)):(s=r,(e!==0||(h&3)!==0)&&(ru=!0)),r=c}qt!==0&&qt!==5||yo(e),ii!==0&&(ii=0)}function hg(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var b=31-gs(h),w=1<<b,T=c[b];T===-1?((w&s)===0||(w&r)!==0)&&(c[b]=Wu(w,t)):T<=t&&(e.expiredLanes|=w),h&=~w}if(t=lt,s=qe,s=vi(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,s===0||e===t&&(st===2||st===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&dl(r),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||En(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(r!==null&&dl(r),gl(s)){case 2:case 8:s=hl;break;case 32:s=tr;break;case 268435456:s=xn;break;default:s=tr}return r=fg.bind(null,e),s=ul(s,r),e.callbackPriority=t,e.callbackNode=s,t}return r!==null&&r!==null&&dl(r),e.callbackPriority=2,e.callbackNode=null,2}function fg(e,t){if(qt!==0&&qt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(nu()&&e.callbackNode!==s)return null;var r=qe;return r=vi(e,e===lt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Xm(e,r,t),hg(e,fs()),e.callbackNode!=null&&e.callbackNode===s?fg.bind(null,e):null)}function mg(e,t){if(nu())return null;Xm(e,t,!0)}function ev(){hv(function(){(Fe&6)!==0?ul(ca,Wb):dg()})}function lh(){if(ii===0){var e=Xn;e===0&&(e=sr,sr<<=1,(sr&261888)===0&&(sr=256)),ii=e}return ii}function gg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:cr(""+e)}function pg(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function tv(e,t,s,r,c){if(t==="submit"&&s&&s.stateNode===c){var h=gg((c[rs]||null).action),b=r.submitter;b&&(t=(t=b[rs]||null)?gg(t.formAction):b.getAttribute("formAction"),t!==null&&(h=t,b=null));var w=new Mn("action","action",null,r,c);e.push({event:w,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ii!==0){var T=b?pg(c,b):new FormData(c);Td(s,{pending:!0,data:T,method:c.method,action:h},null,T)}}else typeof h=="function"&&(w.preventDefault(),T=b?pg(c,b):new FormData(c),Td(s,{pending:!0,data:T,method:c.method,action:h},h,T))},currentTarget:c}]})}}for(var oh=0;oh<Pl.length;oh++){var ch=Pl[oh],sv=ch.toLowerCase(),av=ch[0].toUpperCase()+ch.slice(1);qs(sv,"on"+av)}qs(ea,"onAnimationEnd"),qs(Hl,"onAnimationIteration"),qs(Tc,"onAnimationStart"),qs("dblclick","onDoubleClick"),qs("focusin","onFocus"),qs("focusout","onBlur"),qs(Ac,"onTransitionRun"),qs(Oc,"onTransitionStart"),qs(Cc,"onTransitionCancel"),qs(Vl,"onTransitionEnd"),Xa("onMouseEnter",["mouseout","mouseover"]),Xa("onMouseLeave",["mouseout","mouseover"]),Xa("onPointerEnter",["pointerout","pointerover"]),Xa("onPointerLeave",["pointerout","pointerover"]),Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_o));function bg(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],c=r.event;r=r.listeners;e:{var h=void 0;if(t)for(var b=r.length-1;0<=b;b--){var w=r[b],T=w.instance,B=w.currentTarget;if(w=w.listener,T!==h&&c.isPropagationStopped())break e;h=w,c.currentTarget=B;try{h(c)}catch(K){ki(K)}c.currentTarget=null,h=T}else for(b=0;b<r.length;b++){if(w=r[b],T=w.instance,B=w.currentTarget,w=w.listener,T!==h&&c.isPropagationStopped())break e;h=w,c.currentTarget=B;try{h(c)}catch(K){ki(K)}c.currentTarget=null,h=T}}}}function Be(e,t){var s=t[pl];s===void 0&&(s=t[pl]=new Set);var r=e+"__bubble";s.has(r)||(vg(t,e,2,!1),s.add(r))}function uh(e,t,s){var r=0;t&&(r|=4),vg(s,e,r,t)}var lu="_reactListening"+Math.random().toString(36).slice(2);function dh(e){if(!e[lu]){e[lu]=!0,bl.forEach(function(s){s!=="selectionchange"&&(nv.has(s)||uh(s,!1,e),uh(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lu]||(t[lu]=!0,uh("selectionchange",!1,t))}}function vg(e,t,s,r){switch(Yg(t)){case 2:var c=Rv;break;case 8:c=Dv;break;default:c=Nh}s=c.bind(null,t,s,e),c=void 0,!El||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,s,{capture:!0,passive:c}):e.addEventListener(t,s,!0):c!==void 0?e.addEventListener(t,s,{passive:c}):e.addEventListener(t,s,!1)}function hh(e,t,s,r,c){var h=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var b=r.tag;if(b===3||b===4){var w=r.stateNode.containerInfo;if(w===c)break;if(b===4)for(b=r.return;b!==null;){var T=b.tag;if((T===3||T===4)&&b.stateNode.containerInfo===c)return;b=b.return}for(;w!==null;){if(b=Et(w),b===null)return;if(T=b.tag,T===5||T===6||T===26||T===27){r=h=b;continue e}w=w.parentNode}}r=r.return}Sl(function(){var B=h,K=ur(s),Z=[];e:{var H=kc.get(e);if(H!==void 0){var P=Mn,me=e;switch(e){case"keypress":if(Ja(s)===0)break e;case"keydown":case"keyup":P=uc;break;case"focusin":me="focus",P=mr;break;case"focusout":me="blur",P=mr;break;case"beforeblur":case"afterblur":P=mr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=dc;break;case ea:case Hl:case Tc:P=Tl;break;case Vl:P=ld;break;case"scroll":case"scrollend":P=Ei;break;case"wheel":P=cd;break;case"copy":case"cut":case"paste":P=td;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=pr;break;case"toggle":case"beforetoggle":P=fc}var je=(t&4)!==0,rt=!je&&(e==="scroll"||e==="scrollend"),M=je?H!==null?H+"Capture":null:H;je=[];for(var O=B,$;O!==null;){var X=O;if($=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||$===null||M===null||(X=kn(O,M),X!=null&&je.push(wo(O,X,$))),rt)break;O=O.return}0<je.length&&(H=new P(H,me,null,s,K),Z.push({event:H,listeners:je}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",H&&s!==On&&(me=s.relatedTarget||s.fromElement)&&(Et(me)||me[Oa]))break e;if((P||H)&&(H=K.window===K?K:(H=K.ownerDocument)?H.defaultView||H.parentWindow:window,P?(me=s.relatedTarget||s.toElement,P=B,me=me?Et(me):null,me!==null&&(rt=f(me),je=me.tag,me!==rt||je!==5&&je!==27&&je!==6)&&(me=null)):(P=null,me=B),P!==me)){if(je=sc,X="onMouseLeave",M="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(je=pr,X="onPointerLeave",M="onPointerEnter",O="pointer"),rt=P==null?H:Js(P),$=me==null?H:Js(me),H=new je(X,O+"leave",P,s,K),H.target=rt,H.relatedTarget=$,X=null,Et(K)===B&&(je=new je(M,O+"enter",me,s,K),je.target=$,je.relatedTarget=rt,X=je),rt=X,P&&me)t:{for(je=iv,M=P,O=me,$=0,X=M;X;X=je(X))$++;X=0;for(var ye=O;ye;ye=je(ye))X++;for(;0<$-X;)M=je(M),$--;for(;0<X-$;)O=je(O),X--;for(;$--;){if(M===O||O!==null&&M===O.alternate){je=M;break t}M=je(M),O=je(O)}je=null}else je=null;P!==null&&yg(Z,H,P,je,!1),me!==null&&rt!==null&&yg(Z,rt,me,je,!0)}}e:{if(H=B?Js(B):window,P=H.nodeName&&H.nodeName.toLowerCase(),P==="select"||P==="input"&&H.type==="file")var Je=Cl;else if(As(H))if(Oi)Je=vr;else{Je=wc;var pe=_c}else P=H.nodeName,!P||P.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Si(B.elementType)&&(Je=Cl):Je=xc;if(Je&&(Je=Je(e,B))){Ol(Z,Je,s,K);break e}pe&&pe(e,H,B),e==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&xi(H,"number",H.value)}switch(pe=B?Js(B):window,e){case"focusin":(As(pe)||pe.contentEditable==="true")&&(Hn=pe,Ll=B,Ci=null);break;case"focusout":Ci=Ll=Hn=null;break;case"mousedown":$l=!0;break;case"contextmenu":case"mouseup":case"dragend":$l=!1,Bl(Z,s,K);break;case"selectionchange":if(pd)break;case"keydown":case"keyup":Bl(Z,s,K)}var Ue;if(Ra)e:{switch(e){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else $n?pc(e,s)&&(He="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(He="onCompositionStart");He&&(Ai&&s.locale!=="ko"&&($n||He!=="onCompositionStart"?He==="onCompositionEnd"&&$n&&(Ue=tc()):(Ws=K,Dn="value"in Ws?Ws.value:Ws.textContent,$n=!0)),pe=ou(B,He),0<pe.length&&(He=new Al(He,e,null,s,K),Z.push({event:He,listeners:pe}),Ue?He.data=Ue:(Ue=bc(s),Ue!==null&&(He.data=Ue)))),(Ue=dd?hd(e,s):fd(e,s))&&(He=ou(B,"onBeforeInput"),0<He.length&&(pe=new Al("onBeforeInput","beforeinput",null,s,K),Z.push({event:pe,listeners:He}),pe.data=Ue)),tv(Z,e,B,s,K)}bg(Z,t)})}function wo(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ou(e,t){for(var s=t+"Capture",r=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=kn(e,s),c!=null&&r.unshift(wo(e,c,h)),c=kn(e,t),c!=null&&r.push(wo(e,c,h))),e.tag===3)return r;e=e.return}return[]}function iv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function yg(e,t,s,r,c){for(var h=t._reactName,b=[];s!==null&&s!==r;){var w=s,T=w.alternate,B=w.stateNode;if(w=w.tag,T!==null&&T===r)break;w!==5&&w!==26&&w!==27||B===null||(T=B,c?(B=kn(s,h),B!=null&&b.unshift(wo(s,B,T))):c||(B=kn(s,h),B!=null&&b.push(wo(s,B,T)))),s=s.return}b.length!==0&&e.push({event:t,listeners:b})}var rv=/\r\n?/g,lv=/\u0000|\uFFFD/g;function _g(e){return(typeof e=="string"?e:""+e).replace(rv,`
`).replace(lv,"")}function wg(e,t){return t=_g(t),_g(e)===t}function it(e,t,s,r,c,h){switch(s){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||$s(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&$s(e,""+r);break;case"className":wi(e,"class",r);break;case"tabIndex":wi(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":wi(e,s,r);break;case"style":Qa(e,r,h);break;case"data":if(t!=="object"){wi(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=cr(""+r),e.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(t!=="input"&&it(e,t,"name",c.name,c,null),it(e,t,"formEncType",c.formEncType,c,null),it(e,t,"formMethod",c.formMethod,c,null),it(e,t,"formTarget",c.formTarget,c,null)):(it(e,t,"encType",c.encType,c,null),it(e,t,"method",c.method,c,null),it(e,t,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=cr(""+r),e.setAttribute(s,r);break;case"onClick":r!=null&&(e.onclick=Gt);break;case"onScroll":r!=null&&Be("scroll",e);break;case"onScrollEnd":r!=null&&Be("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}s=cr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""+r):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":r===!0?e.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,r):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(s,r):e.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(s):e.setAttribute(s,r);break;case"popover":Be("beforetoggle",e),Be("toggle",e),_i(e,"popover",r);break;case"xlinkActuate":Zs(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Zs(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Zs(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Zs(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Zs(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Zs(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Zs(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Zs(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Zs(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":_i(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ec.get(s)||s,_i(e,s,r))}}function fh(e,t,s,r,c,h){switch(s){case"style":Qa(e,r,h);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"children":typeof r=="string"?$s(e,r):(typeof r=="number"||typeof r=="bigint")&&$s(e,""+r);break;case"onScroll":r!=null&&Be("scroll",e);break;case"onScrollEnd":r!=null&&Be("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Gt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ir.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),t=s.slice(2,c?s.length-7:void 0),h=e[rs]||null,h=h!=null?h[s]:null,typeof h=="function"&&e.removeEventListener(t,h,c),typeof r=="function")){typeof h!="function"&&h!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,r,c);break e}s in e?e[s]=r:r===!0?e.setAttribute(s,""):_i(e,s,r)}}}function ss(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",e),Be("load",e);var r=!1,c=!1,h;for(h in s)if(s.hasOwnProperty(h)){var b=s[h];if(b!=null)switch(h){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:it(e,t,h,b,s,null)}}c&&it(e,t,"srcSet",s.srcSet,s,null),r&&it(e,t,"src",s.src,s,null);return;case"input":Be("invalid",e);var w=h=b=c=null,T=null,B=null;for(r in s)if(s.hasOwnProperty(r)){var K=s[r];if(K!=null)switch(r){case"name":c=K;break;case"type":b=K;break;case"checked":T=K;break;case"defaultChecked":B=K;break;case"value":h=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(l(137,t));break;default:it(e,t,r,K,s,null)}}or(e,h,w,T,B,b,c,!1);return;case"select":Be("invalid",e),r=b=h=null;for(c in s)if(s.hasOwnProperty(c)&&(w=s[c],w!=null))switch(c){case"value":h=w;break;case"defaultValue":b=w;break;case"multiple":r=w;default:it(e,t,c,w,s,null)}t=h,s=b,e.multiple=!!r,t!=null?Ft(e,!!r,t,!1):s!=null&&Ft(e,!!r,s,!0);return;case"textarea":Be("invalid",e),h=c=r=null;for(b in s)if(s.hasOwnProperty(b)&&(w=s[b],w!=null))switch(b){case"value":r=w;break;case"defaultValue":c=w;break;case"children":h=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(l(91));break;default:it(e,t,b,w,s,null)}ji(e,r,c,h);return;case"option":for(T in s)s.hasOwnProperty(T)&&(r=s[T],r!=null)&&(T==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":it(e,t,T,r,s,null));return;case"dialog":Be("beforetoggle",e),Be("toggle",e),Be("cancel",e),Be("close",e);break;case"iframe":case"object":Be("load",e);break;case"video":case"audio":for(r=0;r<_o.length;r++)Be(_o[r],e);break;case"image":Be("error",e),Be("load",e);break;case"details":Be("toggle",e);break;case"embed":case"source":case"link":Be("error",e),Be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(r=s[B],r!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:it(e,t,B,r,s,null)}return;default:if(Si(t)){for(K in s)s.hasOwnProperty(K)&&(r=s[K],r!==void 0&&fh(e,t,K,r,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(r=s[w],r!=null&&it(e,t,w,r,s,null))}function ov(e,t,s,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,b=null,w=null,T=null,B=null,K=null;for(P in s){var Z=s[P];if(s.hasOwnProperty(P)&&Z!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":T=Z;default:r.hasOwnProperty(P)||it(e,t,P,null,r,Z)}}for(var H in r){var P=r[H];if(Z=s[H],r.hasOwnProperty(H)&&(P!=null||Z!=null))switch(H){case"type":h=P;break;case"name":c=P;break;case"checked":B=P;break;case"defaultChecked":K=P;break;case"value":b=P;break;case"defaultValue":w=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(l(137,t));break;default:P!==Z&&it(e,t,H,P,r,Z)}}ls(e,b,w,T,B,K,h,c);return;case"select":P=b=w=H=null;for(h in s)if(T=s[h],s.hasOwnProperty(h)&&T!=null)switch(h){case"value":break;case"multiple":P=T;default:r.hasOwnProperty(h)||it(e,t,h,null,r,T)}for(c in r)if(h=r[c],T=s[c],r.hasOwnProperty(c)&&(h!=null||T!=null))switch(c){case"value":H=h;break;case"defaultValue":w=h;break;case"multiple":b=h;default:h!==T&&it(e,t,c,h,r,T)}t=w,s=b,r=P,H!=null?Ft(e,!!s,H,!1):!!r!=!!s&&(t!=null?Ft(e,!!s,t,!0):Ft(e,!!s,s?[]:"",!1));return;case"textarea":P=H=null;for(w in s)if(c=s[w],s.hasOwnProperty(w)&&c!=null&&!r.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:it(e,t,w,null,r,c)}for(b in r)if(c=r[b],h=s[b],r.hasOwnProperty(b)&&(c!=null||h!=null))switch(b){case"value":H=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==h&&it(e,t,b,c,r,h)}Ca(e,H,P);return;case"option":for(var me in s)H=s[me],s.hasOwnProperty(me)&&H!=null&&!r.hasOwnProperty(me)&&(me==="selected"?e.selected=!1:it(e,t,me,null,r,H));for(T in r)H=r[T],P=s[T],r.hasOwnProperty(T)&&H!==P&&(H!=null||P!=null)&&(T==="selected"?e.selected=H&&typeof H!="function"&&typeof H!="symbol":it(e,t,T,H,r,P));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in s)H=s[je],s.hasOwnProperty(je)&&H!=null&&!r.hasOwnProperty(je)&&it(e,t,je,null,r,H);for(B in r)if(H=r[B],P=s[B],r.hasOwnProperty(B)&&H!==P&&(H!=null||P!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,t));break;default:it(e,t,B,H,r,P)}return;default:if(Si(t)){for(var rt in s)H=s[rt],s.hasOwnProperty(rt)&&H!==void 0&&!r.hasOwnProperty(rt)&&fh(e,t,rt,void 0,r,H);for(K in r)H=r[K],P=s[K],!r.hasOwnProperty(K)||H===P||H===void 0&&P===void 0||fh(e,t,K,H,r,P);return}}for(var M in s)H=s[M],s.hasOwnProperty(M)&&H!=null&&!r.hasOwnProperty(M)&&it(e,t,M,null,r,H);for(Z in r)H=r[Z],P=s[Z],!r.hasOwnProperty(Z)||H===P||H==null&&P==null||it(e,t,Z,H,r,P)}function xg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var c=s[r],h=c.transferSize,b=c.initiatorType,w=c.duration;if(h&&w&&xg(b)){for(b=0,w=c.responseEnd,r+=1;r<s.length;r++){var T=s[r],B=T.startTime;if(B>w)break;var K=T.transferSize,Z=T.initiatorType;K&&xg(Z)&&(T=T.responseEnd,b+=K*(T<w?1:(w-B)/(T-B)))}if(--r,t+=8*(h+b)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var mh=null,gh=null;function cu(e){return e.nodeType===9?e:e.ownerDocument}function jg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ph(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bh=null;function uv(){var e=window.event;return e&&e.type==="popstate"?e===bh?!1:(bh=e,!0):(bh=null,!1)}var Eg=typeof setTimeout=="function"?setTimeout:void 0,dv=typeof clearTimeout=="function"?clearTimeout:void 0,Ng=typeof Promise=="function"?Promise:void 0,hv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ng<"u"?function(e){return Ng.resolve(null).then(e).catch(fv)}:Eg;function fv(e){setTimeout(function(){throw e})}function ri(e){return e==="head"}function Tg(e,t){var s=t,r=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(r===0){e.removeChild(c),Pr(t);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")xo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,xo(s);for(var h=s.firstChild;h;){var b=h.nextSibling,w=h.nodeName;h[$t]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&h.rel.toLowerCase()==="stylesheet"||s.removeChild(h),h=b}}else s==="body"&&xo(e.ownerDocument.body);s=c}while(s);Pr(t)}function Ag(e,t){var s=e;e=0;do{var r=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=r}while(s)}function vh(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":vh(s),Zt(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function mv(e,t,s,r){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[$t])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=ia(e.nextSibling),e===null)break}return null}function gv(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ia(e.nextSibling),e===null))return null;return e}function Og(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ia(e.nextSibling),e===null))return null;return e}function yh(e){return e.data==="$?"||e.data==="$~"}function _h(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function pv(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var r=function(){t(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function ia(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var wh=null;function Cg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return ia(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function kg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function Rg(e,t,s){switch(t=cu(s),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function xo(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Zt(e)}var ra=new Map,Dg=new Set;function uu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gn=re.d;re.d={f:bv,r:vv,D:yv,C:_v,L:wv,m:xv,X:Sv,S:jv,M:Ev};function bv(){var e=gn.f(),t=tu();return e||t}function vv(e){var t=ua(e);t!==null&&t.tag===5&&t.type==="form"?Jf(t):gn.r(e)}var qr=typeof document>"u"?null:document;function Ug(e,t,s){var r=qr;if(r&&typeof t=="string"&&t){var c=kt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Dg.has(c)||(Dg.add(c),e={rel:e,crossOrigin:s,href:t},r.querySelector(c)===null&&(t=r.createElement("link"),ss(t,"link",e),ft(t),r.head.appendChild(t)))}}function yv(e){gn.D(e),Ug("dns-prefetch",e,null)}function _v(e,t){gn.C(e,t),Ug("preconnect",e,t)}function wv(e,t,s){gn.L(e,t,s);var r=qr;if(r&&e&&t){var c='link[rel="preload"][as="'+kt(t)+'"]';t==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+kt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+kt(s.imageSizes)+'"]')):c+='[href="'+kt(e)+'"]';var h=c;switch(t){case"style":h=Hr(e);break;case"script":h=Vr(e)}ra.has(h)||(e=j({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),ra.set(h,e),r.querySelector(c)!==null||t==="style"&&r.querySelector(jo(h))||t==="script"&&r.querySelector(So(h))||(t=r.createElement("link"),ss(t,"link",e),ft(t),r.head.appendChild(t)))}}function xv(e,t){gn.m(e,t);var s=qr;if(s&&e){var r=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+kt(r)+'"][href="'+kt(e)+'"]',h=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Vr(e)}if(!ra.has(h)&&(e=j({rel:"modulepreload",href:e},t),ra.set(h,e),s.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(So(h)))return}r=s.createElement("link"),ss(r,"link",e),ft(r),s.head.appendChild(r)}}}function jv(e,t,s){gn.S(e,t,s);var r=qr;if(r&&e){var c=Ns(r).hoistableStyles,h=Hr(e);t=t||"default";var b=c.get(h);if(!b){var w={loading:0,preload:null};if(b=r.querySelector(jo(h)))w.loading=5;else{e=j({rel:"stylesheet",href:e,"data-precedence":t},s),(s=ra.get(h))&&xh(e,s);var T=b=r.createElement("link");ft(T),ss(T,"link",e),T._p=new Promise(function(B,K){T.onload=B,T.onerror=K}),T.addEventListener("load",function(){w.loading|=1}),T.addEventListener("error",function(){w.loading|=2}),w.loading|=4,du(b,t,r)}b={type:"stylesheet",instance:b,count:1,state:w},c.set(h,b)}}}function Sv(e,t){gn.X(e,t);var s=qr;if(s&&e){var r=Ns(s).hoistableScripts,c=Vr(e),h=r.get(c);h||(h=s.querySelector(So(c)),h||(e=j({src:e,async:!0},t),(t=ra.get(c))&&jh(e,t),h=s.createElement("script"),ft(h),ss(h,"link",e),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(c,h))}}function Ev(e,t){gn.M(e,t);var s=qr;if(s&&e){var r=Ns(s).hoistableScripts,c=Vr(e),h=r.get(c);h||(h=s.querySelector(So(c)),h||(e=j({src:e,async:!0,type:"module"},t),(t=ra.get(c))&&jh(e,t),h=s.createElement("script"),ft(h),ss(h,"link",e),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(c,h))}}function Mg(e,t,s,r){var c=(c=ie.current)?uu(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=Hr(s.href),s=Ns(c).hoistableStyles,r=s.get(t),r||(r={type:"style",instance:null,count:0,state:null},s.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Hr(s.href);var h=Ns(c).hoistableStyles,b=h.get(e);if(b||(c=c.ownerDocument||c,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,b),(h=c.querySelector(jo(e)))&&!h._p&&(b.instance=h,b.state.loading=5),ra.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ra.set(e,s),h||Nv(c,e,s,b.state))),t&&r===null)throw Error(l(528,""));return b}if(t&&r!==null)throw Error(l(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Vr(s),s=Ns(c).hoistableScripts,r=s.get(t),r||(r={type:"script",instance:null,count:0,state:null},s.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Hr(e){return'href="'+kt(e)+'"'}function jo(e){return'link[rel="stylesheet"]['+e+"]"}function zg(e){return j({},e,{"data-precedence":e.precedence,precedence:null})}function Nv(e,t,s,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),ss(t,"link",s),ft(t),e.head.appendChild(t))}function Vr(e){return'[src="'+kt(e)+'"]'}function So(e){return"script[async]"+e}function Lg(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+kt(s.href)+'"]');if(r)return t.instance=r,ft(r),r;var c=j({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),ft(r),ss(r,"style",c),du(r,s.precedence,e),t.instance=r;case"stylesheet":c=Hr(s.href);var h=e.querySelector(jo(c));if(h)return t.state.loading|=4,t.instance=h,ft(h),h;r=zg(s),(c=ra.get(c))&&xh(r,c),h=(e.ownerDocument||e).createElement("link"),ft(h);var b=h;return b._p=new Promise(function(w,T){b.onload=w,b.onerror=T}),ss(h,"link",r),t.state.loading|=4,du(h,s.precedence,e),t.instance=h;case"script":return h=Vr(s.src),(c=e.querySelector(So(h)))?(t.instance=c,ft(c),c):(r=s,(c=ra.get(h))&&(r=j({},s),jh(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),ft(c),ss(c,"link",r),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,du(r,s.precedence,e));return t.instance}function du(e,t,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,h=c,b=0;b<r.length;b++){var w=r[b];if(w.dataset.precedence===t)h=w;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function xh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function jh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var hu=null;function $g(e,t,s){if(hu===null){var r=new Map,c=hu=new Map;c.set(s,r)}else c=hu,r=c.get(s),r||(r=new Map,c.set(s,r));if(r.has(e))return r;for(r.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var h=s[c];if(!(h[$t]||h[St]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var b=h.getAttribute(t)||"";b=e+b;var w=r.get(b);w?w.push(h):r.set(b,[h])}}return r}function Bg(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function Tv(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function qg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Av(e,t,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Hr(r.href),h=t.querySelector(jo(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=fu.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=h,ft(h);return}h=t.ownerDocument||t,r=zg(r),(c=ra.get(c))&&xh(r,c),h=h.createElement("link"),ft(h);var b=h;b._p=new Promise(function(w,T){b.onload=w,b.onerror=T}),ss(h,"link",r),s.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=fu.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var Sh=0;function Ov(e,t){return e.stylesheets&&e.count===0&&gu(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var r=setTimeout(function(){if(e.stylesheets&&gu(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&Sh===0&&(Sh=62500*cv());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gu(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Sh?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function fu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mu=null;function gu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mu=new Map,t.forEach(Cv,e),mu=null,fu.call(e))}function Cv(e,t){if(!(t.state.loading&4)){var s=mu.get(e);if(s)var r=s.get(null);else{s=new Map,mu.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var b=c[h];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),r=b)}r&&s.set(null,r)}c=t.instance,b=c.getAttribute("data-precedence"),h=s.get(b)||r,h===r&&s.set(null,c),s.set(b,c),this.count++,r=fu.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Eo={$$typeof:U,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function kv(e,t,s,r,c,h,b,w,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fl(0),this.hiddenUpdates=fl(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Hg(e,t,s,r,c,h,b,w,T,B,K,Z){return e=new kv(e,t,s,b,T,B,K,Z,w),t=1,h===!0&&(t|=24),h=xs(3,null,null,t),e.current=h,h.stateNode=e,t=ya(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:r,isDehydrated:s,cache:t},Qe(h),e}function Vg(e){return e?(e=Pn,e):Pn}function Pg(e,t,s,r,c,h){c=Vg(c),r.context===null?r.context=c:r.pendingContext=c,r=Te(t),r.payload={element:s},h=h===void 0?null:h,h!==null&&(r.callback=h),s=Me(e,r,t),s!==null&&(zs(s,e,t),Oe(s,e,t))}function Gg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Eh(e,t){Gg(e,t),(e=e.alternate)&&Gg(e,t)}function Ig(e){if(e.tag===13||e.tag===31){var t=es(e,67108864);t!==null&&zs(t,e,67108864),Eh(e,67108864)}}function Kg(e){if(e.tag===13||e.tag===31){var t=Ps();t=ml(t);var s=es(e,t);s!==null&&zs(s,e,t),Eh(e,t)}}var pu=!0;function Rv(e,t,s,r){var c=I.T;I.T=null;var h=re.p;try{re.p=2,Nh(e,t,s,r)}finally{re.p=h,I.T=c}}function Dv(e,t,s,r){var c=I.T;I.T=null;var h=re.p;try{re.p=8,Nh(e,t,s,r)}finally{re.p=h,I.T=c}}function Nh(e,t,s,r){if(pu){var c=Th(r);if(c===null)hh(e,t,r,bu,s),Xg(e,r);else if(Mv(c,e,t,s,r))r.stopPropagation();else if(Xg(e,r),t&4&&-1<Uv.indexOf(e)){for(;c!==null;){var h=ua(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var b=Qs(h.pendingLanes);if(b!==0){var w=h;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var T=1<<31-gs(b);w.entanglements[1]|=T,b&=~T}Ia(h),(Fe&6)===0&&(Wc=fs()+500,yo(0))}}break;case 31:case 13:w=es(h,2),w!==null&&zs(w,h,2),tu(),Eh(h,2)}if(h=Th(r),h===null&&hh(e,t,r,bu,s),h===c)break;c=h}c!==null&&r.stopPropagation()}else hh(e,t,r,null,s)}}function Th(e){return e=ur(e),Ah(e)}var bu=null;function Ah(e){if(bu=null,e=Et(e),e!==null){var t=f(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=m(t),e!==null)return e;e=null}else if(s===31){if(e=v(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return bu=e,null}function Yg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(er()){case ca:return 2;case hl:return 8;case tr:case Qu:return 32;case xn:return 268435456;default:return 32}default:return 32}}var Oh=!1,li=null,oi=null,ci=null,No=new Map,To=new Map,ui=[],Uv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xg(e,t){switch(e){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":No.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(t.pointerId)}}function Ao(e,t,s,r,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:h,targetContainers:[c]},t!==null&&(t=ua(t),t!==null&&Ig(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Mv(e,t,s,r,c){switch(t){case"focusin":return li=Ao(li,e,t,s,r,c),!0;case"dragenter":return oi=Ao(oi,e,t,s,r,c),!0;case"mouseover":return ci=Ao(ci,e,t,s,r,c),!0;case"pointerover":var h=c.pointerId;return No.set(h,Ao(No.get(h)||null,e,t,s,r,c)),!0;case"gotpointercapture":return h=c.pointerId,To.set(h,Ao(To.get(h)||null,e,t,s,r,c)),!0}return!1}function Qg(e){var t=Et(e.target);if(t!==null){var s=f(t);if(s!==null){if(t=s.tag,t===13){if(t=m(s),t!==null){e.blockedOn=t,nr(e.priority,function(){Kg(s)});return}}else if(t===31){if(t=v(s),t!==null){e.blockedOn=t,nr(e.priority,function(){Kg(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Th(e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);On=r,s.target.dispatchEvent(r),On=null}else return t=ua(s),t!==null&&Ig(t),e.blockedOn=s,!1;t.shift()}return!0}function Jg(e,t,s){vu(e)&&s.delete(t)}function zv(){Oh=!1,li!==null&&vu(li)&&(li=null),oi!==null&&vu(oi)&&(oi=null),ci!==null&&vu(ci)&&(ci=null),No.forEach(Jg),To.forEach(Jg)}function yu(e,t){e.blockedOn===t&&(e.blockedOn=null,Oh||(Oh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zv)))}var _u=null;function Zg(e){_u!==e&&(_u=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_u===e&&(_u=null);for(var t=0;t<e.length;t+=3){var s=e[t],r=e[t+1],c=e[t+2];if(typeof r!="function"){if(Ah(r||s)===null)continue;break}var h=ua(s);h!==null&&(e.splice(t,3),t-=3,Td(h,{pending:!0,data:c,method:s.method,action:r},r,c))}}))}function Pr(e){function t(T){return yu(T,e)}li!==null&&yu(li,e),oi!==null&&yu(oi,e),ci!==null&&yu(ci,e),No.forEach(t),To.forEach(t);for(var s=0;s<ui.length;s++){var r=ui[s];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ui.length&&(s=ui[0],s.blockedOn===null);)Qg(s),s.blockedOn===null&&ui.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var c=s[r],h=s[r+1],b=c[rs]||null;if(typeof h=="function")b||Zg(s);else if(b){var w=null;if(h&&h.hasAttribute("formAction")){if(c=h,b=h[rs]||null)w=b.formAction;else if(Ah(c)!==null)continue}else w=b.action;typeof w=="function"?s[r+1]=w:(s.splice(r,3),r-=3),Zg(s)}}}function Fg(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(b){return c=b})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Ch(e){this._internalRoot=e}wu.prototype.render=Ch.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var s=t.current,r=Ps();Pg(s,r,e,t,null,null)},wu.prototype.unmount=Ch.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pg(e.current,2,null,e,null,null),tu(),t[Oa]=null}};function wu(e){this._internalRoot=e}wu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zo();e={blockedOn:null,target:e,priority:t};for(var s=0;s<ui.length&&t!==0&&t<ui[s].priority;s++);ui.splice(s,0,e),s===0&&Qg(e)}};var Wg=a.version;if(Wg!=="19.2.3")throw Error(l(527,Wg,"19.2.3"));re.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var Lv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{Aa=xu.inject(Lv),ms=xu}catch{}}return Co.createRoot=function(e,t){if(!d(e))throw Error(l(299));var s=!1,r="",c=rm,h=lm,b=om;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(b=t.onRecoverableError)),t=Hg(e,1,!1,null,null,s,r,null,c,h,b,Fg),e[Oa]=t.current,dh(e),new Ch(t)},Co.hydrateRoot=function(e,t,s){if(!d(e))throw Error(l(299));var r=!1,c="",h=rm,b=lm,w=om,T=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.formState!==void 0&&(T=s.formState)),t=Hg(e,1,!0,t,s??null,r,c,T,h,b,w,Fg),t.context=Vg(null),s=t.current,r=Ps(),r=ml(r),c=Te(r),c.callback=null,Me(s,c,r),s=r,t.current.lanes=s,yi(t,s),Ia(t),e[Oa]=t.current,dh(e),new wu(t)},Co.version="19.2.3",Co}var cp;function Xv(){if(cp)return Dh.exports;cp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Dh.exports=Yv(),Dh.exports}var Qv=Xv();const Jv=Hp(Qv);var up="popstate";function Zv(n={}){function a(l,d){let{pathname:f,search:m,hash:v}=l.location;return Qh("",{pathname:f,search:m,hash:v},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function i(l,d){return typeof d=="string"?d:Mo(d)}return Wv(a,i,null,n)}function jt(n,a){if(n===!1||n===null||typeof n>"u")throw new Error(a)}function Na(n,a){if(!n){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Fv(){return Math.random().toString(36).substring(2,10)}function dp(n,a){return{usr:n.state,key:n.key,idx:a}}function Qh(n,a,i=null,l){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof a=="string"?il(a):a,state:i,key:a&&a.key||l||Fv()}}function Mo({pathname:n="/",search:a="",hash:i=""}){return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function il(n){let a={};if(n){let i=n.indexOf("#");i>=0&&(a.hash=n.substring(i),n=n.substring(0,i));let l=n.indexOf("?");l>=0&&(a.search=n.substring(l),n=n.substring(0,l)),n&&(a.pathname=n)}return a}function Wv(n,a,i,l={}){let{window:d=document.defaultView,v5Compat:f=!1}=l,m=d.history,v="POP",p=null,y=S();y==null&&(y=0,m.replaceState({...m.state,idx:y},""));function S(){return(m.state||{idx:null}).idx}function j(){v="POP";let D=S(),V=D==null?null:D-y;y=D,p&&p({action:v,location:k.location,delta:V})}function N(D,V){v="PUSH";let q=Qh(k.location,D,V);y=S()+1;let U=dp(q,y),W=k.createHref(q);try{m.pushState(U,"",W)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;d.location.assign(W)}f&&p&&p({action:v,location:k.location,delta:1})}function A(D,V){v="REPLACE";let q=Qh(k.location,D,V);y=S();let U=dp(q,y),W=k.createHref(q);m.replaceState(U,"",W),f&&p&&p({action:v,location:k.location,delta:0})}function z(D){return ey(D)}let k={get action(){return v},get location(){return n(d,m)},listen(D){if(p)throw new Error("A history only accepts one active listener");return d.addEventListener(up,j),p=D,()=>{d.removeEventListener(up,j),p=null}},createHref(D){return a(d,D)},createURL:z,encodeLocation(D){let V=z(D);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:N,replace:A,go(D){return m.go(D)}};return k}function ey(n,a=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),jt(i,"No window.location.(origin|href) available to create URL");let l=typeof n=="string"?n:Mo(n);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=i+l),new URL(l,i)}function Vp(n,a,i="/"){return ty(n,a,i,!1)}function ty(n,a,i,l){let d=typeof a=="string"?il(a):a,f=vn(d.pathname||"/",i);if(f==null)return null;let m=Pp(n);sy(m);let v=null;for(let p=0;v==null&&p<m.length;++p){let y=fy(f);v=dy(m[p],y,l)}return v}function Pp(n,a=[],i=[],l="",d=!1){let f=(m,v,p=d,y)=>{let S={relativePath:y===void 0?m.path||"":y,caseSensitive:m.caseSensitive===!0,childrenIndex:v,route:m};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(l)&&p)return;jt(S.relativePath.startsWith(l),`Absolute route path "${S.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(l.length)}let j=bn([l,S.relativePath]),N=i.concat(S);m.children&&m.children.length>0&&(jt(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${j}".`),Pp(m.children,a,N,j,p)),!(m.path==null&&!m.index)&&a.push({path:j,score:cy(j,m.index),routesMeta:N})};return n.forEach((m,v)=>{if(m.path===""||!m.path?.includes("?"))f(m,v);else for(let p of Gp(m.path))f(m,v,!0,p)}),a}function Gp(n){let a=n.split("/");if(a.length===0)return[];let[i,...l]=a,d=i.endsWith("?"),f=i.replace(/\?$/,"");if(l.length===0)return d?[f,""]:[f];let m=Gp(l.join("/")),v=[];return v.push(...m.map(p=>p===""?f:[f,p].join("/"))),d&&v.push(...m),v.map(p=>n.startsWith("/")&&p===""?"/":p)}function sy(n){n.sort((a,i)=>a.score!==i.score?i.score-a.score:uy(a.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var ay=/^:[\w-]+$/,ny=3,iy=2,ry=1,ly=10,oy=-2,hp=n=>n==="*";function cy(n,a){let i=n.split("/"),l=i.length;return i.some(hp)&&(l+=oy),a&&(l+=iy),i.filter(d=>!hp(d)).reduce((d,f)=>d+(ay.test(f)?ny:f===""?ry:ly),l)}function uy(n,a){return n.length===a.length&&n.slice(0,-1).every((l,d)=>l===a[d])?n[n.length-1]-a[a.length-1]:0}function dy(n,a,i=!1){let{routesMeta:l}=n,d={},f="/",m=[];for(let v=0;v<l.length;++v){let p=l[v],y=v===l.length-1,S=f==="/"?a:a.slice(f.length)||"/",j=Ru({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},S),N=p.route;if(!j&&y&&i&&!l[l.length-1].route.index&&(j=Ru({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},S)),!j)return null;Object.assign(d,j.params),m.push({params:d,pathname:bn([f,j.pathname]),pathnameBase:by(bn([f,j.pathnameBase])),route:N}),j.pathnameBase!=="/"&&(f=bn([f,j.pathnameBase]))}return m}function Ru(n,a){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,l]=hy(n.path,n.caseSensitive,n.end),d=a.match(i);if(!d)return null;let f=d[0],m=f.replace(/(.)\/+$/,"$1"),v=d.slice(1);return{params:l.reduce((y,{paramName:S,isOptional:j},N)=>{if(S==="*"){let z=v[N]||"";m=f.slice(0,f.length-z.length).replace(/(.)\/+$/,"$1")}const A=v[N];return j&&!A?y[S]=void 0:y[S]=(A||"").replace(/%2F/g,"/"),y},{}),pathname:f,pathnameBase:m,pattern:n}}function hy(n,a=!1,i=!0){Na(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let l=[],d="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,v,p)=>(l.push({paramName:v,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(l.push({paramName:"*"}),d+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?d+="\\/*$":n!==""&&n!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,a?void 0:"i"),l]}function fy(n){try{return n.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Na(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),n}}function vn(n,a){if(a==="/")return n;if(!n.toLowerCase().startsWith(a.toLowerCase()))return null;let i=a.endsWith("/")?a.length-1:a.length,l=n.charAt(i);return l&&l!=="/"?null:n.slice(i)||"/"}var Ip=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,my=n=>Ip.test(n);function gy(n,a="/"){let{pathname:i,search:l="",hash:d=""}=typeof n=="string"?il(n):n,f;if(i)if(my(i))f=i;else{if(i.includes("//")){let m=i;i=i.replace(/\/\/+/g,"/"),Na(!1,`Pathnames cannot have embedded double slashes - normalizing ${m} -> ${i}`)}i.startsWith("/")?f=fp(i.substring(1),"/"):f=fp(i,a)}else f=a;return{pathname:f,search:vy(l),hash:yy(d)}}function fp(n,a){let i=a.replace(/\/+$/,"").split("/");return n.split("/").forEach(d=>{d===".."?i.length>1&&i.pop():d!=="."&&i.push(d)}),i.length>1?i.join("/"):"/"}function Lh(n,a,i,l){return`Cannot include a '${n}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function py(n){return n.filter((a,i)=>i===0||a.route.path&&a.route.path.length>0)}function Kp(n){let a=py(n);return a.map((i,l)=>l===a.length-1?i.pathname:i.pathnameBase)}function Yp(n,a,i,l=!1){let d;typeof n=="string"?d=il(n):(d={...n},jt(!d.pathname||!d.pathname.includes("?"),Lh("?","pathname","search",d)),jt(!d.pathname||!d.pathname.includes("#"),Lh("#","pathname","hash",d)),jt(!d.search||!d.search.includes("#"),Lh("#","search","hash",d)));let f=n===""||d.pathname==="",m=f?"/":d.pathname,v;if(m==null)v=i;else{let j=a.length-1;if(!l&&m.startsWith("..")){let N=m.split("/");for(;N[0]==="..";)N.shift(),j-=1;d.pathname=N.join("/")}v=j>=0?a[j]:"/"}let p=gy(d,v),y=m&&m!=="/"&&m.endsWith("/"),S=(f||m===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||S)&&(p.pathname+="/"),p}var bn=n=>n.join("/").replace(/\/\/+/g,"/"),by=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),vy=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,yy=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,_y=class{constructor(n,a,i,l=!1){this.status=n,this.statusText=a||"",this.internal=l,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function wy(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function xy(n){return n.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Xp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Qp(n,a){let i=n;if(typeof i!="string"||!Ip.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let l=i,d=!1;if(Xp)try{let f=new URL(window.location.href),m=i.startsWith("//")?new URL(f.protocol+i):new URL(i),v=vn(m.pathname,a);m.origin===f.origin&&v!=null?i=v+m.search+m.hash:d=!0}catch{Na(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:d,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Jp=["POST","PUT","PATCH","DELETE"];new Set(Jp);var jy=["GET",...Jp];new Set(jy);var rl=L.createContext(null);rl.displayName="DataRouter";var $u=L.createContext(null);$u.displayName="DataRouterState";var Sy=L.createContext(!1),Zp=L.createContext({isTransitioning:!1});Zp.displayName="ViewTransition";var Ey=L.createContext(new Map);Ey.displayName="Fetchers";var Ny=L.createContext(null);Ny.displayName="Await";var oa=L.createContext(null);oa.displayName="Navigation";var Vo=L.createContext(null);Vo.displayName="Location";var yn=L.createContext({outlet:null,matches:[],isDataRoute:!1});yn.displayName="Route";var uf=L.createContext(null);uf.displayName="RouteError";var Fp="REACT_ROUTER_ERROR",Ty="REDIRECT",Ay="ROUTE_ERROR_RESPONSE";function Oy(n){if(n.startsWith(`${Fp}:${Ty}:{`))try{let a=JSON.parse(n.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function Cy(n){if(n.startsWith(`${Fp}:${Ay}:{`))try{let a=JSON.parse(n.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new _y(a.status,a.statusText,a.data)}catch{}}function ky(n,{relative:a}={}){jt(Po(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=L.useContext(oa),{hash:d,pathname:f,search:m}=Go(n,{relative:a}),v=f;return i!=="/"&&(v=f==="/"?i:bn([i,f])),l.createHref({pathname:v,search:m,hash:d})}function Po(){return L.useContext(Vo)!=null}function gi(){return jt(Po(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Vo).location}var Wp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eb(n){L.useContext(oa).static||L.useLayoutEffect(n)}function Fi(){let{isDataRoute:n}=L.useContext(yn);return n?Gy():Ry()}function Ry(){jt(Po(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(rl),{basename:a,navigator:i}=L.useContext(oa),{matches:l}=L.useContext(yn),{pathname:d}=gi(),f=JSON.stringify(Kp(l)),m=L.useRef(!1);return eb(()=>{m.current=!0}),L.useCallback((p,y={})=>{if(Na(m.current,Wp),!m.current)return;if(typeof p=="number"){i.go(p);return}let S=Yp(p,JSON.parse(f),d,y.relative==="path");n==null&&a!=="/"&&(S.pathname=S.pathname==="/"?a:bn([a,S.pathname])),(y.replace?i.replace:i.push)(S,y.state,y)},[a,i,f,d,n])}L.createContext(null);function Go(n,{relative:a}={}){let{matches:i}=L.useContext(yn),{pathname:l}=gi(),d=JSON.stringify(Kp(i));return L.useMemo(()=>Yp(n,JSON.parse(d),l,a==="path"),[n,d,l,a])}function Dy(n,a){return tb(n,a)}function tb(n,a,i,l,d){jt(Po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=L.useContext(oa),{matches:m}=L.useContext(yn),v=m[m.length-1],p=v?v.params:{},y=v?v.pathname:"/",S=v?v.pathnameBase:"/",j=v&&v.route;{let q=j&&j.path||"";ab(y,!j||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let N=gi(),A;if(a){let q=typeof a=="string"?il(a):a;jt(S==="/"||q.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${q.pathname}" was given in the \`location\` prop.`),A=q}else A=N;let z=A.pathname||"/",k=z;if(S!=="/"){let q=S.replace(/^\//,"").split("/");k="/"+z.replace(/^\//,"").split("/").slice(q.length).join("/")}let D=Vp(n,{pathname:k});Na(j||D!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Na(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=$y(D&&D.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:bn([S,f.encodeLocation?f.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?S:bn([S,f.encodeLocation?f.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),m,i,l,d);return a&&V?L.createElement(Vo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},V):V}function Uy(){let n=Py(),a=wy(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,l="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:l},f={padding:"2px 4px",backgroundColor:l},m=null;return console.error("Error handled by React Router default ErrorBoundary:",n),m=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:f},"ErrorBoundary")," or"," ",L.createElement("code",{style:f},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},a),i?L.createElement("pre",{style:d},i):null,m)}var My=L.createElement(Uy,null),sb=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,a){return a.location!==n.location||a.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:a.error,location:a.location,revalidation:n.revalidation||a.revalidation}}componentDidCatch(n,a){this.props.onError?this.props.onError(n,a):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const i=Cy(n.digest);i&&(n=i)}let a=n!==void 0?L.createElement(yn.Provider,{value:this.props.routeContext},L.createElement(uf.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?L.createElement(zy,{error:n},a):a}};sb.contextType=Sy;var $h=new WeakMap;function zy({children:n,error:a}){let{basename:i}=L.useContext(oa);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let l=Oy(a.digest);if(l){let d=$h.get(a);if(d)throw d;let f=Qp(l.location,i);if(Xp&&!$h.get(a))if(f.isExternal||l.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const m=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:l.replace}));throw $h.set(a,m),m}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return n}function Ly({routeContext:n,match:a,children:i}){let l=L.useContext(rl);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),L.createElement(yn.Provider,{value:n},i)}function $y(n,a=[],i=null,l=null,d=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(a.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let f=n,m=i?.errors;if(m!=null){let S=f.findIndex(j=>j.route.id&&m?.[j.route.id]!==void 0);jt(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),f=f.slice(0,Math.min(f.length,S+1))}let v=!1,p=-1;if(i)for(let S=0;S<f.length;S++){let j=f[S];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(p=S),j.route.id){let{loaderData:N,errors:A}=i,z=j.route.loader&&!N.hasOwnProperty(j.route.id)&&(!A||A[j.route.id]===void 0);if(j.route.lazy||z){v=!0,p>=0?f=f.slice(0,p+1):f=[f[0]];break}}}let y=i&&l?(S,j)=>{l(S,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:xy(i.matches),errorInfo:j})}:void 0;return f.reduceRight((S,j,N)=>{let A,z=!1,k=null,D=null;i&&(A=m&&j.route.id?m[j.route.id]:void 0,k=j.route.errorElement||My,v&&(p<0&&N===0?(ab("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,D=null):p===N&&(z=!0,D=j.route.hydrateFallbackElement||null)));let V=a.concat(f.slice(0,N+1)),q=()=>{let U;return A?U=k:z?U=D:j.route.Component?U=L.createElement(j.route.Component,null):j.route.element?U=j.route.element:U=S,L.createElement(Ly,{match:j,routeContext:{outlet:S,matches:V,isDataRoute:i!=null},children:U})};return i&&(j.route.ErrorBoundary||j.route.errorElement||N===0)?L.createElement(sb,{location:i.location,revalidation:i.revalidation,component:k,error:A,children:q(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:y}):q()},null)}function df(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function By(n){let a=L.useContext(rl);return jt(a,df(n)),a}function qy(n){let a=L.useContext($u);return jt(a,df(n)),a}function Hy(n){let a=L.useContext(yn);return jt(a,df(n)),a}function hf(n){let a=Hy(n),i=a.matches[a.matches.length-1];return jt(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function Vy(){return hf("useRouteId")}function Py(){let n=L.useContext(uf),a=qy("useRouteError"),i=hf("useRouteError");return n!==void 0?n:a.errors?.[i]}function Gy(){let{router:n}=By("useNavigate"),a=hf("useNavigate"),i=L.useRef(!1);return eb(()=>{i.current=!0}),L.useCallback(async(d,f={})=>{Na(i.current,Wp),i.current&&(typeof d=="number"?await n.navigate(d):await n.navigate(d,{fromRouteId:a,...f}))},[n,a])}var mp={};function ab(n,a,i){!a&&!mp[n]&&(mp[n]=!0,Na(!1,i))}L.memo(Iy);function Iy({routes:n,future:a,state:i,onError:l}){return tb(n,void 0,i,l,a)}function Gs(n){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ky({basename:n="/",children:a=null,location:i,navigationType:l="POP",navigator:d,static:f=!1,unstable_useTransitions:m}){jt(!Po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let v=n.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:v,navigator:d,static:f,unstable_useTransitions:m,future:{}}),[v,d,f,m]);typeof i=="string"&&(i=il(i));let{pathname:y="/",search:S="",hash:j="",state:N=null,key:A="default"}=i,z=L.useMemo(()=>{let k=vn(y,v);return k==null?null:{location:{pathname:k,search:S,hash:j,state:N,key:A},navigationType:l}},[v,y,S,j,N,A,l]);return Na(z!=null,`<Router basename="${v}"> is not able to match the URL "${y}${S}${j}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:L.createElement(oa.Provider,{value:p},L.createElement(Vo.Provider,{children:a,value:z}))}function Yy({children:n,location:a}){return Dy(Jh(n),a)}function Jh(n,a=[]){let i=[];return L.Children.forEach(n,(l,d)=>{if(!L.isValidElement(l))return;let f=[...a,d];if(l.type===L.Fragment){i.push.apply(i,Jh(l.props.children,f));return}jt(l.type===Gs,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!l.props.index||!l.props.children,"An index route cannot have child routes.");let m={id:l.props.id||f.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(m.children=Jh(l.props.children,f)),i.push(m)}),i}var Ou="get",Cu="application/x-www-form-urlencoded";function Bu(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Xy(n){return Bu(n)&&n.tagName.toLowerCase()==="button"}function Qy(n){return Bu(n)&&n.tagName.toLowerCase()==="form"}function Jy(n){return Bu(n)&&n.tagName.toLowerCase()==="input"}function Zy(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Fy(n,a){return n.button===0&&(!a||a==="_self")&&!Zy(n)}var ju=null;function Wy(){if(ju===null)try{new FormData(document.createElement("form"),0),ju=!1}catch{ju=!0}return ju}var e_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bh(n){return n!=null&&!e_.has(n)?(Na(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cu}"`),null):n}function t_(n,a){let i,l,d,f,m;if(Qy(n)){let v=n.getAttribute("action");l=v?vn(v,a):null,i=n.getAttribute("method")||Ou,d=Bh(n.getAttribute("enctype"))||Cu,f=new FormData(n)}else if(Xy(n)||Jy(n)&&(n.type==="submit"||n.type==="image")){let v=n.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||v.getAttribute("action");if(l=p?vn(p,a):null,i=n.getAttribute("formmethod")||v.getAttribute("method")||Ou,d=Bh(n.getAttribute("formenctype"))||Bh(v.getAttribute("enctype"))||Cu,f=new FormData(v,n),!Wy()){let{name:y,type:S,value:j}=n;if(S==="image"){let N=y?`${y}.`:"";f.append(`${N}x`,"0"),f.append(`${N}y`,"0")}else y&&f.append(y,j)}}else{if(Bu(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ou,l=null,d=Cu,m=n}return f&&d==="text/plain"&&(m=f,f=void 0),{action:l,method:i.toLowerCase(),encType:d,formData:f,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ff(n,a){if(n===!1||n===null||typeof n>"u")throw new Error(a)}function s_(n,a,i,l){let d=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i?d.pathname.endsWith("/")?d.pathname=`${d.pathname}_.${l}`:d.pathname=`${d.pathname}.${l}`:d.pathname==="/"?d.pathname=`_root.${l}`:a&&vn(d.pathname,a)==="/"?d.pathname=`${a.replace(/\/$/,"")}/_root.${l}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${l}`,d}async function a_(n,a){if(n.id in a)return a[n.id];try{let i=await import(n.module);return a[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function n_(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function i_(n,a,i){let l=await Promise.all(n.map(async d=>{let f=a.routes[d.route.id];if(f){let m=await a_(f,i);return m.links?m.links():[]}return[]}));return c_(l.flat(1).filter(n_).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function gp(n,a,i,l,d,f){let m=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,v=(p,y)=>i[y].pathname!==p.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==p.params["*"];return f==="assets"?a.filter((p,y)=>m(p,y)||v(p,y)):f==="data"?a.filter((p,y)=>{let S=l.routes[p.route.id];if(!S||!S.hasLoader)return!1;if(m(p,y)||v(p,y))return!0;if(p.route.shouldRevalidate){let j=p.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function r_(n,a,{includeHydrateFallback:i}={}){return l_(n.map(l=>{let d=a.routes[l.route.id];if(!d)return[];let f=[d.module];return d.clientActionModule&&(f=f.concat(d.clientActionModule)),d.clientLoaderModule&&(f=f.concat(d.clientLoaderModule)),i&&d.hydrateFallbackModule&&(f=f.concat(d.hydrateFallbackModule)),d.imports&&(f=f.concat(d.imports)),f}).flat(1))}function l_(n){return[...new Set(n)]}function o_(n){let a={},i=Object.keys(n).sort();for(let l of i)a[l]=n[l];return a}function c_(n,a){let i=new Set;return new Set(a),n.reduce((l,d)=>{let f=JSON.stringify(o_(d));return i.has(f)||(i.add(f),l.push({key:f,link:d})),l},[])}function nb(){let n=L.useContext(rl);return ff(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function u_(){let n=L.useContext($u);return ff(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var mf=L.createContext(void 0);mf.displayName="FrameworkContext";function ib(){let n=L.useContext(mf);return ff(n,"You must render this element inside a <HydratedRouter> element"),n}function d_(n,a){let i=L.useContext(mf),[l,d]=L.useState(!1),[f,m]=L.useState(!1),{onFocus:v,onBlur:p,onMouseEnter:y,onMouseLeave:S,onTouchStart:j}=a,N=L.useRef(null);L.useEffect(()=>{if(n==="render"&&m(!0),n==="viewport"){let k=V=>{V.forEach(q=>{m(q.isIntersecting)})},D=new IntersectionObserver(k,{threshold:.5});return N.current&&D.observe(N.current),()=>{D.disconnect()}}},[n]),L.useEffect(()=>{if(l){let k=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(k)}}},[l]);let A=()=>{d(!0)},z=()=>{d(!1),m(!1)};return i?n!=="intent"?[f,N,{}]:[f,N,{onFocus:ko(v,A),onBlur:ko(p,z),onMouseEnter:ko(y,A),onMouseLeave:ko(S,z),onTouchStart:ko(j,A)}]:[!1,N,{}]}function ko(n,a){return i=>{n&&n(i),i.defaultPrevented||a(i)}}function h_({page:n,...a}){let{router:i}=nb(),l=L.useMemo(()=>Vp(i.routes,n,i.basename),[i.routes,n,i.basename]);return l?L.createElement(m_,{page:n,matches:l,...a}):null}function f_(n){let{manifest:a,routeModules:i}=ib(),[l,d]=L.useState([]);return L.useEffect(()=>{let f=!1;return i_(n,a,i).then(m=>{f||d(m)}),()=>{f=!0}},[n,a,i]),l}function m_({page:n,matches:a,...i}){let l=gi(),{future:d,manifest:f,routeModules:m}=ib(),{basename:v}=nb(),{loaderData:p,matches:y}=u_(),S=L.useMemo(()=>gp(n,a,y,f,l,"data"),[n,a,y,f,l]),j=L.useMemo(()=>gp(n,a,y,f,l,"assets"),[n,a,y,f,l]),N=L.useMemo(()=>{if(n===l.pathname+l.search+l.hash)return[];let k=new Set,D=!1;if(a.forEach(q=>{let U=f.routes[q.route.id];!U||!U.hasLoader||(!S.some(W=>W.route.id===q.route.id)&&q.route.id in p&&m[q.route.id]?.shouldRevalidate||U.hasClientLoader?D=!0:k.add(q.route.id))}),k.size===0)return[];let V=s_(n,v,d.unstable_trailingSlashAwareDataRequests,"data");return D&&k.size>0&&V.searchParams.set("_routes",a.filter(q=>k.has(q.route.id)).map(q=>q.route.id).join(",")),[V.pathname+V.search]},[v,d.unstable_trailingSlashAwareDataRequests,p,l,f,S,a,n,m]),A=L.useMemo(()=>r_(j,f),[j,f]),z=f_(j);return L.createElement(L.Fragment,null,N.map(k=>L.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...i})),A.map(k=>L.createElement("link",{key:k,rel:"modulepreload",href:k,...i})),z.map(({key:k,link:D})=>L.createElement("link",{key:k,nonce:i.nonce,...D})))}function g_(...n){return a=>{n.forEach(i=>{typeof i=="function"?i(a):i!=null&&(i.current=a)})}}var p_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p_&&(window.__reactRouterVersion="7.12.0")}catch{}function b_({basename:n,children:a,unstable_useTransitions:i,window:l}){let d=L.useRef();d.current==null&&(d.current=Zv({window:l,v5Compat:!0}));let f=d.current,[m,v]=L.useState({action:f.action,location:f.location}),p=L.useCallback(y=>{i===!1?v(y):L.startTransition(()=>v(y))},[i]);return L.useLayoutEffect(()=>f.listen(p),[f,p]),L.createElement(Ky,{basename:n,children:a,location:m.location,navigationType:m.action,navigator:f,unstable_useTransitions:i})}var rb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=L.forwardRef(function({onClick:a,discover:i="render",prefetch:l="none",relative:d,reloadDocument:f,replace:m,state:v,target:p,to:y,preventScrollReset:S,viewTransition:j,unstable_defaultShouldRevalidate:N,...A},z){let{basename:k,unstable_useTransitions:D}=L.useContext(oa),V=typeof y=="string"&&rb.test(y),q=Qp(y,k);y=q.to;let U=ky(y,{relative:d}),[W,ae,se]=d_(l,A),J=__(y,{replace:m,state:v,target:p,preventScrollReset:S,relative:d,viewTransition:j,unstable_defaultShouldRevalidate:N,unstable_useTransitions:D});function Re(le){a&&a(le),le.defaultPrevented||J(le)}let Y=L.createElement("a",{...A,...se,href:q.absoluteURL||U,onClick:q.isExternal||f?a:Re,ref:g_(z,ae),target:p,"data-discover":!V&&i==="render"?"true":void 0});return W&&!V?L.createElement(L.Fragment,null,Y,L.createElement(h_,{page:U})):Y});ot.displayName="Link";var hi=L.forwardRef(function({"aria-current":a="page",caseSensitive:i=!1,className:l="",end:d=!1,style:f,to:m,viewTransition:v,children:p,...y},S){let j=Go(m,{relative:y.relative}),N=gi(),A=L.useContext($u),{navigator:z,basename:k}=L.useContext(oa),D=A!=null&&E_(j)&&v===!0,V=z.encodeLocation?z.encodeLocation(j).pathname:j.pathname,q=N.pathname,U=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;i||(q=q.toLowerCase(),U=U?U.toLowerCase():null,V=V.toLowerCase()),U&&k&&(U=vn(U,k)||U);const W=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let ae=q===V||!d&&q.startsWith(V)&&q.charAt(W)==="/",se=U!=null&&(U===V||!d&&U.startsWith(V)&&U.charAt(V.length)==="/"),J={isActive:ae,isPending:se,isTransitioning:D},Re=ae?a:void 0,Y;typeof l=="function"?Y=l(J):Y=[l,ae?"active":null,se?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let le=typeof f=="function"?f(J):f;return L.createElement(ot,{...y,"aria-current":Re,className:Y,ref:S,style:le,to:m,viewTransition:v},typeof p=="function"?p(J):p)});hi.displayName="NavLink";var v_=L.forwardRef(({discover:n="render",fetcherKey:a,navigate:i,reloadDocument:l,replace:d,state:f,method:m=Ou,action:v,onSubmit:p,relative:y,preventScrollReset:S,viewTransition:j,unstable_defaultShouldRevalidate:N,...A},z)=>{let{unstable_useTransitions:k}=L.useContext(oa),D=j_(),V=S_(v,{relative:y}),q=m.toLowerCase()==="get"?"get":"post",U=typeof v=="string"&&rb.test(v),W=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let se=ae.nativeEvent.submitter,J=se?.getAttribute("formmethod")||m,Re=()=>D(se||ae.currentTarget,{fetcherKey:a,method:J,navigate:i,replace:d,state:f,relative:y,preventScrollReset:S,viewTransition:j,unstable_defaultShouldRevalidate:N});k&&i!==!1?L.startTransition(()=>Re()):Re()};return L.createElement("form",{ref:z,method:q,action:V,onSubmit:l?p:W,...A,"data-discover":!U&&n==="render"?"true":void 0})});v_.displayName="Form";function y_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lb(n){let a=L.useContext(rl);return jt(a,y_(n)),a}function __(n,{target:a,replace:i,state:l,preventScrollReset:d,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:v,unstable_useTransitions:p}={}){let y=Fi(),S=gi(),j=Go(n,{relative:f});return L.useCallback(N=>{if(Fy(N,a)){N.preventDefault();let A=i!==void 0?i:Mo(S)===Mo(j),z=()=>y(n,{replace:A,state:l,preventScrollReset:d,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:v});p?L.startTransition(()=>z()):z()}},[S,y,j,i,l,a,n,d,f,m,v,p])}var w_=0,x_=()=>`__${String(++w_)}__`;function j_(){let{router:n}=lb("useSubmit"),{basename:a}=L.useContext(oa),i=Vy(),l=n.fetch,d=n.navigate;return L.useCallback(async(f,m={})=>{let{action:v,method:p,encType:y,formData:S,body:j}=t_(f,a);if(m.navigate===!1){let N=m.fetcherKey||x_();await l(N,i,m.action||v,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:S,body:j,formMethod:m.method||p,formEncType:m.encType||y,flushSync:m.flushSync})}else await d(m.action||v,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:S,body:j,formMethod:m.method||p,formEncType:m.encType||y,replace:m.replace,state:m.state,fromRouteId:i,flushSync:m.flushSync,viewTransition:m.viewTransition})},[l,d,a,i])}function S_(n,{relative:a}={}){let{basename:i}=L.useContext(oa),l=L.useContext(yn);jt(l,"useFormAction must be used inside a RouteContext");let[d]=l.matches.slice(-1),f={...Go(n||".",{relative:a})},m=gi();if(n==null){f.search=m.search;let v=new URLSearchParams(f.search),p=v.getAll("index");if(p.some(S=>S==="")){v.delete("index"),p.filter(j=>j).forEach(j=>v.append("index",j));let S=v.toString();f.search=S?`?${S}`:""}}return(!n||n===".")&&d.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(f.pathname=f.pathname==="/"?i:bn([i,f.pathname])),Mo(f)}function E_(n,{relative:a}={}){let i=L.useContext(Zp);jt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=lb("useViewTransitionState"),d=Go(n,{relative:a});if(!i.isTransitioning)return!1;let f=vn(i.currentLocation.pathname,l)||i.currentLocation.pathname,m=vn(i.nextLocation.pathname,l)||i.nextLocation.pathname;return Ru(d.pathname,m)!=null||Ru(d.pathname,f)!=null}function qu(n,a){var i={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&a.indexOf(l)<0&&(i[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,l=Object.getOwnPropertySymbols(n);d<l.length;d++)a.indexOf(l[d])<0&&Object.prototype.propertyIsEnumerable.call(n,l[d])&&(i[l[d]]=n[l[d]]);return i}function N_(n,a,i,l){function d(f){return f instanceof i?f:new i(function(m){m(f)})}return new(i||(i=Promise))(function(f,m){function v(S){try{y(l.next(S))}catch(j){m(j)}}function p(S){try{y(l.throw(S))}catch(j){m(j)}}function y(S){S.done?f(S.value):d(S.value).then(v,p)}y((l=l.apply(n,a||[])).next())})}const T_=n=>n?(...a)=>n(...a):(...a)=>fetch(...a);class gf extends Error{constructor(a,i="FunctionsError",l){super(a),this.name=i,this.context=l}}class A_ extends gf{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class pp extends gf{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class bp extends gf{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Zh;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Zh||(Zh={}));class O_{constructor(a,{headers:i={},customFetch:l,region:d=Zh.Any}={}){this.url=a,this.headers=i,this.region=d,this.fetch=T_(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return N_(this,arguments,void 0,function*(i,l={}){var d;let f,m;try{const{headers:v,method:p,body:y,signal:S,timeout:j}=l;let N={},{region:A}=l;A||(A=this.region);const z=new URL(`${this.url}/${i}`);A&&A!=="any"&&(N["x-region"]=A,z.searchParams.set("forceFunctionRegion",A));let k;y&&(v&&!Object.prototype.hasOwnProperty.call(v,"Content-Type")||!v)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(N["Content-Type"]="application/octet-stream",k=y):typeof y=="string"?(N["Content-Type"]="text/plain",k=y):typeof FormData<"u"&&y instanceof FormData?k=y:(N["Content-Type"]="application/json",k=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?k=JSON.stringify(y):k=y;let D=S;j&&(m=new AbortController,f=setTimeout(()=>m.abort(),j),S?(D=m.signal,S.addEventListener("abort",()=>m.abort())):D=m.signal);const V=yield this.fetch(z.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},N),this.headers),v),body:k,signal:D}).catch(ae=>{throw new A_(ae)}),q=V.headers.get("x-relay-error");if(q&&q==="true")throw new pp(V);if(!V.ok)throw new bp(V);let U=((d=V.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),W;return U==="application/json"?W=yield V.json():U==="application/octet-stream"||U==="application/pdf"?W=yield V.blob():U==="text/event-stream"?W=V:U==="multipart/form-data"?W=yield V.formData():W=yield V.text(),{data:W,error:null,response:V}}catch(v){return{data:null,error:v,response:v instanceof bp||v instanceof pp?v.context:void 0}}finally{f&&clearTimeout(f)}})}}var C_=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},k_=class{constructor(n){var a,i;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(a=n.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=n.signal,this.isMaybeSingle=(i=n.isMaybeSingle)!==null&&i!==void 0?i:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,a){return this.headers=new Headers(this.headers),this.headers.set(n,a),this}then(n,a){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let d=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{let m=null,v=null,p=null,y=f.status,S=f.statusText;if(f.ok){var j,N;if(i.method!=="HEAD"){var A;const V=await f.text();V===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((A=i.headers.get("Accept"))===null||A===void 0)&&A.includes("application/vnd.pgrst.plan+text"))?v=V:v=JSON.parse(V))}const k=(j=i.headers.get("Prefer"))===null||j===void 0?void 0:j.match(/count=(exact|planned|estimated)/),D=(N=f.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");k&&D&&D.length>1&&(p=parseInt(D[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(v)&&(v.length>1?(m={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,p=null,y=406,S="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{var z;const k=await f.text();try{m=JSON.parse(k),Array.isArray(m)&&f.status===404&&(v=[],m=null,y=200,S="OK")}catch{f.status===404&&k===""?(y=204,S="No Content"):m={message:k}}if(m&&i.isMaybeSingle&&(!(m==null||(z=m.details)===null||z===void 0)&&z.includes("0 rows"))&&(m=null,y=200,S="OK"),m&&i.shouldThrowOnError)throw new C_(m)}return{error:m,data:v,count:p,status:y,statusText:S}});return this.shouldThrowOnError||(d=d.catch(f=>{var m;let v="";const p=f?.cause;if(p){var y,S,j,N;const z=(y=p?.message)!==null&&y!==void 0?y:"",k=(S=p?.code)!==null&&S!==void 0?S:"";v=`${(j=f?.name)!==null&&j!==void 0?j:"FetchError"}: ${f?.message}`,v+=`

Caused by: ${(N=p?.name)!==null&&N!==void 0?N:"Error"}: ${z}`,k&&(v+=` (${k})`),p?.stack&&(v+=`
${p.stack}`)}else{var A;v=(A=f?.stack)!==null&&A!==void 0?A:""}return{error:{message:`${(m=f?.name)!==null&&m!==void 0?m:"FetchError"}: ${f?.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(n,a)}returns(){return this}overrideTypes(){return this}},R_=class extends k_{select(n){let a=!1;const i=(n??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:a=!0,nullsFirst:i,foreignTable:l,referencedTable:d=l}={}){const f=d?`${d}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${n}.${a?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:a,referencedTable:i=a}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${n}`),this}range(n,a,{foreignTable:i,referencedTable:l=i}={}){const d=typeof l>"u"?"offset":`${l}.offset`,f=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${n}`),this.url.searchParams.set(f,`${a-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:a=!1,settings:i=!1,buffers:l=!1,wal:d=!1,format:f="text"}={}){var m;const v=[n?"analyze":null,a?"verbose":null,i?"settings":null,l?"buffers":null,d?"wal":null].filter(Boolean).join("|"),p=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${p}"; options=${v};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const vp=new RegExp("[,()]");var Fr=class extends R_{eq(n,a){return this.url.searchParams.append(n,`eq.${a}`),this}neq(n,a){return this.url.searchParams.append(n,`neq.${a}`),this}gt(n,a){return this.url.searchParams.append(n,`gt.${a}`),this}gte(n,a){return this.url.searchParams.append(n,`gte.${a}`),this}lt(n,a){return this.url.searchParams.append(n,`lt.${a}`),this}lte(n,a){return this.url.searchParams.append(n,`lte.${a}`),this}like(n,a){return this.url.searchParams.append(n,`like.${a}`),this}likeAllOf(n,a){return this.url.searchParams.append(n,`like(all).{${a.join(",")}}`),this}likeAnyOf(n,a){return this.url.searchParams.append(n,`like(any).{${a.join(",")}}`),this}ilike(n,a){return this.url.searchParams.append(n,`ilike.${a}`),this}ilikeAllOf(n,a){return this.url.searchParams.append(n,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(n,a){return this.url.searchParams.append(n,`ilike(any).{${a.join(",")}}`),this}regexMatch(n,a){return this.url.searchParams.append(n,`match.${a}`),this}regexIMatch(n,a){return this.url.searchParams.append(n,`imatch.${a}`),this}is(n,a){return this.url.searchParams.append(n,`is.${a}`),this}isDistinct(n,a){return this.url.searchParams.append(n,`isdistinct.${a}`),this}in(n,a){const i=Array.from(new Set(a)).map(l=>typeof l=="string"&&vp.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(n,`in.(${i})`),this}notIn(n,a){const i=Array.from(new Set(a)).map(l=>typeof l=="string"&&vp.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(n,`not.in.(${i})`),this}contains(n,a){return typeof a=="string"?this.url.searchParams.append(n,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(n,`cs.{${a.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(a)}`),this}containedBy(n,a){return typeof a=="string"?this.url.searchParams.append(n,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(n,`cd.{${a.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(a)}`),this}rangeGt(n,a){return this.url.searchParams.append(n,`sr.${a}`),this}rangeGte(n,a){return this.url.searchParams.append(n,`nxl.${a}`),this}rangeLt(n,a){return this.url.searchParams.append(n,`sl.${a}`),this}rangeLte(n,a){return this.url.searchParams.append(n,`nxr.${a}`),this}rangeAdjacent(n,a){return this.url.searchParams.append(n,`adj.${a}`),this}overlaps(n,a){return typeof a=="string"?this.url.searchParams.append(n,`ov.${a}`):this.url.searchParams.append(n,`ov.{${a.join(",")}}`),this}textSearch(n,a,{config:i,type:l}={}){let d="";l==="plain"?d="pl":l==="phrase"?d="ph":l==="websearch"&&(d="w");const f=i===void 0?"":`(${i})`;return this.url.searchParams.append(n,`${d}fts${f}.${a}`),this}match(n){return Object.entries(n).forEach(([a,i])=>{this.url.searchParams.append(a,`eq.${i}`)}),this}not(n,a,i){return this.url.searchParams.append(n,`not.${a}.${i}`),this}or(n,{foreignTable:a,referencedTable:i=a}={}){const l=i?`${i}.or`:"or";return this.url.searchParams.append(l,`(${n})`),this}filter(n,a,i){return this.url.searchParams.append(n,`${a}.${i}`),this}},D_=class{constructor(n,{headers:a={},schema:i,fetch:l}){this.url=n,this.headers=new Headers(a),this.schema=i,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,a){const{head:i=!1,count:l}=a??{},d=i?"HEAD":"GET";let f=!1;const m=(n??"*").split("").map(y=>/\s/.test(y)&&!f?"":(y==='"'&&(f=!f),y)).join(""),{url:v,headers:p}=this.cloneRequestState();return v.searchParams.set("select",m),l&&p.append("Prefer",`count=${l}`),new Fr({method:d,url:v,headers:p,schema:this.schema,fetch:this.fetch})}insert(n,{count:a,defaultToNull:i=!0}={}){var l;const d="POST",{url:f,headers:m}=this.cloneRequestState();if(a&&m.append("Prefer",`count=${a}`),i||m.append("Prefer","missing=default"),Array.isArray(n)){const v=n.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(v.length>0){const p=[...new Set(v)].map(y=>`"${y}"`);f.searchParams.set("columns",p.join(","))}}return new Fr({method:d,url:f,headers:m,schema:this.schema,body:n,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(n,{onConflict:a,ignoreDuplicates:i=!1,count:l,defaultToNull:d=!0}={}){var f;const m="POST",{url:v,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),a!==void 0&&v.searchParams.set("on_conflict",a),l&&p.append("Prefer",`count=${l}`),d||p.append("Prefer","missing=default"),Array.isArray(n)){const y=n.reduce((S,j)=>S.concat(Object.keys(j)),[]);if(y.length>0){const S=[...new Set(y)].map(j=>`"${j}"`);v.searchParams.set("columns",S.join(","))}}return new Fr({method:m,url:v,headers:p,schema:this.schema,body:n,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(n,{count:a}={}){var i;const l="PATCH",{url:d,headers:f}=this.cloneRequestState();return a&&f.append("Prefer",`count=${a}`),new Fr({method:l,url:d,headers:f,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:n}={}){var a;const i="DELETE",{url:l,headers:d}=this.cloneRequestState();return n&&d.append("Prefer",`count=${n}`),new Fr({method:i,url:l,headers:d,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},U_=class ob{constructor(a,{headers:i={},schema:l,fetch:d}={}){this.url=a,this.headers=new Headers(i),this.schemaName=l,this.fetch=d}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new D_(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new ob(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,i={},{head:l=!1,get:d=!1,count:f}={}){var m;let v;const p=new URL(`${this.url}/rpc/${a}`);let y;const S=A=>A!==null&&typeof A=="object"&&(!Array.isArray(A)||A.some(S)),j=l&&Object.values(i).some(S);j?(v="POST",y=i):l||d?(v=l?"HEAD":"GET",Object.entries(i).filter(([A,z])=>z!==void 0).map(([A,z])=>[A,Array.isArray(z)?`{${z.join(",")}}`:`${z}`]).forEach(([A,z])=>{p.searchParams.append(A,z)})):(v="POST",y=i);const N=new Headers(this.headers);return j?N.set("Prefer",f?`count=${f},return=minimal`:"return=minimal"):f&&N.set("Prefer",`count=${f}`),new Fr({method:v,url:p,headers:N,schema:this.schemaName,body:y,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};class M_{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const l=i.versions;if(l&&l.node){const d=l.node,f=parseInt(d.replace(/^v/,"").split(".")[0]);return f>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${f} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${f} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let i=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(i+=`

Suggested solution: ${a.workaround}`),new Error(i)}static createWebSocket(a,i){const l=this.getWebSocketConstructor();return new l(a,i)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const z_="2.90.1",L_=`realtime-js/${z_}`,cb="1.0.0",$_="2.0.0",yp=cb,Fh=1e4,B_=1e3,q_=100;var fi;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(fi||(fi={}));var Ht;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ht||(Ht={}));var Ea;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Ea||(Ea={}));var Wh;(function(n){n.websocket="websocket"})(Wh||(Wh={}));var Qi;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Qi||(Qi={}));class H_{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,i){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(a){var i;return this._isArrayBuffer((i=a.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var i,l;const d=(l=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(a){var i,l;const d=(l=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},m=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,m)}_encodeUserBroadcastPush(a,i,l){var d,f;const m=a.topic,v=(d=a.ref)!==null&&d!==void 0?d:"",p=(f=a.join_ref)!==null&&f!==void 0?f:"",y=a.payload.event,S=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},j=Object.keys(S).length===0?"":JSON.stringify(S);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`ref length ${v.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`topic length ${m.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(j.length>255)throw new Error(`metadata length ${j.length} exceeds maximum of 255`);const N=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+v.length+m.length+y.length+j.length,A=new ArrayBuffer(this.HEADER_LENGTH+N);let z=new DataView(A),k=0;z.setUint8(k++,this.KINDS.userBroadcastPush),z.setUint8(k++,p.length),z.setUint8(k++,v.length),z.setUint8(k++,m.length),z.setUint8(k++,y.length),z.setUint8(k++,j.length),z.setUint8(k++,i),Array.from(p,V=>z.setUint8(k++,V.charCodeAt(0))),Array.from(v,V=>z.setUint8(k++,V.charCodeAt(0))),Array.from(m,V=>z.setUint8(k++,V.charCodeAt(0))),Array.from(y,V=>z.setUint8(k++,V.charCodeAt(0))),Array.from(j,V=>z.setUint8(k++,V.charCodeAt(0)));var D=new Uint8Array(A.byteLength+l.byteLength);return D.set(new Uint8Array(A),0),D.set(new Uint8Array(l),A.byteLength),D.buffer}decode(a,i){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return i(l)}if(typeof a=="string"){const l=JSON.parse(a),[d,f,m,v,p]=l;return i({join_ref:d,ref:f,topic:m,event:v,payload:p})}return i({})}_binaryDecode(a){const i=new DataView(a),l=i.getUint8(0),d=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,i,d)}_decodeUserBroadcast(a,i,l){const d=i.getUint8(1),f=i.getUint8(2),m=i.getUint8(3),v=i.getUint8(4);let p=this.HEADER_LENGTH+4;const y=l.decode(a.slice(p,p+d));p=p+d;const S=l.decode(a.slice(p,p+f));p=p+f;const j=l.decode(a.slice(p,p+m));p=p+m;const N=a.slice(p,a.byteLength),A=v===this.JSON_ENCODING?JSON.parse(l.decode(N)):N,z={type:this.BROADCAST_EVENT,event:S,payload:A};return m>0&&(z.meta=JSON.parse(j)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:z}}_isArrayBuffer(a){var i;return a instanceof ArrayBuffer||((i=a?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(a,i){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([l])=>i.includes(l)))}}class ub{constructor(a,i){this.callback=a,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var dt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(dt||(dt={}));const _p=(n,a,i={})=>{var l;const d=(l=i.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((f,m)=>(f[m]=V_(m,n,a,d),f),{}):{}},V_=(n,a,i,l)=>{const d=a.find(v=>v.name===n),f=d?.type,m=i[n];return f&&!l.includes(f)?db(f,m):ef(m)},db=(n,a)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return K_(a,i)}switch(n){case dt.bool:return P_(a);case dt.float4:case dt.float8:case dt.int2:case dt.int4:case dt.int8:case dt.numeric:case dt.oid:return G_(a);case dt.json:case dt.jsonb:return I_(a);case dt.timestamp:return Y_(a);case dt.abstime:case dt.date:case dt.daterange:case dt.int4range:case dt.int8range:case dt.money:case dt.reltime:case dt.text:case dt.time:case dt.timestamptz:case dt.timetz:case dt.tsrange:case dt.tstzrange:return ef(a);default:return ef(a)}},ef=n=>n,P_=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},G_=n=>{if(typeof n=="string"){const a=parseFloat(n);if(!Number.isNaN(a))return a}return n},I_=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},K_=(n,a)=>{if(typeof n!="string")return n;const i=n.length-1,l=n[i];if(n[0]==="{"&&l==="}"){let f;const m=n.slice(1,i);try{f=JSON.parse("["+m+"]")}catch{f=m?m.split(","):[]}return f.map(v=>db(a,v))}return n},Y_=n=>typeof n=="string"?n.replace(" ","T"):n,hb=n=>{const a=new URL(n);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class qh{constructor(a,i,l={},d=Fh){this.channel=a,this.event=i,this.payload=l,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,i){var l;return this._hasReceived(a)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:i}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(i))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var wp;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(wp||(wp={}));class Do{constructor(a,i){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},d=>{const{onJoin:f,onLeave:m,onSync:v}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Do.syncState(this.state,d,f,m),this.pendingDiffs.forEach(p=>{this.state=Do.syncDiff(this.state,p,f,m)}),this.pendingDiffs=[],v()}),this.channel._on(l.diff,{},d=>{const{onJoin:f,onLeave:m,onSync:v}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=Do.syncDiff(this.state,d,f,m),v())}),this.onJoin((d,f,m)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:f,newPresences:m})}),this.onLeave((d,f,m)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:f,leftPresences:m})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,i,l,d){const f=this.cloneDeep(a),m=this.transformState(i),v={},p={};return this.map(f,(y,S)=>{m[y]||(p[y]=S)}),this.map(m,(y,S)=>{const j=f[y];if(j){const N=S.map(D=>D.presence_ref),A=j.map(D=>D.presence_ref),z=S.filter(D=>A.indexOf(D.presence_ref)<0),k=j.filter(D=>N.indexOf(D.presence_ref)<0);z.length>0&&(v[y]=z),k.length>0&&(p[y]=k)}else v[y]=S}),this.syncDiff(f,{joins:v,leaves:p},l,d)}static syncDiff(a,i,l,d){const{joins:f,leaves:m}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),d||(d=()=>{}),this.map(f,(v,p)=>{var y;const S=(y=a[v])!==null&&y!==void 0?y:[];if(a[v]=this.cloneDeep(p),S.length>0){const j=a[v].map(A=>A.presence_ref),N=S.filter(A=>j.indexOf(A.presence_ref)<0);a[v].unshift(...N)}l(v,S,p)}),this.map(m,(v,p)=>{let y=a[v];if(!y)return;const S=p.map(j=>j.presence_ref);y=y.filter(j=>S.indexOf(j.presence_ref)<0),a[v]=y,d(v,y,p),y.length===0&&delete a[v]}),a}static map(a,i){return Object.getOwnPropertyNames(a).map(l=>i(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((i,l)=>{const d=a[l];return"metas"in d?i[l]=d.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):i[l]=d,i},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xp;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(xp||(xp={}));var Uo;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Uo||(Uo={}));var pn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(pn||(pn={}));class tl{constructor(a,i={config:{}},l){var d,f;if(this.topic=a,this.params=i,this.socket=l,this.bindings={},this.state=Ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new qh(this,Ea.join,this.params,this.timeout),this.rejoinTimer=new ub(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(m=>m.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ht.closed,this.socket._remove(this)}),this._onError(m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ea.reply,{},(m,v)=>{this._trigger(this._replyEventName(v),m)}),this.presence=new Do(this),this.broadcastEndpointURL=hb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((f=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,i=this.timeout){var l,d,f;if(this.socket.isConnected()||this.socket.connect(),this.state==Ht.closed){const{config:{broadcast:m,presence:v,private:p}}=this.params,y=(d=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(A=>A.filter))!==null&&d!==void 0?d:[],S=!!this.bindings[Uo.PRESENCE]&&this.bindings[Uo.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,j={},N={broadcast:m,presence:Object.assign(Object.assign({},v),{enabled:S}),postgres_changes:y,private:p};this.socket.accessTokenValue&&(j.access_token=this.socket.accessTokenValue),this._onError(A=>a?.(pn.CHANNEL_ERROR,A)),this._onClose(()=>a?.(pn.CLOSED)),this.updateJoinPayload(Object.assign({config:N},j)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:A})=>{var z;if(this.socket._isManualToken()||this.socket.setAuth(),A===void 0){a?.(pn.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,D=(z=k?.length)!==null&&z!==void 0?z:0,V=[];for(let q=0;q<D;q++){const U=k[q],{filter:{event:W,schema:ae,table:se,filter:J}}=U,Re=A&&A[q];if(Re&&Re.event===W&&tl.isFilterValueEqual(Re.schema,ae)&&tl.isFilterValueEqual(Re.table,se)&&tl.isFilterValueEqual(Re.filter,J))V.push(Object.assign(Object.assign({},U),{id:Re.id}));else{this.unsubscribe(),this.state=Ht.errored,a?.(pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,a&&a(pn.SUBSCRIBED);return}}).receive("error",A=>{this.state=Ht.errored,a?.(pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{a?.(pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,i={}){return await this.send({type:"presence",event:"track",payload:a},i.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,i,l){return this.state===Ht.joined&&a===Uo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,i,l)}async httpSend(a,i,l={}){var d;if(i==null)return Promise.reject("Payload is required for httpSend()");const f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})},v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(d=l.timeout)!==null&&d!==void 0?d:this.timeout);if(v.status===202)return{success:!0};let p=v.statusText;try{const y=await v.json();p=y.error||y.message||p}catch{}return Promise.reject(new Error(p))}async send(a,i={}){var l,d;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:f,payload:m}=a,v={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(v.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:v,body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:m,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((d=y.body)===null||d===void 0?void 0:d.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var m,v,p;const y=this._push(a.type,a,i.timeout||this.timeout);a.type==="broadcast"&&!(!((p=(v=(m=this.params)===null||m===void 0?void 0:m.config)===null||v===void 0?void 0:v.broadcast)===null||p===void 0)&&p.ack)&&f("ok"),y.receive("ok",()=>f("ok")),y.receive("error",()=>f("error")),y.receive("timeout",()=>f("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Ht.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ea.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(d=>{l=new qh(this,Ea.leave,{},a),l.receive("ok",()=>{i(),d("ok")}).receive("timeout",()=>{i(),d("timed out")}).receive("error",()=>{d("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ht.closed,this.bindings={}}async _fetchWithTimeout(a,i,l){const d=new AbortController,f=setTimeout(()=>d.abort(),l),m=await this.socket.fetch(a,Object.assign(Object.assign({},i),{signal:d.signal}));return clearTimeout(f),m}_push(a,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new qh(this,a,i,l);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>q_){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(a,i,l){return i}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,i,l){var d,f;const m=a.toLocaleLowerCase(),{close:v,error:p,leave:y,join:S}=Ea;if(l&&[v,p,y,S].indexOf(m)>=0&&l!==this._joinRef())return;let N=this._onMessage(m,i,l);if(i&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(m)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(A=>{var z,k,D;return((z=A.filter)===null||z===void 0?void 0:z.event)==="*"||((D=(k=A.filter)===null||k===void 0?void 0:k.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===m}).map(A=>A.callback(N,l)):(f=this.bindings[m])===null||f===void 0||f.filter(A=>{var z,k,D,V,q,U,W,ae;if(["broadcast","presence","postgres_changes"].includes(m))if("id"in A){const se=A.id,J=(z=A.filter)===null||z===void 0?void 0:z.event;return se&&((k=i.ids)===null||k===void 0?void 0:k.includes(se))&&(J==="*"||J?.toLocaleLowerCase()===((D=i.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))&&(!(!((V=A.filter)===null||V===void 0)&&V.table)||A.filter.table===((q=i.data)===null||q===void 0?void 0:q.table))}else{const se=(W=(U=A?.filter)===null||U===void 0?void 0:U.event)===null||W===void 0?void 0:W.toLocaleLowerCase();return se==="*"||se===((ae=i?.event)===null||ae===void 0?void 0:ae.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===m}).map(A=>{if(typeof N=="object"&&"ids"in N){const z=N.data,{schema:k,table:D,commit_timestamp:V,type:q,errors:U}=z;N=Object.assign(Object.assign({},{schema:k,table:D,commit_timestamp:V,eventType:q,new:{},old:{},errors:U}),this._getPayloadRecords(z))}A.callback(N,l)})}_isClosed(){return this.state===Ht.closed}_isJoined(){return this.state===Ht.joined}_isJoining(){return this.state===Ht.joining}_isLeaving(){return this.state===Ht.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,i,l){const d=a.toLocaleLowerCase(),f={type:d,filter:i,callback:l};return this.bindings[d]?this.bindings[d].push(f):this.bindings[d]=[f],this}_off(a,i){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(d=>{var f;return!(((f=d.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===l&&tl.isEqual(d.filter,i))})),this}static isEqual(a,i){if(Object.keys(a).length!==Object.keys(i).length)return!1;for(const l in a)if(a[l]!==i[l])return!1;return!0}static isFilterValueEqual(a,i){return(a??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Ea.close,{},a)}_onError(a){this._on(Ea.error,{},i=>a(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ht.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const i={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(i.new=_p(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(i.old=_p(a.columns,a.old_record)),i}}const Hh=()=>{},Su={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},X_=[1e3,2e3,5e3,1e4],Q_=1e4,J_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Z_{constructor(a,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fh,this.transport=null,this.heartbeatIntervalMs=Su.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hh,this.ref=0,this.reconnectTimer=null,this.vsn=yp,this.logger=Hh,this.conn=null,this.sendBuffer=[],this.serializer=new H_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=d=>d?(...f)=>d(...f):(...f)=>fetch(...f),!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${a}/${Wh.websocket}`,this.httpEndpoint=hb(a),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=M_.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const i=a.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const i=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const a=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,i,l){this.logger(a,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case fi.connecting:return Qi.Connecting;case fi.open:return Qi.Open;case fi.closing:return Qi.Closing;default:return Qi.Closed}}isConnected(){return this.connectionState()===Qi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,i={config:{}}){const l=`realtime:${a}`,d=this.getChannels().find(f=>f.topic===l);if(d)return d;{const f=new tl(`realtime:${a}`,i,this);return this.channels.push(f),f}}push(a){const{topic:i,event:l,payload:d,ref:f}=a,m=()=>{this.encode(a,v=>{var p;(p=this.conn)===null||p===void 0||p.send(v)})};this.log("push",`${i} ${l} (${f})`,d),this.isConnected()?m():this.sendBuffer.push(m)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(B_,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Su.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let i=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${a}"`),i.unsubscribe())}_remove(a){this.channels=this.channels.filter(i=>i.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",y)}catch(S){this.log("error","error in heartbeat callback",S)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:d,payload:f,ref:m}=i,v=m?`(${m})`:"",p=f.status||"";this.log("receive",`${p} ${l} ${d} ${v}`.trim(),f),this.channels.filter(y=>y._isMember(l)).forEach(y=>y._trigger(d,f,m)),this._triggerStateCallbacks("message",i)})}_clearTimer(a){var i;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===fi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===fi.open||this.conn.readyState===fi.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var i;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Ea.error))}_appendParams(a,i){if(Object.keys(i).length===0)return a;const l=a.match(/\?/)?"&":"?",d=new URLSearchParams(i);return`${a}${l}${d}`}_workerObjectUrl(a){let i;if(a)i=a;else{const l=new Blob([J_],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(a,i=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(a=null){let i,l=!1;if(a)i=a,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(d){this.log("error","Error fetching access token from callback",d),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(d=>{const f={access_token:i,version:L_};i&&d.updateJoinPayload(f),d.joinedOnce&&d._isJoined()&&d._push(Ea.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${a}`,i)})}_triggerStateCallbacks(a,i){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(i)}catch(d){this.log("error",`error in ${a} callback`,d)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new ub(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Su.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var i,l,d,f,m,v,p,y,S,j,N,A;switch(this.transport=(i=a?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=a?.timeout)!==null&&l!==void 0?l:Fh,this.heartbeatIntervalMs=(d=a?.heartbeatIntervalMs)!==null&&d!==void 0?d:Su.HEARTBEAT_INTERVAL,this.worker=(f=a?.worker)!==null&&f!==void 0?f:!1,this.accessToken=(m=a?.accessToken)!==null&&m!==void 0?m:null,this.heartbeatCallback=(v=a?.heartbeatCallback)!==null&&v!==void 0?v:Hh,this.vsn=(p=a?.vsn)!==null&&p!==void 0?p:yp,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=a?.reconnectAfterMs)!==null&&y!==void 0?y:(z=>X_[z-1]||Q_),this.vsn){case cb:this.encode=(S=a?.encode)!==null&&S!==void 0?S:((z,k)=>k(JSON.stringify(z))),this.decode=(j=a?.decode)!==null&&j!==void 0?j:((z,k)=>k(JSON.parse(z)));break;case $_:this.encode=(N=a?.encode)!==null&&N!==void 0?N:this.serializer.encode.bind(this.serializer),this.decode=(A=a?.decode)!==null&&A!==void 0?A:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var zo=class extends Error{constructor(n,a){super(n),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function F_(n,a,i){const l=new URL(a,n);if(i)for(const[d,f]of Object.entries(i))f!==void 0&&l.searchParams.set(d,f);return l.toString()}async function W_(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function e0(n){const a=n.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:d,body:f,headers:m}){const v=F_(n.baseUrl,l,d),p=await W_(n.auth),y=await a(v,{method:i,headers:{...f?{"Content-Type":"application/json"}:{},...p,...m},body:f?JSON.stringify(f):void 0}),S=await y.text(),j=(y.headers.get("content-type")||"").includes("application/json"),N=j&&S?JSON.parse(S):S;if(!y.ok){const A=j?N:void 0,z=A?.error;throw new zo(z?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:z?.type,icebergCode:z?.code,details:A})}return{status:y.status,headers:y.headers,data:N}}}}function Eu(n){return n.join("")}var t0=class{constructor(n,a=""){this.client=n,this.prefix=a}async listNamespaces(n){const a=n?{parent:Eu(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(n,a){const i={namespace:n.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Eu(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Eu(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Eu(n.namespace)}`}),!0}catch(a){if(a instanceof zo&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(n,a){try{return await this.createNamespace(n,a)}catch(i){if(i instanceof zo&&i.status===409)return;throw i}}};function Gr(n){return n.join("")}var s0=class{constructor(n,a="",i){this.client=n,this.prefix=a,this.accessDelegation=i}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gr(n.namespace)}/tables`})).data.identifiers}async createTable(n,a){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Gr(n.namespace)}/tables`,body:a,headers:i})).data.metadata}async updateTable(n,a){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Gr(n.namespace)}/tables/${n.name}`,body:a});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(n,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gr(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(n){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gr(n.namespace)}/tables/${n.name}`,headers:a})).data.metadata}async tableExists(n){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gr(n.namespace)}/tables/${n.name}`,headers:a}),!0}catch(i){if(i instanceof zo&&i.status===404)return!1;throw i}}async createTableIfNotExists(n,a){try{return await this.createTable(n,a)}catch(i){if(i instanceof zo&&i.status===409)return await this.loadTable({namespace:n.namespace,name:a.name});throw i}}},a0=class{constructor(n){let a="v1";n.catalogName&&(a+=`/${n.catalogName}`);const i=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=e0({baseUrl:i,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new t0(this.client,a),this.tableOps=new s0(this.client,a,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,a){return this.namespaceOps.createNamespace(n,a)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,a){return this.tableOps.createTable(n,a)}async updateTable(n,a){return this.tableOps.updateTable(n,a)}async dropTable(n,a){await this.tableOps.dropTable(n,a)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,a){return this.namespaceOps.createNamespaceIfNotExists(n,a)}async createTableIfNotExists(n,a){return this.tableOps.createTableIfNotExists(n,a)}},Hu=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function xt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var n0=class extends Hu{constructor(n,a,i){super(n),this.name="StorageApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tf=class extends Hu{constructor(n,a){super(n),this.name="StorageUnknownError",this.originalError=a}};const pf=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),i0=()=>Response,sf=n=>{if(Array.isArray(n))return n.map(i=>sf(i));if(typeof n=="function"||n!==Object(n))return n;const a={};return Object.entries(n).forEach(([i,l])=>{const d=i.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));a[d]=sf(l)}),a},r0=n=>{if(typeof n!="object"||n===null)return!1;const a=Object.getPrototypeOf(n);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},l0=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Lo(n){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Lo(n)}function o0(n,a){if(Lo(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var l=i.call(n,a);if(Lo(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function c0(n){var a=o0(n,"string");return Lo(a)=="symbol"?a:a+""}function u0(n,a,i){return(a=c0(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i,n}function jp(n,a){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);a&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(n,d).enumerable})),i.push.apply(i,l)}return i}function Ee(n){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?jp(Object(i),!0).forEach(function(l){u0(n,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):jp(Object(i)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(i,l))})}return n}const Vh=n=>{var a;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(a=n.error)===null||a===void 0?void 0:a.message)||JSON.stringify(n)},d0=async(n,a,i)=>{n instanceof await i0()&&!i?.noResolveJson?n.json().then(l=>{const d=n.status||500,f=l?.statusCode||d+"";a(new n0(Vh(l),d,f))}).catch(l=>{a(new tf(Vh(l),l))}):a(new tf(Vh(n),n))},h0=(n,a,i,l)=>{const d={method:n,headers:a?.headers||{}};return n==="GET"||!l?d:(r0(l)?(d.headers=Ee({"Content-Type":"application/json"},a?.headers),d.body=JSON.stringify(l)):d.body=l,a?.duplex&&(d.duplex=a.duplex),Ee(Ee({},d),i))};async function Io(n,a,i,l,d,f){return new Promise((m,v)=>{n(i,h0(a,l,d,f)).then(p=>{if(!p.ok)throw p;return l?.noResolveJson?p:p.json()}).then(p=>m(p)).catch(p=>d0(p,v,l))})}async function $o(n,a,i,l){return Io(n,"GET",a,i,l)}async function Sa(n,a,i,l,d){return Io(n,"POST",a,l,d,i)}async function af(n,a,i,l,d){return Io(n,"PUT",a,l,d,i)}async function f0(n,a,i,l){return Io(n,"HEAD",a,Ee(Ee({},i),{},{noResolveJson:!0}),l)}async function bf(n,a,i,l,d){return Io(n,"DELETE",a,l,d,i)}var m0=class{constructor(n,a){this.downloadFn=n,this.shouldThrowOnError=a}then(n,a){return this.execute().then(n,a)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}}};let fb;fb=Symbol.toStringTag;var g0=class{constructor(n,a){this.downloadFn=n,this.shouldThrowOnError=a,this[fb]="BlobDownloadBuilder",this.promise=null}asStream(){return new m0(this.downloadFn,this.shouldThrowOnError)}then(n,a){return this.getPromise().then(n,a)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}}};const p0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var b0=class{constructor(n,a={},i,l){this.shouldThrowOnError=!1,this.url=n,this.headers=a,this.bucketId=i,this.fetch=pf(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,a,i,l){var d=this;try{let f;const m=Ee(Ee({},Sp),l);let v=Ee(Ee({},d.headers),n==="POST"&&{"x-upsert":String(m.upsert)});const p=m.metadata;typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),p&&f.append("metadata",d.encodeMetadata(p)),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.has("cacheControl")||f.append("cacheControl",m.cacheControl),p&&!f.has("metadata")&&f.append("metadata",d.encodeMetadata(p))):(f=i,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType,p&&(v["x-metadata"]=d.toBase64(d.encodeMetadata(p))),(typeof ReadableStream<"u"&&f instanceof ReadableStream||f&&typeof f=="object"&&"pipe"in f&&typeof f.pipe=="function")&&!m.duplex&&(m.duplex="half")),l?.headers&&(v=Ee(Ee({},v),l.headers));const y=d._removeEmptyFolders(a),S=d._getFinalPath(y),j=await(n=="PUT"?af:Sa)(d.fetch,`${d.url}/object/${S}`,f,Ee({headers:v},m?.duplex?{duplex:m.duplex}:{}));return{data:{path:y,id:j.Id,fullPath:j.Key},error:null}}catch(f){if(d.shouldThrowOnError)throw f;if(xt(f))return{data:null,error:f};throw f}}async upload(n,a,i){return this.uploadOrUpdate("POST",n,a,i)}async uploadToSignedUrl(n,a,i,l){var d=this;const f=d._removeEmptyFolders(n),m=d._getFinalPath(f),v=new URL(d.url+`/object/upload/sign/${m}`);v.searchParams.set("token",a);try{let p;const y=Ee({upsert:Sp.upsert},l),S=Ee(Ee({},d.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",y.cacheControl)):(p=i,S["cache-control"]=`max-age=${y.cacheControl}`,S["content-type"]=y.contentType),{data:{path:f,fullPath:(await af(d.fetch,v.toString(),p,{headers:S})).Key},error:null}}catch(p){if(d.shouldThrowOnError)throw p;if(xt(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(n,a){var i=this;try{let l=i._getFinalPath(n);const d=Ee({},i.headers);a?.upsert&&(d["x-upsert"]="true");const f=await Sa(i.fetch,`${i.url}/object/upload/sign/${l}`,{},{headers:d}),m=new URL(i.url+f.url),v=m.searchParams.get("token");if(!v)throw new Hu("No token returned by API");return{data:{signedUrl:m.toString(),path:n,token:v},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(xt(l))return{data:null,error:l};throw l}}async update(n,a,i){return this.uploadOrUpdate("PUT",n,a,i)}async move(n,a,i){var l=this;try{return{data:await Sa(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:n,destinationKey:a,destinationBucket:i?.destinationBucket},{headers:l.headers}),error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(xt(d))return{data:null,error:d};throw d}}async copy(n,a,i){var l=this;try{return{data:{path:(await Sa(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:n,destinationKey:a,destinationBucket:i?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(xt(d))return{data:null,error:d};throw d}}async createSignedUrl(n,a,i){var l=this;try{let d=l._getFinalPath(n),f=await Sa(l.fetch,`${l.url}/object/sign/${d}`,Ee({expiresIn:a},i?.transform?{transform:i.transform}:{}),{headers:l.headers});const m=i?.download?`&download=${i.download===!0?"":i.download}`:"";return f={signedUrl:encodeURI(`${l.url}${f.signedURL}${m}`)},{data:f,error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(xt(d))return{data:null,error:d};throw d}}async createSignedUrls(n,a,i){var l=this;try{const d=await Sa(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:a,paths:n},{headers:l.headers}),f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:d.map(m=>Ee(Ee({},m),{},{signedUrl:m.signedURL?encodeURI(`${l.url}${m.signedURL}${f}`):null})),error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(xt(d))return{data:null,error:d};throw d}}download(n,a){const i=typeof a?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(a?.transform||{}),d=l?`?${l}`:"",f=this._getFinalPath(n),m=()=>$o(this.fetch,`${this.url}/${i}/${f}${d}`,{headers:this.headers,noResolveJson:!0});return new g0(m,this.shouldThrowOnError)}async info(n){var a=this;const i=a._getFinalPath(n);try{return{data:sf(await $o(a.fetch,`${a.url}/object/info/${i}`,{headers:a.headers})),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(xt(l))return{data:null,error:l};throw l}}async exists(n){var a=this;const i=a._getFinalPath(n);try{return await f0(a.fetch,`${a.url}/object/${i}`,{headers:a.headers}),{data:!0,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(xt(l)&&l instanceof tf){const d=l.originalError;if([400,404].includes(d?.status))return{data:!1,error:l}}throw l}}getPublicUrl(n,a){const i=this._getFinalPath(n),l=[],d=a?.download?`download=${a.download===!0?"":a.download}`:"";d!==""&&l.push(d);const f=typeof a?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(a?.transform||{});m!==""&&l.push(m);let v=l.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${v}`)}}}async remove(n){var a=this;try{return{data:await bf(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:n},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}}async list(n,a,i){var l=this;try{const d=Ee(Ee(Ee({},p0),a),{},{prefix:n||""});return{data:await Sa(l.fetch,`${l.url}/object/list/${l.bucketId}`,d,{headers:l.headers},i),error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(xt(d))return{data:null,error:d};throw d}}async listV2(n,a){var i=this;try{const l=Ee({},n);return{data:await Sa(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,l,{headers:i.headers},a),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(xt(l))return{data:null,error:l};throw l}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const a=[];return n.width&&a.push(`width=${n.width}`),n.height&&a.push(`height=${n.height}`),n.resize&&a.push(`resize=${n.resize}`),n.format&&a.push(`format=${n.format}`),n.quality&&a.push(`quality=${n.quality}`),a.join("&")}};const mb="2.90.1",gb={"X-Client-Info":`storage-js/${mb}`};var v0=class{constructor(n,a={},i,l){this.shouldThrowOnError=!1;const d=new URL(n);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Ee(Ee({},gb),a),this.fetch=pf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var a=this;try{const i=a.listBucketOptionsToQueryString(n);return{data:await $o(a.fetch,`${a.url}/bucket${i}`,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}}async getBucket(n){var a=this;try{return{data:await $o(a.fetch,`${a.url}/bucket/${n}`,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}}async createBucket(n,a={public:!1}){var i=this;try{return{data:await Sa(i.fetch,`${i.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(xt(l))return{data:null,error:l};throw l}}async updateBucket(n,a){var i=this;try{return{data:await af(i.fetch,`${i.url}/bucket/${n}`,{id:n,name:n,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(xt(l))return{data:null,error:l};throw l}}async emptyBucket(n){var a=this;try{return{data:await Sa(a.fetch,`${a.url}/bucket/${n}/empty`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}}async deleteBucket(n){var a=this;try{return{data:await bf(a.fetch,`${a.url}/bucket/${n}`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(n){const a={};return n&&("limit"in n&&(a.limit=String(n.limit)),"offset"in n&&(a.offset=String(n.offset)),n.search&&(a.search=n.search),n.sortColumn&&(a.sortColumn=n.sortColumn),n.sortOrder&&(a.sortOrder=n.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},y0=class{constructor(n,a={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Ee(Ee({},gb),a),this.fetch=pf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var a=this;try{return{data:await Sa(a.fetch,`${a.url}/bucket`,{name:n},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}}async listBuckets(n){var a=this;try{const i=new URLSearchParams;n?.limit!==void 0&&i.set("limit",n.limit.toString()),n?.offset!==void 0&&i.set("offset",n.offset.toString()),n?.sortColumn&&i.set("sortColumn",n.sortColumn),n?.sortOrder&&i.set("sortOrder",n.sortOrder),n?.search&&i.set("search",n.search);const l=i.toString(),d=l?`${a.url}/bucket?${l}`:`${a.url}/bucket`;return{data:await $o(a.fetch,d,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}}async deleteBucket(n){var a=this;try{return{data:await bf(a.fetch,`${a.url}/bucket/${n}`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}}from(n){var a=this;if(!l0(n))throw new Hu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new a0({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(d,f){const m=d[f];return typeof m!="function"?m:async(...v)=>{try{return{data:await m.apply(d,v),error:null}}catch(p){if(l)throw p;return{data:null,error:p}}}}})}};const vf={"X-Client-Info":`storage-js/${mb}`,"Content-Type":"application/json"};var pb=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ks(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Ph=class extends pb{constructor(n,a,i){super(n),this.name="StorageVectorsApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_0=class extends pb{constructor(n,a){super(n),this.name="StorageVectorsUnknownError",this.originalError=a}};const yf=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),w0=n=>{if(typeof n!="object"||n===null)return!1;const a=Object.getPrototypeOf(n);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Ep=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),x0=async(n,a,i)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!i?.noResolveJson){const l=n.status||500,d=n;if(typeof d.json=="function")d.json().then(f=>{const m=f?.statusCode||f?.code||l+"";a(new Ph(Ep(f),l,m))}).catch(()=>{const f=l+"";a(new Ph(d.statusText||`HTTP ${l} error`,l,f))});else{const f=l+"";a(new Ph(d.statusText||`HTTP ${l} error`,l,f))}}else a(new _0(Ep(n),n))},j0=(n,a,i,l)=>{const d={method:n,headers:a?.headers||{}};return l?(w0(l)?(d.headers=Ee({"Content-Type":"application/json"},a?.headers),d.body=JSON.stringify(l)):d.body=l,Ee(Ee({},d),i)):d};async function S0(n,a,i,l,d,f){return new Promise((m,v)=>{n(i,j0(a,l,d,f)).then(p=>{if(!p.ok)throw p;if(l?.noResolveJson)return p;const y=p.headers.get("content-type");return!y||!y.includes("application/json")?{}:p.json()}).then(p=>m(p)).catch(p=>x0(p,v,l))})}async function Ys(n,a,i,l,d){return S0(n,"POST",a,l,d,i)}var E0=class{constructor(n,a={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Ee(Ee({},vf),a),this.fetch=yf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var a=this;try{return{data:await Ys(a.fetch,`${a.url}/CreateIndex`,n,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ks(i))return{data:null,error:i};throw i}}async getIndex(n,a){var i=this;try{return{data:await Ys(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:n,indexName:a},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ks(l))return{data:null,error:l};throw l}}async listIndexes(n){var a=this;try{return{data:await Ys(a.fetch,`${a.url}/ListIndexes`,n,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ks(i))return{data:null,error:i};throw i}}async deleteIndex(n,a){var i=this;try{return{data:await Ys(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:n,indexName:a},{headers:i.headers})||{},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ks(l))return{data:null,error:l};throw l}}},N0=class{constructor(n,a={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Ee(Ee({},vf),a),this.fetch=yf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var a=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ys(a.fetch,`${a.url}/PutVectors`,n,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ks(i))return{data:null,error:i};throw i}}async getVectors(n){var a=this;try{return{data:await Ys(a.fetch,`${a.url}/GetVectors`,n,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ks(i))return{data:null,error:i};throw i}}async listVectors(n){var a=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await Ys(a.fetch,`${a.url}/ListVectors`,n,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ks(i))return{data:null,error:i};throw i}}async queryVectors(n){var a=this;try{return{data:await Ys(a.fetch,`${a.url}/QueryVectors`,n,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ks(i))return{data:null,error:i};throw i}}async deleteVectors(n){var a=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ys(a.fetch,`${a.url}/DeleteVectors`,n,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ks(i))return{data:null,error:i};throw i}}},T0=class{constructor(n,a={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Ee(Ee({},vf),a),this.fetch=yf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var a=this;try{return{data:await Ys(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ks(i))return{data:null,error:i};throw i}}async getBucket(n){var a=this;try{return{data:await Ys(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:n},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ks(i))return{data:null,error:i};throw i}}async listBuckets(n={}){var a=this;try{return{data:await Ys(a.fetch,`${a.url}/ListVectorBuckets`,n,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ks(i))return{data:null,error:i};throw i}}async deleteBucket(n){var a=this;try{return{data:await Ys(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ks(i))return{data:null,error:i};throw i}}},A0=class extends T0{constructor(n,a={}){super(n,a.headers||{},a.fetch)}from(n){return new O0(this.url,this.headers,n,this.fetch)}async createBucket(n){var a=()=>super.createBucket,i=this;return a().call(i,n)}async getBucket(n){var a=()=>super.getBucket,i=this;return a().call(i,n)}async listBuckets(n={}){var a=()=>super.listBuckets,i=this;return a().call(i,n)}async deleteBucket(n){var a=()=>super.deleteBucket,i=this;return a().call(i,n)}},O0=class extends E0{constructor(n,a,i,l){super(n,a,l),this.vectorBucketName=i}async createIndex(n){var a=()=>super.createIndex,i=this;return a().call(i,Ee(Ee({},n),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(n={}){var a=()=>super.listIndexes,i=this;return a().call(i,Ee(Ee({},n),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(n){var a=()=>super.getIndex,i=this;return a().call(i,i.vectorBucketName,n)}async deleteIndex(n){var a=()=>super.deleteIndex,i=this;return a().call(i,i.vectorBucketName,n)}index(n){return new C0(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},C0=class extends N0{constructor(n,a,i,l,d){super(n,a,d),this.vectorBucketName=i,this.indexName=l}async putVectors(n){var a=()=>super.putVectors,i=this;return a().call(i,Ee(Ee({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(n){var a=()=>super.getVectors,i=this;return a().call(i,Ee(Ee({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(n={}){var a=()=>super.listVectors,i=this;return a().call(i,Ee(Ee({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(n){var a=()=>super.queryVectors,i=this;return a().call(i,Ee(Ee({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(n){var a=()=>super.deleteVectors,i=this;return a().call(i,Ee(Ee({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},k0=class extends v0{constructor(n,a={},i,l){super(n,a,i,l)}from(n){return new b0(this.url,this.headers,n,this.fetch)}get vectors(){return new A0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new y0(this.url+"/iceberg",this.headers,this.fetch)}};const bb="2.90.1",Wr=30*1e3,nf=3,Gh=nf*Wr,R0="http://localhost:9999",D0="supabase.auth.token",U0={"X-Client-Info":`gotrue-js/${bb}`},rf="X-Supabase-Api-Version",vb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},M0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,z0=600*1e3;class Bo extends Error{constructor(a,i,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function be(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class L0 extends Bo{constructor(a,i,l){super(a,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function $0(n){return be(n)&&n.name==="AuthApiError"}class Ji extends Bo{constructor(a,i){super(a),this.name="AuthUnknownError",this.originalError=i}}class _n extends Bo{constructor(a,i,l,d){super(a,l,d),this.name=i,this.status=l}}class Is extends _n{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function B0(n){return be(n)&&n.name==="AuthSessionMissingError"}class Ir extends _n{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Nu extends _n{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Tu extends _n{constructor(a,i=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function q0(n){return be(n)&&n.name==="AuthImplicitGrantRedirectError"}class Np extends _n{constructor(a,i=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class H0 extends _n{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class lf extends _n{constructor(a,i){super(a,"AuthRetryableFetchError",i,void 0)}}function Ih(n){return be(n)&&n.name==="AuthRetryableFetchError"}class Tp extends _n{constructor(a,i,l){super(a,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class of extends _n{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Du="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ap=` 	
\r=`.split(""),V0=(()=>{const n=new Array(128);for(let a=0;a<n.length;a+=1)n[a]=-1;for(let a=0;a<Ap.length;a+=1)n[Ap[a].charCodeAt(0)]=-2;for(let a=0;a<Du.length;a+=1)n[Du[a].charCodeAt(0)]=a;return n})();function Op(n,a,i){if(n!==null)for(a.queue=a.queue<<8|n,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;i(Du[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;i(Du[l]),a.queuedBits-=6}}function yb(n,a,i){const l=V0[n];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)i(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Cp(n){const a=[],i=m=>{a.push(String.fromCodePoint(m))},l={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},f=m=>{I0(m,l,i)};for(let m=0;m<n.length;m+=1)yb(n.charCodeAt(m),d,f);return a.join("")}function P0(n,a){if(n<=127){a(n);return}else if(n<=2047){a(192|n>>6),a(128|n&63);return}else if(n<=65535){a(224|n>>12),a(128|n>>6&63),a(128|n&63);return}else if(n<=1114111){a(240|n>>18),a(128|n>>12&63),a(128|n>>6&63),a(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function G0(n,a){for(let i=0;i<n.length;i+=1){let l=n.charCodeAt(i);if(l>55295&&l<=56319){const d=(l-55296)*1024&65535;l=(n.charCodeAt(i+1)-56320&65535|d)+65536,i+=1}P0(l,a)}}function I0(n,a,i){if(a.utf8seq===0){if(n<=127){i(n);return}for(let l=1;l<6;l+=1)if((n>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=n&31;else if(a.utf8seq===3)a.codepoint=n&15;else if(a.utf8seq===4)a.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|n&63,a.utf8seq-=1,a.utf8seq===0&&i(a.codepoint)}}function sl(n){const a=[],i={queue:0,queuedBits:0},l=d=>{a.push(d)};for(let d=0;d<n.length;d+=1)yb(n.charCodeAt(d),i,l);return new Uint8Array(a)}function K0(n){const a=[];return G0(n,i=>a.push(i)),new Uint8Array(a)}function Zi(n){const a=[],i={queue:0,queuedBits:0},l=d=>{a.push(d)};return n.forEach(d=>Op(d,i,l)),Op(null,i,l),a.join("")}function Y0(n){return Math.round(Date.now()/1e3)+n}function X0(){return Symbol("auth-callback")}const ns=()=>typeof window<"u"&&typeof document<"u",Ki={tested:!1,writable:!1},_b=()=>{if(!ns())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ki.tested)return Ki.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ki.tested=!0,Ki.writable=!0}catch{Ki.tested=!0,Ki.writable=!1}return Ki.writable};function Q0(n){const a={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((d,f)=>{a[f]=d})}catch{}return i.searchParams.forEach((l,d)=>{a[d]=l}),a}const wb=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),J0=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",el=async(n,a,i)=>{await n.setItem(a,JSON.stringify(i))},Yi=async(n,a)=>{const i=await n.getItem(a);if(!i)return null;try{return JSON.parse(i)}catch{return i}},as=async(n,a)=>{await n.removeItem(a)};class Vu{constructor(){this.promise=new Vu.promiseConstructor((a,i)=>{this.resolve=a,this.reject=i})}}Vu.promiseConstructor=Promise;function Kh(n){const a=n.split(".");if(a.length!==3)throw new of("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!M0.test(a[l]))throw new of("JWT not in base64url format");return{header:JSON.parse(Cp(a[0])),payload:JSON.parse(Cp(a[1])),signature:sl(a[2]),raw:{header:a[0],payload:a[1]}}}async function Z0(n){return await new Promise(a=>{setTimeout(()=>a(null),n)})}function F0(n,a){return new Promise((l,d)=>{(async()=>{for(let f=0;f<1/0;f++)try{const m=await n(f);if(!a(f,null,m)){l(m);return}}catch(m){if(!a(f,m)){d(m);return}}})()})}function W0(n){return("0"+n.toString(16)).substr(-2)}function ew(){const a=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let d="";for(let f=0;f<56;f++)d+=i.charAt(Math.floor(Math.random()*l));return d}return crypto.getRandomValues(a),Array.from(a,W0).join("")}async function tw(n){const i=new TextEncoder().encode(n),l=await crypto.subtle.digest("SHA-256",i),d=new Uint8Array(l);return Array.from(d).map(f=>String.fromCharCode(f)).join("")}async function sw(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await tw(n);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kr(n,a,i=!1){const l=ew();let d=l;i&&(d+="/PASSWORD_RECOVERY"),await el(n,`${a}-code-verifier`,d);const f=await sw(l);return[f,l===f?"plain":"s256"]}const aw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nw(n){const a=n.headers.get(rf);if(!a||!a.match(aw))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function iw(n){if(!n)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(n<=a)throw new Error("JWT has expired")}function rw(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yr(n){if(!lw.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yh(){const n={};return new Proxy(n,{get:(a,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ow(n,a){return new Proxy(n,{get:(i,l,d)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const f=l.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)"||f==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,d)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(i,l,d)}})}function kp(n){return JSON.parse(JSON.stringify(n))}const Xi=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),cw=[502,503,504];async function Rp(n){var a;if(!J0(n))throw new lf(Xi(n),0);if(cw.includes(n.status))throw new lf(Xi(n),n.status);let i;try{i=await n.json()}catch(f){throw new Ji(Xi(f),f)}let l;const d=nw(n);if(d&&d.getTime()>=vb["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new Tp(Xi(i),n.status,((a=i.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new Is}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((f,m)=>f&&typeof m=="string",!0))throw new Tp(Xi(i),n.status,i.weak_password.reasons);throw new L0(Xi(i),n.status||500,l)}const uw=(n,a,i,l)=>{const d={method:n,headers:a?.headers||{}};return n==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),d.body=JSON.stringify(l),Object.assign(Object.assign({},d),i))};async function Se(n,a,i,l){var d;const f=Object.assign({},l?.headers);f[rf]||(f[rf]=vb["2024-01-01"].name),l?.jwt&&(f.Authorization=`Bearer ${l.jwt}`);const m=(d=l?.query)!==null&&d!==void 0?d:{};l?.redirectTo&&(m.redirect_to=l.redirectTo);const v=Object.keys(m).length?"?"+new URLSearchParams(m).toString():"",p=await dw(n,a,i+v,{headers:f,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(p):{data:Object.assign({},p),error:null}}async function dw(n,a,i,l,d,f){const m=uw(a,l,d,f);let v;try{v=await n(i,Object.assign({},m))}catch(p){throw console.error(p),new lf(Xi(p),0)}if(v.ok||await Rp(v),l?.noResolveJson)return v;try{return await v.json()}catch(p){await Rp(p)}}function ja(n){var a;let i=null;mw(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=Y0(n.expires_in)));const l=(a=n.user)!==null&&a!==void 0?a:n;return{data:{session:i,user:l},error:null}}function Dp(n){const a=ja(n);return!a.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(a.data.weak_password=n.weak_password),a}function mi(n){var a;return{data:{user:(a=n.user)!==null&&a!==void 0?a:n},error:null}}function hw(n){return{data:n,error:null}}function fw(n){const{action_link:a,email_otp:i,hashed_token:l,redirect_to:d,verification_type:f}=n,m=qu(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),v={action_link:a,email_otp:i,hashed_token:l,redirect_to:d,verification_type:f},p=Object.assign({},m);return{data:{properties:v,user:p},error:null}}function Up(n){return n}function mw(n){return n.access_token&&n.refresh_token&&n.expires_in}const Xh=["global","local","others"];class gw{constructor({url:a="",headers:i={},fetch:l}){this.url=a,this.headers=i,this.fetch=wb(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,i=Xh[0]){if(Xh.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xh.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(be(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,i={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:mi})}catch(l){if(be(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:i}=a,l=qu(a,["options"]),d=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(d.new_email=l?.newEmail,delete d.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:fw,redirectTo:i?.redirectTo})}catch(i){if(be(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(a){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:mi})}catch(i){if(be(i))return{data:{user:null},error:i};throw i}}async listUsers(a){var i,l,d,f,m,v,p;try{const y={nextPage:null,lastPage:0,total:0},S=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(f=(d=a?.perPage)===null||d===void 0?void 0:d.toString())!==null&&f!==void 0?f:""},xform:Up});if(S.error)throw S.error;const j=await S.json(),N=(m=S.headers.get("x-total-count"))!==null&&m!==void 0?m:0,A=(p=(v=S.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&p!==void 0?p:[];return A.length>0&&(A.forEach(z=>{const k=parseInt(z.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(z.split(";")[1].split("=")[1]);y[`${D}Page`]=k}),y.total=parseInt(N)),{data:Object.assign(Object.assign({},j),y),error:null}}catch(y){if(be(y))return{data:{users:[]},error:y};throw y}}async getUserById(a){Yr(a);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:mi})}catch(i){if(be(i))return{data:{user:null},error:i};throw i}}async updateUserById(a,i){Yr(a);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:i,headers:this.headers,xform:mi})}catch(l){if(be(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,i=!1){Yr(a);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:i},xform:mi})}catch(l){if(be(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){Yr(a.userId);try{const{data:i,error:l}=await Se(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:i,error:l}}catch(i){if(be(i))return{data:null,error:i};throw i}}async _deleteFactor(a){Yr(a.userId),Yr(a.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}}async _listOAuthClients(a){var i,l,d,f,m,v,p;try{const y={nextPage:null,lastPage:0,total:0},S=await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(f=(d=a?.perPage)===null||d===void 0?void 0:d.toString())!==null&&f!==void 0?f:""},xform:Up});if(S.error)throw S.error;const j=await S.json(),N=(m=S.headers.get("x-total-count"))!==null&&m!==void 0?m:0,A=(p=(v=S.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&p!==void 0?p:[];return A.length>0&&(A.forEach(z=>{const k=parseInt(z.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(z.split(";")[1].split("=")[1]);y[`${D}Page`]=k}),y.total=parseInt(N)),{data:Object.assign(Object.assign({},j),y),error:null}}catch(y){if(be(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(a){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(be(i))return{data:null,error:i};throw i}}async _getOAuthClient(a){try{return await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(be(i))return{data:null,error:i};throw i}}async _updateOAuthClient(a,i){try{return await Se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(be(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(a){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(be(i))return{data:null,error:i};throw i}}}function Mp(n={}){return{getItem:a=>n[a]||null,setItem:(a,i)=>{n[a]=i},removeItem:a=>{delete n[a]}}}const Xr={debug:!!(globalThis&&_b()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xb extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class pw extends xb{}async function bw(n,a,i){Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async d=>{if(d){Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,d.name);try{return await i()}finally{Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,d.name)}}else{if(a===0)throw Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new pw(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Xr.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function vw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jb(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function yw(n){return parseInt(n,16)}function _w(n){const a=new TextEncoder().encode(n);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function ww(n){var a;const{chainId:i,domain:l,expirationTime:d,issuedAt:f=new Date,nonce:m,notBefore:v,requestId:p,resources:y,scheme:S,uri:j,version:N}=n;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(m&&m.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${m}`);if(!j)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((a=n.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const A=jb(n.address),z=S?`${S}://${l}`:l,k=n.statement?`${n.statement}
`:"",D=`${z} wants you to sign in with your Ethereum account:
${A}

${k}`;let V=`URI: ${j}
Version: ${N}
Chain ID: ${i}${m?`
Nonce: ${m}`:""}
Issued At: ${f.toISOString()}`;if(d&&(V+=`
Expiration Time: ${d.toISOString()}`),v&&(V+=`
Not Before: ${v.toISOString()}`),p&&(V+=`
Request ID: ${p}`),y){let q=`
Resources:`;for(const U of y){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);q+=`
- ${U}`}V+=q}return`${D}
${V}`}class Lt extends Error{constructor({message:a,code:i,cause:l,name:d}){var f;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(f=d??(l instanceof Error?l.name:void 0))!==null&&f!==void 0?f:"Unknown Error",this.code=i}}class Uu extends Lt{constructor(a,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:a}),this.name="WebAuthnUnknownError",this.originalError=i}}function xw({error:n,options:a}){var i,l,d;const{publicKey:f}=a;if(!f)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Lt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((i=f.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Lt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(a.mediation==="conditional"&&((l=f.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Lt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((d=f.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new Lt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Lt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Lt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return f.pubKeyCredParams.filter(v=>v.type==="public-key").length===0?new Lt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Lt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const m=window.location.hostname;if(Sb(m)){if(f.rp.id!==m)return new Lt({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new Lt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Lt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function jw({error:n,options:a}){const{publicKey:i}=a;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Lt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Lt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(Sb(l)){if(i.rpId!==l)return new Lt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Lt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Sw{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Ew=new Sw;function Nw(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:a,user:i,excludeCredentials:l}=n,d=qu(n,["challenge","user","excludeCredentials"]),f=sl(a).buffer,m=Object.assign(Object.assign({},i),{id:sl(i.id).buffer}),v=Object.assign(Object.assign({},d),{challenge:f,user:m});if(l&&l.length>0){v.excludeCredentials=new Array(l.length);for(let p=0;p<l.length;p++){const y=l[p];v.excludeCredentials[p]=Object.assign(Object.assign({},y),{id:sl(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return v}function Tw(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:a,allowCredentials:i}=n,l=qu(n,["challenge","allowCredentials"]),d=sl(a).buffer,f=Object.assign(Object.assign({},l),{challenge:d});if(i&&i.length>0){f.allowCredentials=new Array(i.length);for(let m=0;m<i.length;m++){const v=i[m];f.allowCredentials[m]=Object.assign(Object.assign({},v),{id:sl(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return f}function Aw(n){var a;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n;return{id:n.id,rawId:n.id,response:{attestationObject:Zi(new Uint8Array(n.response.attestationObject)),clientDataJSON:Zi(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Ow(n){var a;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n,l=n.getClientExtensionResults(),d=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Zi(new Uint8Array(d.authenticatorData)),clientDataJSON:Zi(new Uint8Array(d.clientDataJSON)),signature:Zi(new Uint8Array(d.signature)),userHandle:d.userHandle?Zi(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Sb(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function zp(){var n,a;return!!(ns()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Cw(n){try{const a=await navigator.credentials.create(n);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Uu("Browser returned unexpected credential type",a)}:{data:null,error:new Uu("Empty credential response",a)}}catch(a){return{data:null,error:xw({error:a,options:n})}}}async function kw(n){try{const a=await navigator.credentials.get(n);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Uu("Browser returned unexpected credential type",a)}:{data:null,error:new Uu("Empty credential response",a)}}catch(a){return{data:null,error:jw({error:a,options:n})}}}const Rw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Dw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Mu(...n){const a=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),i=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),l={};for(const d of n)if(d)for(const f in d){const m=d[f];if(m!==void 0)if(Array.isArray(m))l[f]=m;else if(i(m))l[f]=m;else if(a(m)){const v=l[f];a(v)?l[f]=Mu(v,m):l[f]=Mu(m)}else l[f]=m}return l}function Uw(n,a){return Mu(Rw,n,a||{})}function Mw(n,a){return Mu(Dw,n,a||{})}class zw{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:i,friendlyName:l,signal:d},f){try{const{data:m,error:v}=await this.client.mfa.challenge({factorId:a,webauthn:i});if(!m)return{data:null,error:v};const p=d??Ew.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:y}=m.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${l}`),y.displayName||(y.displayName=y.name)}switch(m.webauthn.type){case"create":{const y=Uw(m.webauthn.credential_options.publicKey,f?.create),{data:S,error:j}=await Cw({publicKey:y,signal:p});return S?{data:{factorId:a,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:S}},error:null}:{data:null,error:j}}case"request":{const y=Mw(m.webauthn.credential_options.publicKey,f?.request),{data:S,error:j}=await kw(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:y,signal:p}));return S?{data:{factorId:a,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:S}},error:null}:{data:null,error:j}}}}catch(m){return be(m)?{data:null,error:m}:{data:null,error:new Ji("Unexpected error in challenge",m)}}}async _verify({challengeId:a,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},f){if(!i)return{data:null,error:new Bo("rpId is required for WebAuthn authentication")};try{if(!zp())return{data:null,error:new Ji("Browser does not support WebAuthn",null)};const{data:m,error:v}=await this.challenge({factorId:a,webauthn:{rpId:i,rpOrigins:l},signal:d},{request:f});if(!m)return{data:null,error:v};const{webauthn:p}=m;return this._verify({factorId:a,challengeId:m.challengeId,webauthn:{type:p.type,rpId:i,rpOrigins:l,credential_response:p.credential_response}})}catch(m){return be(m)?{data:null,error:m}:{data:null,error:new Ji("Unexpected error in authenticate",m)}}}async _register({friendlyName:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},f){if(!i)return{data:null,error:new Bo("rpId is required for WebAuthn registration")};try{if(!zp())return{data:null,error:new Ji("Browser does not support WebAuthn",null)};const{data:m,error:v}=await this._enroll({friendlyName:a});if(!m)return await this.client.mfa.listFactors().then(S=>{var j;return(j=S.data)===null||j===void 0?void 0:j.all.find(N=>N.factor_type==="webauthn"&&N.friendly_name===a&&N.status!=="unverified")}).then(S=>S?this.client.mfa.unenroll({factorId:S?.id}):void 0),{data:null,error:v};const{data:p,error:y}=await this._challenge({factorId:m.id,friendlyName:m.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:d},{create:f});return p?this._verify({factorId:m.id,challengeId:p.challengeId,webauthn:{rpId:i,rpOrigins:l,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:y}}catch(m){return be(m)?{data:null,error:m}:{data:null,error:new Ji("Unexpected error in register",m)}}}}vw();const Lw={url:R0,storageKey:D0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:U0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Lp(n,a,i){return await i()}const Qr={};class qo{get jwks(){var a,i;return(i=(a=Qr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(a){Qr[this.storageKey]=Object.assign(Object.assign({},Qr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,i;return(i=(a=Qr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Qr[this.storageKey]=Object.assign(Object.assign({},Qr[this.storageKey]),{cachedAt:a})}constructor(a){var i,l,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const f=Object.assign(Object.assign({},Lw),a);if(this.storageKey=f.storageKey,this.instanceID=(i=qo.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,qo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!f.debug,typeof f.debug=="function"&&(this.logger=f.debug),this.instanceID>0&&ns()){const m=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(m),this.logDebugMessages&&console.trace(m)}if(this.persistSession=f.persistSession,this.autoRefreshToken=f.autoRefreshToken,this.admin=new gw({url:f.url,headers:f.headers,fetch:f.fetch}),this.url=f.url,this.headers=f.headers,this.fetch=wb(f.fetch),this.lock=f.lock||Lp,this.detectSessionInUrl=f.detectSessionInUrl,this.flowType=f.flowType,this.hasCustomAuthorizationHeader=f.hasCustomAuthorizationHeader,this.throwOnError=f.throwOnError,this.lockAcquireTimeout=f.lockAcquireTimeout,f.lock?this.lock=f.lock:this.persistSession&&ns()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=bw:this.lock=Lp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(f.storage?this.storage=f.storage:_b()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mp(this.memoryStorage)),f.userStorage&&(this.userStorage=f.userStorage)):(this.memoryStorage={},this.storage=Mp(this.memoryStorage)),ns()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(m){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",m)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async m=>{this._debug("received broadcast notification from other tab or client",m),await this._notifyAllSubscribers(m.data.event,m.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${bb}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let i={},l="none";if(ns()&&(i=Q0(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),ns()&&this.detectSessionInUrl&&l!=="none"){const{data:d,error:f}=await this._getSessionFromURL(i,l);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),q0(f)){const p=(a=f.details)===null||a===void 0?void 0:a.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:f}}return{error:f}}const{session:m,redirectType:v}=d;return this._debug("#_initialize()","detected session in URL",m,"redirect type",v),await this._saveSession(m),setTimeout(async()=>{v==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",m):await this._notifyAllSubscribers("SIGNED_IN",m)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return be(i)?this._returnResult({error:i}):this._returnResult({error:new Ji("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var i,l,d;try{const f=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=a?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(d=a?.options)===null||d===void 0?void 0:d.captchaToken}},xform:ja}),{data:m,error:v}=f;if(v||!m)return this._returnResult({data:{user:null,session:null},error:v});const p=m.session,y=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(f){if(be(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signUp(a){var i,l,d;try{let f;if("email"in a){const{email:S,password:j,options:N}=a;let A=null,z=null;this.flowType==="pkce"&&([A,z]=await Kr(this.storage,this.storageKey)),f=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N?.emailRedirectTo,body:{email:S,password:j,data:(i=N?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:N?.captchaToken},code_challenge:A,code_challenge_method:z},xform:ja})}else if("phone"in a){const{phone:S,password:j,options:N}=a;f=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:j,data:(l=N?.data)!==null&&l!==void 0?l:{},channel:(d=N?.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:N?.captchaToken}},xform:ja})}else throw new Nu("You must provide either an email or phone number and a password");const{data:m,error:v}=f;if(v||!m)return await as(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:v});const p=m.session,y=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(f){if(await as(this.storage,`${this.storageKey}-code-verifier`),be(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithPassword(a){try{let i;if("email"in a){const{email:f,password:m,options:v}=a;i=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:m,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Dp})}else if("phone"in a){const{phone:f,password:m,options:v}=a;i=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:m,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Dp})}else throw new Nu("You must provide either an email or phone number and a password");const{data:l,error:d}=i;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!l||!l.session||!l.user){const f=new Ir;return this._returnResult({data:{user:null,session:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:d})}catch(i){if(be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(a){var i,l,d,f;return await this._handleProviderSignIn(a.provider,{redirectTo:(i=a.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=a.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(f=a.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:i}=a;switch(i){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(a){var i,l,d,f,m,v,p,y,S,j,N;let A,z;if("message"in a)A=a.message,z=a.signature;else{const{chain:k,wallet:D,statement:V,options:q}=a;let U;if(ns())if(typeof D=="object")U=D;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")U=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=D}const W=new URL((i=q?.url)!==null&&i!==void 0?i:window.location.href),ae=await U.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ae||ae.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const se=jb(ae[0]);let J=(l=q?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!J){const Y=await U.request({method:"eth_chainId"});J=yw(Y)}const Re={domain:W.host,address:se,statement:V,uri:W.href,version:"1",chainId:J,nonce:(d=q?.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(m=(f=q?.signInWithEthereum)===null||f===void 0?void 0:f.issuedAt)!==null&&m!==void 0?m:new Date,expirationTime:(v=q?.signInWithEthereum)===null||v===void 0?void 0:v.expirationTime,notBefore:(p=q?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(y=q?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(S=q?.signInWithEthereum)===null||S===void 0?void 0:S.resources};A=ww(Re),z=await U.request({method:"personal_sign",params:[_w(A),se]})}try{const{data:k,error:D}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:z},!((j=a.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(N=a.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:ja});if(D)throw D;if(!k||!k.session||!k.user){const V=new Ir;return this._returnResult({data:{user:null,session:null},error:V})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:D})}catch(k){if(be(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(a){var i,l,d,f,m,v,p,y,S,j,N,A;let z,k;if("message"in a)z=a.message,k=a.signature;else{const{chain:D,wallet:V,statement:q,options:U}=a;let W;if(ns())if(typeof V=="object")W=V;else{const se=window;if("solana"in se&&typeof se.solana=="object"&&("signIn"in se.solana&&typeof se.solana.signIn=="function"||"signMessage"in se.solana&&typeof se.solana.signMessage=="function"))W=se.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=V}const ae=new URL((i=U?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in W&&W.signIn){const se=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:ae.host,uri:ae.href}),q?{statement:q}:null));let J;if(Array.isArray(se)&&se[0]&&typeof se[0]=="object")J=se[0];else if(se&&typeof se=="object"&&"signedMessage"in se&&"signature"in se)J=se;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)z=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),k=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");z=[`${ae.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${ae.href}`,`Issued At: ${(d=(l=U?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((f=U?.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((m=U?.signInWithSolana)===null||m===void 0)&&m.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((v=U?.signInWithSolana)===null||v===void 0)&&v.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((p=U?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((y=U?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((j=(S=U?.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||j===void 0)&&j.length?["Resources",...U.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const se=await W.signMessage(new TextEncoder().encode(z),"utf8");if(!se||!(se instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=se}}try{const{data:D,error:V}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:z,signature:Zi(k)},!((N=a.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(A=a.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:ja});if(V)throw V;if(!D||!D.session||!D.user){const q=new Ir;return this._returnResult({data:{user:null,session:null},error:q})}return D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:V})}catch(D){if(be(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}}async _exchangeCodeForSession(a){const i=await Yi(this.storage,`${this.storageKey}-code-verifier`),[l,d]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new H0;const{data:f,error:m}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:ja});if(await as(this.storage,`${this.storageKey}-code-verifier`),m)throw m;if(!f||!f.session||!f.user){const v=new Ir;return this._returnResult({data:{user:null,session:null,redirectType:null},error:v})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign(Object.assign({},f),{redirectType:d??null}),error:m})}catch(f){if(await as(this.storage,`${this.storageKey}-code-verifier`),be(f))return this._returnResult({data:{user:null,session:null,redirectType:null},error:f});throw f}}async signInWithIdToken(a){try{const{options:i,provider:l,token:d,access_token:f,nonce:m}=a,v=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:d,access_token:f,nonce:m,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:ja}),{data:p,error:y}=v;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p||!p.session||!p.user){const S=new Ir;return this._returnResult({data:{user:null,session:null},error:S})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:y})}catch(i){if(be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(a){var i,l,d,f,m;try{if("email"in a){const{email:v,options:p}=a;let y=null,S=null;this.flowType==="pkce"&&([y,S]=await Kr(this.storage,this.storageKey));const{error:j}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:v,data:(i=p?.data)!==null&&i!==void 0?i:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:y,code_challenge_method:S},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:j})}if("phone"in a){const{phone:v,options:p}=a,{data:y,error:S}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:v,data:(d=p?.data)!==null&&d!==void 0?d:{},create_user:(f=p?.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(m=p?.channel)!==null&&m!==void 0?m:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:S})}throw new Nu("You must provide either an email or phone number.")}catch(v){if(await as(this.storage,`${this.storageKey}-code-verifier`),be(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async verifyOtp(a){var i,l;try{let d,f;"options"in a&&(d=(i=a.options)===null||i===void 0?void 0:i.redirectTo,f=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:m,error:v}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:f}}),redirectTo:d,xform:ja});if(v)throw v;if(!m)throw new Error("An error occurred on token verification.");const p=m.session,y=m.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(d){if(be(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(a){var i,l,d,f,m;try{let v=null,p=null;this.flowType==="pkce"&&([v,p]=await Kr(this.storage,this.storageKey));const y=await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(i=a.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((d=a?.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:v,code_challenge_method:p}),headers:this.headers,xform:hw});return!((f=y.data)===null||f===void 0)&&f.url&&ns()&&!(!((m=a.options)===null||m===void 0)&&m.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(v){if(await as(this.storage,`${this.storageKey}-code-verifier`),be(v))return this._returnResult({data:null,error:v});throw v}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)throw l;if(!i)throw new Is;const{error:d}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(a){if(be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const i=`${this.url}/resend`;if("email"in a){const{email:l,type:d,options:f}=a,{error:m}=await Se(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}else if("phone"in a){const{phone:l,type:d,options:f}=a,{data:m,error:v}=await Se(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:d,gotrue_meta_security:{captcha_token:f?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new Nu("You must provide either an email or phone number and a type")}catch(i){if(be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(a,i){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await a(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const i=await Yi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?a=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<Gh:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const m=await Yi(this.userStorage,this.storageKey+"-user");m?.user?a.user=m.user:a.user=Yh()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const m={value:this.suppressGetSessionWarning};a.user=ow(a.user,m),m.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:d,error:f}=await this._callRefreshToken(a.refresh_token);return f?this._returnResult({data:{session:null},error:f}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(a){try{return a?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:mi}):await this._useSession(async i=>{var l,d,f;const{data:m,error:v}=i;if(v)throw v;return!(!((l=m.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Is}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0,xform:mi})})}catch(i){if(be(i))return B0(i)&&(await this._removeSession(),await as(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(a,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,i))}async _updateUser(a,i={}){try{return await this._useSession(async l=>{const{data:d,error:f}=l;if(f)throw f;if(!d.session)throw new Is;const m=d.session;let v=null,p=null;this.flowType==="pkce"&&a.email!=null&&([v,p]=await Kr(this.storage,this.storageKey));const{data:y,error:S}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:v,code_challenge_method:p}),jwt:m.access_token,xform:mi});if(S)throw S;return m.user=y.user,await this._saveSession(m),await this._notifyAllSubscribers("USER_UPDATED",m),this._returnResult({data:{user:m.user},error:null})})}catch(l){if(await as(this.storage,`${this.storageKey}-code-verifier`),be(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Is;const i=Date.now()/1e3;let l=i,d=!0,f=null;const{payload:m}=Kh(a.access_token);if(m.exp&&(l=m.exp,d=l<=i),d){const{data:v,error:p}=await this._callRefreshToken(a.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!v)return{data:{user:null,session:null},error:null};f=v}else{const{data:v,error:p}=await this._getUser(a.access_token);if(p)throw p;f={access_token:a.access_token,refresh_token:a.refresh_token,user:v.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return this._returnResult({data:{user:f.user,session:f},error:null})}catch(i){if(be(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async i=>{var l;if(!a){const{data:m,error:v}=i;if(v)throw v;a=(l=m.session)!==null&&l!==void 0?l:void 0}if(!a?.refresh_token)throw new Is;const{data:d,error:f}=await this._callRefreshToken(a.refresh_token);return f?this._returnResult({data:{user:null,session:null},error:f}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(a,i){try{if(!ns())throw new Tu("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Tu(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Np("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Tu("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Np("No code detected.");const{data:q,error:U}=await this._exchangeCodeForSession(a.code);if(U)throw U;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:d,access_token:f,refresh_token:m,expires_in:v,expires_at:p,token_type:y}=a;if(!f||!v||!m||!y)throw new Tu("No session defined in URL");const S=Math.round(Date.now()/1e3),j=parseInt(v);let N=S+j;p&&(N=parseInt(p));const A=N-S;A*1e3<=Wr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${j}s`);const z=N-j;S-z>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",z,N,S):S-z<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",z,N,S);const{data:k,error:D}=await this._getUser(f);if(D)throw D;const V={provider_token:l,provider_refresh_token:d,access_token:f,expires_in:j,expires_at:N,refresh_token:m,token_type:y,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:V,redirectType:a.type},error:null})}catch(l){if(be(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const i=await Yi(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&i)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:d,error:f}=i;if(f)return this._returnResult({error:f});const m=(l=d.session)===null||l===void 0?void 0:l.access_token;if(m){const{error:v}=await this.admin.signOut(m,a);if(v&&!($0(v)&&(v.status===404||v.status===401||v.status===403)))return this._returnResult({error:v})}return a!=="others"&&(await this._removeSession(),await as(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const i=X0(),l={id:i,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async i=>{var l,d;try{const{data:{session:f},error:m}=i;if(m)throw m;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",a,"session",f)}catch(f){await((d=this.stateChangeEmitters.get(a))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",f),console.error(f)}})}async resetPasswordForEmail(a,i={}){let l=null,d=null;this.flowType==="pkce"&&([l,d]=await Kr(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:d,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(f){if(await as(this.storage,`${this.storageKey}-code-verifier`),be(f))return this._returnResult({data:null,error:f});throw f}}async getUserIdentities(){var a;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=i.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var i;try{const{data:l,error:d}=await this._useSession(async f=>{var m,v,p,y,S;const{data:j,error:N}=f;if(N)throw N;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(m=a.options)===null||m===void 0?void 0:m.redirectTo,scopes:(v=a.options)===null||v===void 0?void 0:v.scopes,queryParams:(p=a.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",A,{headers:this.headers,jwt:(S=(y=j.session)===null||y===void 0?void 0:y.access_token)!==null&&S!==void 0?S:void 0})});if(d)throw d;return ns()&&!(!((i=a.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:a.provider,url:l?.url},error:null})}catch(l){if(be(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async i=>{var l;try{const{error:d,data:{session:f}}=i;if(d)throw d;const{options:m,provider:v,token:p,access_token:y,nonce:S}=a,j=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=f?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:v,id_token:p,access_token:y,nonce:S,link_identity:!0,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:ja}),{data:N,error:A}=j;return A?this._returnResult({data:{user:null,session:null},error:A}):!N||!N.session||!N.user?this._returnResult({data:{user:null,session:null},error:new Ir}):(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("USER_UPDATED",N.session)),this._returnResult({data:N,error:A}))}catch(d){if(await as(this.storage,`${this.storageKey}-code-verifier`),be(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(a){try{return await this._useSession(async i=>{var l,d;const{data:f,error:m}=i;if(m)throw m;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(d=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})})}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(a){const i=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await F0(async d=>(d>0&&await Z0(200*Math.pow(2,d-1)),this._debug(i,"refreshing attempt",d),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:ja})),(d,f)=>{const m=200*Math.pow(2,d);return f&&Ih(f)&&Date.now()+m-l<Wr})}catch(l){if(this._debug(i,"error",l),be(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",i,"url",l),ns()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const d=await Yi(this.storage,this.storageKey);if(d&&this.userStorage){let m=await Yi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!m&&(m={user:d.user},await el(this.userStorage,this.storageKey+"-user",m)),d.user=(a=m?.user)!==null&&a!==void 0?a:Yh()}else if(d&&!d.user&&!d.user){const m=await Yi(this.storage,this.storageKey+"-user");m&&m?.user?(d.user=m.user,await as(this.storage,this.storageKey+"-user"),await el(this.storage,this.storageKey,d)):d.user=Yh()}if(this._debug(l,"session from storage",d),!this._isValidSession(d)){this._debug(l,"session is not valid"),d!==null&&await this._removeSession();return}const f=((i=d.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Gh;if(this._debug(l,`session has${f?"":" not"} expired with margin of ${Gh}s`),f){if(this.autoRefreshToken&&d.refresh_token){const{error:m}=await this._callRefreshToken(d.refresh_token);m&&(console.error(m),Ih(m)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",m),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:m,error:v}=await this._getUser(d.access_token);!v&&m?.user?(d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(m){console.error("Error getting user data:",m),this._debug(l,"error getting user data, skipping SIGNED_IN notification",m)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(l,"error",d),console.error(d);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var i,l;if(!a)throw new Is;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new Vu;const{data:f,error:m}=await this._refreshAccessToken(a);if(m)throw m;if(!f.session)throw new Is;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const v={data:f.session,error:null};return this.refreshingDeferred.resolve(v),v}catch(f){if(this._debug(d,"error",f),be(f)){const m={data:null,error:f};return Ih(f)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(m),m}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(f),f}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(a,i,l=!0){const d=`#_notifyAllSubscribers(${a})`;this._debug(d,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:i});const f=[],m=Array.from(this.stateChangeEmitters.values()).map(async v=>{try{await v.callback(a,i)}catch(p){f.push(p)}});if(await Promise.all(m),f.length>0){for(let v=0;v<f.length;v+=1)console.error(f[v]);throw f[0]}}finally{this._debug(d,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await as(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},a),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await el(this.userStorage,this.storageKey+"-user",{user:i.user});const d=Object.assign({},i);delete d.user;const f=kp(d);await el(this.storage,this.storageKey,f)}else{const d=kp(i);await el(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await as(this.storage,this.storageKey),await as(this.storage,this.storageKey+"-code-verifier"),await as(this.storage,this.storageKey+"-user"),this.userStorage&&await as(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&ns()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Wr);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((l.expires_at*1e3-a)/Wr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${Wr}ms, refresh threshold is ${nf} ticks`),d<=nf&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof xb)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ns()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const i=`#_onVisibilityChanged(${a})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,i,l){const d=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&d.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&d.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[f,m]=await Kr(this.storage,this.storageKey),v=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(m)}`});d.push(v.toString())}if(l?.queryParams){const f=new URLSearchParams(l.queryParams);d.push(f.toString())}return l?.skipBrowserRedirect&&d.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${d.join("&")}`}async _unenroll(a){try{return await this._useSession(async i=>{var l;const{data:d,error:f}=i;return f?this._returnResult({data:null,error:f}):await Se(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(a){try{return await this._useSession(async i=>{var l,d;const{data:f,error:m}=i;if(m)return this._returnResult({data:null,error:m});const v=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:p,error:y}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:v,headers:this.headers,jwt:(l=f?.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(a.factorType==="totp"&&p.type==="totp"&&(!((d=p?.totp)===null||d===void 0)&&d.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:d,error:f}=i;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Aw(a.webauthn.credential_response):Ow(a.webauthn.credential_response)})}:{code:a.code}),{data:v,error:p}=await Se(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:m,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+v.expires_in},v)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",v),this._returnResult({data:v,error:p}))})}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:d,error:f}=i;if(f)return this._returnResult({data:null,error:f});const m=await Se(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});if(m.error)return m;const{data:v}=m;if(v.type!=="webauthn")return{data:v,error:null};switch(v.webauthn.type){case"create":return{data:Object.assign(Object.assign({},v),{webauthn:Object.assign(Object.assign({},v.webauthn),{credential_options:Object.assign(Object.assign({},v.webauthn.credential_options),{publicKey:Nw(v.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},v),{webauthn:Object.assign(Object.assign({},v.webauthn),{credential_options:Object.assign(Object.assign({},v.webauthn.credential_options),{publicKey:Tw(v.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(a){const{data:i,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:i.id,code:a.code})}async _listFactors(){var a;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const d={all:[],phone:[],totp:[],webauthn:[]};for(const f of(a=i?.factors)!==null&&a!==void 0?a:[])d.all.push(f),f.status==="verified"&&d[f.factor_type].push(f);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var a,i;const{data:{session:l},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Kh(l.access_token);let m=null;f.aal&&(m=f.aal);let v=m;((i=(a=l.user.factors)===null||a===void 0?void 0:a.filter(S=>S.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(v="aal2");const y=f.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async i=>{const{data:{session:l},error:d}=i;return d?this._returnResult({data:null,error:d}):l?await Se(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new Is})})}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(a,i){try{return await this._useSession(async l=>{const{data:{session:d},error:f}=l;if(f)return this._returnResult({data:null,error:f});if(!d)return this._returnResult({data:null,error:new Is});const m=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:v=>({data:v,error:null})});return m.data&&m.data.redirect_url&&ns()&&!i?.skipBrowserRedirect&&window.location.assign(m.data.redirect_url),m})}catch(l){if(be(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,i){try{return await this._useSession(async l=>{const{data:{session:d},error:f}=l;if(f)return this._returnResult({data:null,error:f});if(!d)return this._returnResult({data:null,error:new Is});const m=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:v=>({data:v,error:null})});return m.data&&m.data.redirect_url&&ns()&&!i?.skipBrowserRedirect&&window.location.assign(m.data.redirect_url),m})}catch(l){if(be(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;return l?this._returnResult({data:null,error:l}):i?await Se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Is})})}catch(a){if(be(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async i=>{const{data:{session:l},error:d}=i;return d?this._returnResult({data:null,error:d}):l?(await Se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Is})})}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(a,i={keys:[]}){let l=i.keys.find(v=>v.kid===a);if(l)return l;const d=Date.now();if(l=this.jwks.keys.find(v=>v.kid===a),l&&this.jwks_cached_at+z0>d)return l;const{data:f,error:m}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(m)throw m;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=d,l=f.keys.find(v=>v.kid===a),!l)?null:l}async getClaims(a,i={}){try{let l=a;if(!l){const{data:A,error:z}=await this.getSession();if(z||!A.session)return this._returnResult({data:null,error:z});l=A.session.access_token}const{header:d,payload:f,signature:m,raw:{header:v,payload:p}}=Kh(l);i?.allowExpired||iw(f.exp);const y=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!y){const{error:A}=await this.getUser(l);if(A)throw A;return{data:{claims:f,header:d,signature:m},error:null}}const S=rw(d.alg),j=await crypto.subtle.importKey("jwk",y,S,!0,["verify"]);if(!await crypto.subtle.verify(S,j,m,K0(`${v}.${p}`)))throw new of("Invalid JWT signature");return{data:{claims:f,header:d,signature:m},error:null}}catch(l){if(be(l))return this._returnResult({data:null,error:l});throw l}}}qo.nextInstanceID={};const $w=qo,Bw="2.90.1";let Ro="";typeof Deno<"u"?Ro="deno":typeof document<"u"?Ro="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ro="react-native":Ro="node";const qw={"X-Client-Info":`supabase-js-${Ro}/${Bw}`},Hw={headers:qw},Vw={schema:"public"},Pw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Gw={};function Ho(n){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ho(n)}function Iw(n,a){if(Ho(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var l=i.call(n,a);if(Ho(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function Kw(n){var a=Iw(n,"string");return Ho(a)=="symbol"?a:a+""}function Yw(n,a,i){return(a=Kw(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i,n}function $p(n,a){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);a&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(n,d).enumerable})),i.push.apply(i,l)}return i}function Ct(n){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?$p(Object(i),!0).forEach(function(l){Yw(n,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):$p(Object(i)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(i,l))})}return n}const Xw=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),Qw=()=>Headers,Jw=(n,a,i)=>{const l=Xw(i),d=Qw();return async(f,m)=>{var v;const p=(v=await a())!==null&&v!==void 0?v:n;let y=new d(m?.headers);return y.has("apikey")||y.set("apikey",n),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),l(f,Ct(Ct({},m),{},{headers:y}))}};function Zw(n){return n.endsWith("/")?n:n+"/"}function Fw(n,a){var i,l;const{db:d,auth:f,realtime:m,global:v}=n,{db:p,auth:y,realtime:S,global:j}=a,N={db:Ct(Ct({},p),d),auth:Ct(Ct({},y),f),realtime:Ct(Ct({},S),m),storage:{},global:Ct(Ct(Ct({},j),v),{},{headers:Ct(Ct({},(i=j?.headers)!==null&&i!==void 0?i:{}),(l=v?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return n.accessToken?N.accessToken=n.accessToken:delete N.accessToken,N}function Ww(n){const a=n?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Zw(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ex=class extends $w{constructor(n){super(n)}},tx=class{constructor(n,a,i){var l,d;this.supabaseUrl=n,this.supabaseKey=a;const f=Ww(n);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const m=`sb-${f.hostname.split(".")[0]}-auth-token`,v={db:Vw,realtime:Gw,auth:Ct(Ct({},Pw),{},{storageKey:m}),global:Hw},p=Fw(i??{},v);if(this.storageKey=(l=p.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(d=p.global.headers)!==null&&d!==void 0?d:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(S,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=p.auth)!==null&&y!==void 0?y:{},this.headers,p.global.fetch)}this.fetch=Jw(a,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Ct({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(S=>this.realtime.setAuth(S)).catch(S=>console.warn("Failed to set initial Realtime auth token:",S)),this.rest=new U_(new URL("rest/v1",f).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new k0(this.storageUrl.href,this.headers,this.fetch,i?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new O_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,a={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,a,i)}channel(n,a={config:{}}){return this.realtime.channel(n,a)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,a,i;if(n.accessToken)return await n.accessToken();const{data:l}=await n.auth.getSession();return(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:l,userStorage:d,storageKey:f,flowType:m,lock:v,debug:p,throwOnError:y},S,j){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ex({url:this.authUrl.href,headers:Ct(Ct({},N),S),storageKey:f,autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:l,userStorage:d,flowType:m,lock:v,debug:p,throwOnError:y,fetch:j,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Z_(this.realtimeUrl.href,Ct(Ct({},n),{},{params:Ct(Ct({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a?.access_token)})}_handleTokenChanged(n,a,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const sx=(n,a,i)=>new tx(n,a,i);function ax(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const a=n.version;if(a==null)return!1;const i=a.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}ax()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nx="https://vomfbccovatpxjftybvt.supabase.co",ix="sb_publishable_bP247_Jq_cqeWLolowBw7g_suki1oC6",nt=sx(nx,ix,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:localStorage,storageKey:"helpdesk-supabase-auth"},global:{headers:{"X-Client-Info":"helpdesk-system@1.0.0"}}}),Eb=L.createContext({}),ll=()=>L.useContext(Eb),rx=({children:n})=>{const[a,i]=L.useState(null),[l,d]=L.useState(null),[f,m]=L.useState(!0),[v,p]=L.useState(""),[y,S]=L.useState(null),j=async U=>{try{console.log(" Cargando perfil para:",U);const{data:W,error:ae}=await nt.from("profiles").select("*").eq("id",U).single();return ae?ae.code==="PGRST116"?(console.log(" Perfil no encontrado, creando..."),await N(U),await j(U)):(console.error(" Error cargando perfil:",ae.message),null):(console.log(" Perfil cargado:",W.email),d(W),W)}catch(W){return console.error(" Error en loadUserProfile:",W),null}},N=async(U,W="",ae="")=>{try{console.log(" Creando perfil para:",W||U);const{data:se}=await nt.auth.getUser(),{error:J}=await nt.from("profiles").insert({id:U,email:W||se.user?.email||"",full_name:ae||se.user?.user_metadata?.full_name||"",role:"user",created_at:new Date().toISOString()});if(J)throw console.error(" Error creando perfil:",J.message),J;return console.log(" Perfil creado exitosamente"),!0}catch(se){return console.error(" Error en createProfile:",se),!1}};L.useEffect(()=>{console.log(" AuthProvider montado - Iniciando..."),(async()=>{try{m(!0),console.log(" Verificando sesin...");const{data:{session:ae},error:se}=await nt.auth.getSession();se?(console.error(" Error al verificar sesin:",se.message),p(se.message)):(console.log(" Sesin:",ae?"ACTIVA":"INACTIVA"),S(ae),i(ae?.user||null),ae?.user?await j(ae.user.id):d(null))}catch(ae){console.error(" Error inesperado en checkSession:",ae)}finally{m(!1),console.log(" Verificacin de sesin completada")}})();const{data:{subscription:W}}=nt.auth.onAuthStateChange(async(ae,se)=>{console.log(" Evento de autenticacin:",ae),console.log(" Usuario:",se?.user?.email),S(se),i(se?.user||null),se?.user?!await j(se.user.id)&&ae==="SIGNED_IN"&&await N(se.user.id,se.user.email,se.user.user_metadata?.full_name):d(null),m(!1),console.log(` Estado actualizado: ${se?"AUTENTICADO":"NO AUTENTICADO"}`)});return()=>{W?.unsubscribe(),console.log(" AuthProvider desmontado")}},[]);const A=async(U,W,ae)=>{try{p(""),m(!0),console.log(" Registrando usuario:",U);const{data:se,error:J}=await nt.auth.signUp({email:U,password:W,options:{data:{full_name:ae},emailRedirectTo:`${window.location.origin}/dashboard`}});return J?(console.error(" Error en signUp:",J.message),p(J.message),m(!1),{success:!1,error:J.message,requiresConfirmation:J.message.includes("confirm")}):(console.log(" Usuario registrado:",se.user?.email),se.user&&await N(se.user.id,U,ae),m(!1),{success:!0,data:se,error:null,message:se.user?.identities?.length===0?"Por favor verifica tu email para confirmar la cuenta":"Registro exitoso"})}catch(se){return console.error(" Error catch en signUp:",se),p(se.message),m(!1),{success:!1,error:se.message}}},z=async(U,W)=>{try{p(""),m(!0),console.log(" Iniciando sesin para:",U);const{data:ae,error:se}=await nt.auth.signInWithPassword({email:U,password:W});return se?(console.error(" Error en signIn:",se.message),p(se.message),m(!1),{success:!1,error:se.message,errorType:V(se.message)}):(console.log(" Sesin iniciada:",ae.user?.email),m(!1),{success:!0,data:ae,error:null})}catch(ae){return console.error(" Error catch en signIn:",ae),p(ae.message),m(!1),{success:!1,error:ae.message}}},k=async()=>{try{console.log(" Iniciando proceso de logout..."),i(null),d(null),S(null),p("");let U=null;try{const{error:W}=await nt.auth.signOut();W&&(U=W,console.error(" Error de Supabase en signOut:",W.message))}catch(W){U=W,console.error(" Excepcin en signOut de Supabase:",W)}try{const W=Object.keys(localStorage).filter(ae=>ae.includes("supabase")||ae.includes("sb-"));W.forEach(ae=>{localStorage.removeItem(ae)}),console.log(` Limpiados ${W.length} items de localStorage`)}catch(W){console.error(" Error limpiando localStorage:",W)}return U?{success:!1,error:U.message||"Error al cerrar sesin en Supabase"}:(console.log(" Logout completado exitosamente"),{success:!0})}catch(U){return console.error(" Error inesperado en signOut:",U),{success:!1,error:U.message||"Error inesperado al cerrar sesin"}}},D=async U=>{try{if(!a)throw new Error("Usuario no autenticado");console.log(" Actualizando perfil:",U);const{data:W,error:ae}=await nt.from("profiles").update(U).eq("id",a.id).select().single();if(ae)throw console.error(" Error actualizando perfil:",ae.message),ae;return console.log(" Perfil actualizado"),d(W),{success:!0,data:W}}catch(W){return console.error(" Error en updateProfile:",W),{success:!1,error:W.message}}},V=U=>U.includes("Invalid login credentials")?"invalid_credentials":U.includes("Email not confirmed")?"email_not_confirmed":U.includes("rate limit")?"rate_limited":U.includes("User already registered")?"already_registered":"general_error",q={user:a,profile:l,session:y,loading:f,authError:v,signUp:A,signIn:z,signOut:k,updateProfile:D,isAuthenticated:!!a,isAdmin:l?.role==="admin",isAgent:l?.role==="agent"||l?.role==="admin",isUser:l?.role==="user"||!l,userEmail:a?.email||l?.email,userName:l?.full_name||a?.user_metadata?.full_name||a?.email?.split("@")[0],userRole:l?.role||"user"};return o.jsx(Eb.Provider,{value:q,children:n})},lx=()=>{const n=Fi(),{user:a,profile:i,signOut:l,isAdmin:d,isAgent:f,isAuthenticated:m,userName:v,userRole:p}=ll(),[y,S]=L.useState(()=>{const k=localStorage.getItem("theme");return k==="dark"||!k&&window.matchMedia("(prefers-color-scheme: dark)").matches}),[j,N]=L.useState(!1),A=()=>{const k=!y;S(k),k?(document.documentElement.setAttribute("data-bs-theme","dark"),localStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-bs-theme","light"),localStorage.setItem("theme","light"))};L.useEffect(()=>{const k=localStorage.getItem("theme"),D=window.matchMedia("(prefers-color-scheme: dark)").matches;k?(document.documentElement.setAttribute("data-bs-theme",k),S(k==="dark")):D&&(document.documentElement.setAttribute("data-bs-theme","dark"),S(!0))},[]);const z=async()=>{try{N(!0);const k=document.getElementById("quickTicketModal");if(k){const V=window.bootstrap?window.bootstrap.Modal.getInstance(k):null;V&&V.hide()}console.log(" Intentando cerrar sesin...");const D=await l();if(D&&D.success)console.log(" Logout exitoso, redirigiendo a login..."),n("/login",{replace:!0,state:{message:"Sesin cerrada exitosamente",type:"success"}});else{const V=D?.error||"Error desconocido";console.error(" Error en logout:",V),alert(`Error al cerrar sesin: ${V}`)}}catch(k){console.error(" Error inesperado en logout:",k),alert("Error inesperado al cerrar sesin: "+k.message)}finally{N(!1)}};return m?o.jsxs("nav",{className:"navbar navbar-expand-lg bg-body-tertiary sticky-top shadow-sm border-bottom",children:[o.jsxs("div",{className:"container-fluid",children:[o.jsxs(ot,{className:"navbar-brand d-flex align-items-center fw-bold",to:"/dashboard",children:[o.jsx("i",{className:"bi bi-tools fs-4 me-2"}),o.jsx("span",{className:"text-primary-emphasis",children:"HelpDesk"}),o.jsx("span",{className:"text-body-emphasis ms-1",children:"Pro"}),o.jsx("span",{className:"badge bg-primary ms-2",children:"v1.0"})]}),o.jsx("button",{className:"navbar-toggler border-0",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarMain","aria-expanded":"false","aria-label":"Toggle navigation",children:o.jsx("span",{className:"navbar-toggler-icon"})}),o.jsxs("div",{className:"collapse navbar-collapse",id:"navbarMain",children:[o.jsxs("ul",{className:"navbar-nav me-auto",children:[o.jsx("li",{className:"nav-item",children:o.jsxs(hi,{to:"/dashboard",className:({isActive:k})=>`nav-link d-flex align-items-center ${k?"active fw-semibold":""}`,children:[o.jsx("i",{className:"bi bi-speedometer2 me-1"}),"Dashboard"]})}),o.jsxs("li",{className:"nav-item dropdown",children:[o.jsxs("a",{className:"nav-link dropdown-toggle d-flex align-items-center",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[o.jsx("i",{className:"bi bi-ticket-detailed me-1"}),"Tickets"]}),o.jsxs("ul",{className:"dropdown-menu",children:[o.jsx("li",{children:o.jsxs(ot,{className:"dropdown-item d-flex align-items-center",to:"/tickets",children:[o.jsx("i",{className:"bi bi-list-task me-2"}),"Todos los Tickets"]})}),o.jsx("li",{children:o.jsxs(ot,{className:"dropdown-item d-flex align-items-center",to:"/tickets?view=my",children:[o.jsx("i",{className:"bi bi-person-circle me-2"}),"Mis Tickets"]})}),o.jsx("li",{children:o.jsxs(ot,{className:"dropdown-item d-flex align-items-center",to:"/tickets?view=assigned",children:[o.jsx("i",{className:"bi bi-person-check me-2"}),"Asignados a m"]})}),o.jsx("li",{children:o.jsx("hr",{className:"dropdown-divider"})}),o.jsx("li",{children:o.jsxs("span",{className:"dropdown-header",children:[o.jsx("i",{className:"bi bi-plus-circle me-2"}),"Crear Nuevo"]})}),o.jsx("li",{children:o.jsxs("button",{className:"dropdown-item d-flex align-items-center",onClick:()=>n("/tickets?create=general"),children:[o.jsx("i",{className:"bi bi-file-earmark-text me-2"}),"Ticket General"]})}),o.jsx("li",{children:o.jsxs("button",{className:"dropdown-item d-flex align-items-center",onClick:()=>n("/tickets?create=purchase"),children:[o.jsx("i",{className:"bi bi-cart me-2"}),"Solicitud de Compra"]})}),o.jsx("li",{children:o.jsxs("button",{className:"dropdown-item d-flex align-items-center",onClick:()=>n("/tickets?create=error"),children:[o.jsx("i",{className:"bi bi-bug me-2"}),"Reportar Error"]})}),o.jsx("li",{children:o.jsxs("button",{className:"dropdown-item d-flex align-items-center",onClick:()=>n("/tickets?create=support"),children:[o.jsx("i",{className:"bi bi-headset me-2"}),"Solicitar Soporte"]})})]})]}),o.jsx("li",{className:"nav-item",children:o.jsxs(hi,{to:"/calendar",className:({isActive:k})=>`nav-link d-flex align-items-center ${k?"active fw-semibold":""}`,children:[o.jsx("i",{className:"bi bi-calendar me-1"}),"Calendario"]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(hi,{to:"/reports",className:({isActive:k})=>`nav-link d-flex align-items-center ${k?"active fw-semibold":""}`,children:[o.jsx("i",{className:"bi bi-graph-up me-1"}),"Reportes"]})}),d&&o.jsxs("li",{className:"nav-item dropdown",children:[o.jsxs("a",{className:"nav-link dropdown-toggle d-flex align-items-center text-danger-emphasis",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[o.jsx("i",{className:"bi bi-shield-lock me-1"}),"Administracin"]}),o.jsxs("ul",{className:"dropdown-menu",children:[o.jsx("li",{children:o.jsxs(ot,{className:"dropdown-item d-flex align-items-center",to:"/admin/users",children:[o.jsx("i",{className:"bi bi-people me-2"}),"Gestin de Usuarios"]})}),o.jsx("li",{children:o.jsxs(ot,{className:"dropdown-item d-flex align-items-center",to:"/admin/categories",children:[o.jsx("i",{className:"bi bi-tags me-2"}),"Categoras"]})}),o.jsx("li",{children:o.jsxs(ot,{className:"dropdown-item d-flex align-items-center",to:"/admin/settings",children:[o.jsx("i",{className:"bi bi-gear me-2"}),"Configuracin"]})}),o.jsx("li",{children:o.jsx("hr",{className:"dropdown-divider"})}),o.jsx("li",{children:o.jsxs(ot,{className:"dropdown-item d-flex align-items-center text-danger-emphasis",to:"/admin/audit",children:[o.jsx("i",{className:"bi bi-clipboard-data me-2"}),"Auditora"]})})]})]}),f&&!d&&o.jsx("li",{className:"nav-item",children:o.jsxs(hi,{to:"/agent/queue",className:({isActive:k})=>`nav-link d-flex align-items-center ${k?"active fw-semibold":""}`,children:[o.jsx("i",{className:"bi bi-inboxes me-1"}),"Cola de Tickets",o.jsx("span",{className:"badge bg-danger ms-2",children:"3"})]})})]}),o.jsxs("ul",{className:"navbar-nav ms-auto align-items-center",children:[o.jsx("li",{className:"nav-item",children:o.jsx("button",{className:`btn btn-sm ${y?"btn-outline-light":"btn-outline-dark"} border-0 me-2`,onClick:A,title:y?"Modo claro":"Modo oscuro",style:{width:"40px"},children:y?o.jsx("i",{className:"bi bi-sun-fill"}):o.jsx("i",{className:"bi bi-moon-stars-fill"})})}),o.jsxs("li",{className:"nav-item dropdown me-3",children:[o.jsxs("a",{className:"nav-link position-relative",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[o.jsx("i",{className:"bi bi-bell fs-5"}),o.jsxs("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",children:["5",o.jsx("span",{className:"visually-hidden",children:"notificaciones"})]})]}),o.jsxs("ul",{className:"dropdown-menu dropdown-menu-end p-2",style:{minWidth:"300px"},children:[o.jsxs("li",{className:"dropdown-header d-flex justify-content-between align-items-center",children:[o.jsx("span",{children:"Notificaciones"}),o.jsx("button",{className:"btn btn-sm btn-outline-primary",children:"Limpiar"})]}),o.jsx("li",{children:o.jsx("hr",{className:"dropdown-divider"})}),o.jsx("li",{children:o.jsxs("a",{className:"dropdown-item d-flex align-items-start py-2",href:"#",children:[o.jsx("div",{className:"me-3",children:o.jsx("i",{className:"bi bi-ticket-detailed text-primary fs-5"})}),o.jsxs("div",{children:[o.jsx("div",{className:"fw-semibold",children:"Nuevo ticket asignado"}),o.jsx("div",{className:"text-body-secondary small",children:"Error en el sistema de login"}),o.jsx("div",{className:"text-body-secondary small",children:"Hace 5 minutos"})]})]})}),o.jsx("li",{children:o.jsxs("a",{className:"dropdown-item d-flex align-items-start py-2",href:"#",children:[o.jsx("div",{className:"me-3",children:o.jsx("i",{className:"bi bi-chat-left-text text-success fs-5"})}),o.jsxs("div",{children:[o.jsx("div",{className:"fw-semibold",children:"Nuevo comentario"}),o.jsx("div",{className:"text-body-secondary small",children:"En tu ticket #TKT-001"}),o.jsx("div",{className:"text-body-secondary small",children:"Hace 1 hora"})]})]})})]})]}),o.jsxs("li",{className:"nav-item dropdown",children:[o.jsxs("a",{className:"nav-link dropdown-toggle d-flex align-items-center",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[o.jsxs("div",{className:"position-relative me-2",children:[o.jsx("div",{className:"rounded-circle bg-primary text-white d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px"},children:v?.charAt(0).toUpperCase()||"U"}),p==="admin"&&o.jsx("span",{className:"position-absolute top-0 start-100 translate-middle p-1 bg-danger border border-light rounded-circle",children:o.jsx("span",{className:"visually-hidden",children:"Admin"})})]}),o.jsxs("div",{className:"d-none d-md-block",children:[o.jsx("div",{className:"fw-semibold text-body-emphasis",children:v||"Usuario"}),o.jsx("div",{className:"small text-body-secondary",children:p||"Usuario"})]})]}),o.jsxs("ul",{className:"dropdown-menu dropdown-menu-end",children:[o.jsx("li",{children:o.jsxs(ot,{className:"dropdown-item d-flex align-items-center",to:"/profile",children:[o.jsx("i",{className:"bi bi-person-circle me-2"}),"Mi Perfil"]})}),o.jsx("li",{children:o.jsxs(ot,{className:"dropdown-item d-flex align-items-center",to:"/settings",children:[o.jsx("i",{className:"bi bi-gear me-2"}),"Configuracin"]})}),o.jsx("li",{children:o.jsxs("button",{className:"dropdown-item d-flex align-items-center","data-bs-toggle":"modal","data-bs-target":"#quickTicketModal",children:[o.jsx("i",{className:"bi bi-lightning me-2"}),"Ticket Rpido"]})}),o.jsx("li",{children:o.jsx("hr",{className:"dropdown-divider"})}),o.jsx("li",{children:o.jsxs(ot,{className:"dropdown-item d-flex align-items-center",to:"/help",children:[o.jsx("i",{className:"bi bi-question-circle me-2"}),"Ayuda"]})}),o.jsx("li",{children:o.jsxs("a",{className:"dropdown-item d-flex align-items-center",href:"#",children:[o.jsx("i",{className:"bi bi-box-arrow-up-right me-2"}),"Documentacin"]})}),o.jsx("li",{children:o.jsx("hr",{className:"dropdown-divider"})}),o.jsx("li",{children:o.jsx("button",{className:"dropdown-item d-flex align-items-center text-danger-emphasis",onClick:z,disabled:j,children:j?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Cerrando..."]}):o.jsxs(o.Fragment,{children:[o.jsx("i",{className:"bi bi-box-arrow-right me-2"}),"Cerrar Sesin"]})})})]})]})]})]})]}),o.jsx("div",{className:"modal fade",id:"quickTicketModal",tabIndex:"-1","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{className:"modal-title",children:[o.jsx("i",{className:"bi bi-lightning me-2"}),"Ticket Rpido"]}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("form",{children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Ttulo"}),o.jsx("input",{type:"text",className:"form-control",placeholder:"Describe brevemente el problema"})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Descripcin"}),o.jsx("textarea",{className:"form-control",rows:"3",placeholder:"Detalla el problema..."})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Prioridad"}),o.jsxs("select",{className:"form-select",children:[o.jsx("option",{value:"low",children:"Baja"}),o.jsx("option",{value:"medium",selected:!0,children:"Media"}),o.jsx("option",{value:"high",children:"Alta"}),o.jsx("option",{value:"urgent",children:"Urgente"})]})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),o.jsxs("button",{type:"button",className:"btn btn-primary",children:[o.jsx("i",{className:"bi bi-plus-circle me-1"}),"Crear Ticket"]})]})]})})})]}):o.jsx("nav",{className:"navbar navbar-expand-lg bg-body-tertiary sticky-top shadow-sm border-bottom",children:o.jsxs("div",{className:"container-fluid",children:[o.jsxs(ot,{className:"navbar-brand d-flex align-items-center fw-bold",to:"/",children:[o.jsx("i",{className:"bi bi-tools fs-4 me-2"}),o.jsx("span",{className:"text-primary-emphasis",children:"HelpDesk"}),o.jsx("span",{className:"text-body-emphasis ms-1",children:"Pro"})]}),o.jsx("button",{className:"navbar-toggler border-0",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarMain","aria-expanded":"false","aria-label":"Toggle navigation",children:o.jsx("span",{className:"navbar-toggler-icon"})}),o.jsx("div",{className:"collapse navbar-collapse",id:"navbarMain",children:o.jsxs("ul",{className:"navbar-nav ms-auto align-items-center",children:[o.jsx("li",{className:"nav-item",children:o.jsxs(hi,{to:"/",end:!0,className:({isActive:k})=>`nav-link ${k?"active fw-semibold":""}`,children:[o.jsx("i",{className:"bi bi-house-door me-1"}),"Inicio"]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(hi,{to:"/login",className:({isActive:k})=>`nav-link ${k?"active fw-semibold":""}`,children:[o.jsx("i",{className:"bi bi-box-arrow-in-right me-1"}),"Iniciar Sesin"]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(hi,{to:"/register",className:({isActive:k})=>`nav-link ${k?"active fw-semibold":""}`,children:[o.jsx("i",{className:"bi bi-person-plus me-1"}),"Registrarse"]})}),o.jsx("li",{className:"nav-item ms-2",children:o.jsx("button",{className:`btn btn-sm ${y?"btn-outline-light":"btn-outline-dark"} border-0`,onClick:A,title:y?"Modo claro":"Modo oscuro",style:{width:"40px"},children:y?o.jsx("i",{className:"bi bi-sun-fill"}):o.jsx("i",{className:"bi bi-moon-stars-fill"})})})]})})]})})},ox=()=>{const n=new Date().getFullYear(),a=document.documentElement.getAttribute("data-bs-theme")==="dark";return o.jsxs("footer",{className:"bg-body-tertiary border-top",children:[o.jsxs("div",{className:"container py-5",children:[o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-lg-4 mb-4 mb-lg-0",children:[o.jsxs("div",{className:"d-flex align-items-center mb-3",children:[o.jsx("i",{className:"bi bi-tools fs-3 text-primary me-2"}),o.jsx("h5",{className:"fw-bold mb-0",children:"HelpDesk Pro"})]}),o.jsx("p",{className:"text-body-secondary mb-3",children:"Sistema de gestin de tickets desarrollado con React, Bootstrap y Supabase. Proyecto educativo para el aprendizaje de desarrollo web moderno."}),o.jsxs("div",{className:"d-flex gap-3",children:[o.jsx("a",{href:"#",className:"text-body-secondary text-decoration-none",children:o.jsx("i",{className:"bi bi-github fs-5"})}),o.jsx("a",{href:"#",className:"text-body-secondary text-decoration-none",children:o.jsx("i",{className:"bi bi-twitter fs-5"})}),o.jsx("a",{href:"#",className:"text-body-secondary text-decoration-none",children:o.jsx("i",{className:"bi bi-linkedin fs-5"})}),o.jsx("a",{href:"#",className:"text-body-secondary text-decoration-none",children:o.jsx("i",{className:"bi bi-discord fs-5"})})]})]}),o.jsxs("div",{className:"col-lg-2 col-md-4 mb-4 mb-md-0",children:[o.jsx("h6",{className:"fw-bold mb-3",children:"Sistema"}),o.jsxs("ul",{className:"list-unstyled",children:[o.jsx("li",{className:"mb-2",children:o.jsxs(ot,{to:"/dashboard",className:"text-body-secondary text-decoration-none",children:[o.jsx("i",{className:"bi bi-speedometer2 me-1"})," Dashboard"]})}),o.jsx("li",{className:"mb-2",children:o.jsxs(ot,{to:"/tickets",className:"text-body-secondary text-decoration-none",children:[o.jsx("i",{className:"bi bi-ticket-detailed me-1"})," Tickets"]})}),o.jsx("li",{className:"mb-2",children:o.jsxs(ot,{to:"/reports",className:"text-body-secondary text-decoration-none",children:[o.jsx("i",{className:"bi bi-graph-up me-1"})," Reportes"]})}),o.jsx("li",{className:"mb-2",children:o.jsxs(ot,{to:"/calendar",className:"text-body-secondary text-decoration-none",children:[o.jsx("i",{className:"bi bi-calendar me-1"})," Calendario"]})})]})]}),o.jsxs("div",{className:"col-lg-2 col-md-4 mb-4 mb-md-0",children:[o.jsx("h6",{className:"fw-bold mb-3",children:"Cuenta"}),o.jsxs("ul",{className:"list-unstyled",children:[o.jsx("li",{className:"mb-2",children:o.jsxs(ot,{to:"/login",className:"text-body-secondary text-decoration-none",children:[o.jsx("i",{className:"bi bi-box-arrow-in-right me-1"})," Iniciar Sesin"]})}),o.jsx("li",{className:"mb-2",children:o.jsxs(ot,{to:"/register",className:"text-body-secondary text-decoration-none",children:[o.jsx("i",{className:"bi bi-person-plus me-1"})," Registrarse"]})}),o.jsx("li",{className:"mb-2",children:o.jsxs(ot,{to:"/profile",className:"text-body-secondary text-decoration-none",children:[o.jsx("i",{className:"bi bi-person-circle me-1"})," Mi Perfil"]})}),o.jsx("li",{className:"mb-2",children:o.jsxs(ot,{to:"/settings",className:"text-body-secondary text-decoration-none",children:[o.jsx("i",{className:"bi bi-gear me-1"})," Configuracin"]})})]})]}),o.jsxs("div",{className:"col-lg-2 col-md-4",children:[o.jsx("h6",{className:"fw-bold mb-3",children:"Soporte"}),o.jsxs("ul",{className:"list-unstyled",children:[o.jsx("li",{className:"mb-2",children:o.jsxs("a",{href:"#",className:"text-body-secondary text-decoration-none",children:[o.jsx("i",{className:"bi bi-question-circle me-1"})," Ayuda"]})}),o.jsx("li",{className:"mb-2",children:o.jsxs("a",{href:"#",className:"text-body-secondary text-decoration-none",children:[o.jsx("i",{className:"bi bi-book me-1"})," Documentacin"]})}),o.jsx("li",{className:"mb-2",children:o.jsxs("a",{href:"#",className:"text-body-secondary text-decoration-none",children:[o.jsx("i",{className:"bi bi-chat-left-text me-1"})," Contacto"]})}),o.jsx("li",{className:"mb-2",children:o.jsxs("a",{href:"#",className:"text-body-secondary text-decoration-none",children:[o.jsx("i",{className:"bi bi-shield-check me-1"})," Privacidad"]})})]})]}),o.jsxs("div",{className:"col-lg-2",children:[o.jsx("h6",{className:"fw-bold mb-3",children:"Tecnologas"}),o.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[o.jsx("span",{className:"badge bg-react",children:"React"}),o.jsx("span",{className:"badge bg-bootstrap",children:"Bootstrap"}),o.jsx("span",{className:"badge bg-supabase",children:"Supabase"}),o.jsx("span",{className:"badge bg-vite",children:"Vite"}),o.jsx("span",{className:"badge bg-javascript",children:"JavaScript"})]})]})]}),o.jsx("hr",{className:"my-4"}),o.jsxs("div",{className:"row align-items-center",children:[o.jsxs("div",{className:"col-md-6 mb-3 mb-md-0",children:[o.jsx("h6",{className:"fw-bold mb-2",children:"Suscrbete a nuestro boletn"}),o.jsx("p",{className:"text-body-secondary mb-3 small",children:"Recibe actualizaciones sobre nuevas caractersticas y mejoras."})]}),o.jsx("div",{className:"col-md-6",children:o.jsxs("form",{className:"input-group",children:[o.jsx("input",{type:"email",className:"form-control",placeholder:"tu@email.com","aria-label":"Email"}),o.jsx("button",{className:"btn btn-primary",type:"submit",children:o.jsx("i",{className:"bi bi-envelope"})})]})})]})]}),o.jsx("div",{className:a?"bg-dark text-white py-3":"bg-light text-dark py-3 border-top",children:o.jsx("div",{className:"container",children:o.jsxs("div",{className:"row align-items-center",children:[o.jsx("div",{className:"col-md-6",children:o.jsxs("p",{className:"mb-0 small",children:[" ",n," HelpDesk Pro. Proyecto educativo para fines de aprendizaje. Ar Sistema"]})}),o.jsx("div",{className:"col-md-6 text-md-end",children:o.jsxs("p",{className:"mb-0 small",children:[o.jsxs("span",{className:"me-3",children:[o.jsx("i",{className:"bi bi-code-slash me-1"}),"Versin: 2.0.0-beta"]}),o.jsxs("span",{children:[o.jsx("i",{className:"bi bi-cpu me-1"}),"Modo: ",a?"Oscuro":"Claro"]})]})})]})})})]})},Au=({children:n})=>n,cx=()=>{const[n,a]=L.useState({email:"",password:""}),[i,l]=L.useState(""),[d,f]=L.useState(!1),{signIn:m,authError:v}=ll(),p=Fi(),y=j=>{const{name:N,value:A}=j.target;a(z=>({...z,[N]:A})),i&&l("")},S=async j=>{if(j.preventDefault(),!n.email||!n.password)return l("Por favor completa todos los campos");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email))return l("Por favor ingresa un email vlido");l(""),f(!0);const A=await m(n.email,n.password);if(A.success)console.log(" Login exitoso, redirigiendo..."),p("/dashboard");else{let z=A.error||"Error al iniciar sesin";z.includes("Invalid login credentials")?z="Credenciales incorrectas. Verifica tu email y contrasea":z.includes("Email not confirmed")?z="Por favor confirma tu email antes de iniciar sesin":z.includes("rate limit")&&(z="Demasiados intentos. Por favor espera unos minutos"),l(z)}f(!1)};return o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-md-6 col-lg-5 col-xl-4",children:o.jsxs("div",{className:"card shadow-lg border-0",children:[o.jsxs("div",{className:"card-header bg-primary bg-gradient text-white py-4",children:[o.jsx("div",{className:"d-flex align-items-center justify-content-center mb-2",children:o.jsx("i",{className:"bi bi-shield-lock display-6"})}),o.jsx("h3",{className:"text-center mb-0 fw-bold",children:"HelpDesk Pro"}),o.jsx("p",{className:"text-center mb-0 opacity-75",children:"Sistema de Gestin de Tickets"})]}),o.jsxs("div",{className:"card-body p-4 p-md-5",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsxs("h4",{className:"fw-bold",children:[o.jsx("i",{className:"bi bi-box-arrow-in-right me-2 text-primary"}),"Iniciar Sesin"]}),o.jsx("p",{className:"text-muted mb-0",children:"Accede a tu cuenta para continuar"})]}),v&&!i&&o.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),o.jsxs("div",{children:[o.jsx("strong",{children:"Error del sistema:"})," ",v]})]}),o.jsx("button",{type:"button",className:"btn-close",onClick:()=>l(""),"aria-label":"Cerrar"})]}),i&&o.jsxs("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:"bi bi-exclamation-circle-fill me-2"}),o.jsx("div",{children:i})]}),o.jsx("button",{type:"button",className:"btn-close",onClick:()=>l(""),"aria-label":"Cerrar"})]}),o.jsxs("form",{onSubmit:S,children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{htmlFor:"email",className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-envelope me-1 text-primary"}),"Correo Electrnico"]}),o.jsxs("div",{className:"input-group",children:[o.jsx("span",{className:"input-group-text",children:o.jsx("i",{className:"bi bi-at"})}),o.jsx("input",{type:"email",id:"email",name:"email",className:`form-control ${i?"is-invalid":""}`,placeholder:"ejemplo@correo.com",value:n.email,onChange:y,required:!0,disabled:d})]}),o.jsx("div",{className:"form-text",children:"Usa el email con el que te registraste"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{htmlFor:"password",className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-key me-1 text-primary"}),"Contrasea"]}),o.jsxs("div",{className:"input-group",children:[o.jsx("span",{className:"input-group-text",children:o.jsx("i",{className:"bi bi-lock"})}),o.jsx("input",{type:"password",id:"password",name:"password",className:`form-control ${i?"is-invalid":""}`,placeholder:"",value:n.password,onChange:y,required:!0,disabled:d}),o.jsx("button",{className:"btn btn-outline-secondary",type:"button",id:"togglePassword",onClick:()=>{const j=document.getElementById("password"),N=j.type==="password"?"text":"password";j.type=N;const A=document.querySelector("#togglePassword i");A.className=N==="password"?"bi bi-eye":"bi bi-eye-slash"},children:o.jsx("i",{className:"bi bi-eye"})})]}),o.jsx("div",{className:"form-text",children:"Mnimo 6 caracteres"})]}),o.jsxs("div",{className:"mb-4 form-check",children:[o.jsx("input",{type:"checkbox",className:"form-check-input",id:"rememberMe"}),o.jsx("label",{className:"form-check-label",htmlFor:"rememberMe",children:"Recordar mi sesin"})]}),o.jsx("div",{className:"d-grid gap-2 mb-4",children:o.jsx("button",{type:"submit",className:"btn btn-primary btn-lg fw-semibold",disabled:d,children:d?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Iniciando sesin..."]}):o.jsxs(o.Fragment,{children:[o.jsx("i",{className:"bi bi-box-arrow-in-right me-2"}),"Iniciar Sesin"]})})})]}),o.jsxs("div",{className:"text-center my-4 position-relative",children:[o.jsx("hr",{className:"w-100"}),o.jsx("span",{className:"bg-white px-3 position-absolute top-50 start-50 translate-middle text-muted",children:"O"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"mb-2",children:o.jsxs(ot,{to:"/register",className:"text-decoration-none fw-semibold",children:[o.jsx("i",{className:"bi bi-person-plus me-1"}),"No tienes cuenta? Regstrate aqu"]})}),o.jsx("p",{className:"mb-3",children:o.jsxs(ot,{to:"/forgot-password",className:"text-decoration-none text-muted small",children:[o.jsx("i",{className:"bi bi-question-circle me-1"}),"Olvidaste tu contrasea?"]})}),o.jsx("div",{className:"alert alert-light border mt-3 small",children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:"bi bi-info-circle me-2 text-info"}),o.jsxs("div",{children:[o.jsx("strong",{children:"Nota:"})," Usa las credenciales creadas en Supabase"]})]})})]}),!1]}),o.jsx("div",{className:"card-footer bg-body-tertiary py-3 text-center",children:o.jsxs("small",{className:"text-muted",children:[o.jsx("i",{className:"bi bi-shield-check me-1"}),"Tu informacin est protegida con encriptacin SSL"]})})]})})})},ux=()=>{const[n,a]=L.useState({email:"",password:"",confirmPassword:"",fullName:""}),[i,l]=L.useState(""),[d,f]=L.useState(""),[m,v]=L.useState(!1),[p,y]=L.useState(0),{signUp:S}=ll(),j=Fi(),N=D=>{const{name:V,value:q}=D.target;if(a(U=>({...U,[V]:q})),V==="password"){let U=0;q.length>=6&&(U+=25),/[A-Z]/.test(q)&&(U+=25),/[0-9]/.test(q)&&(U+=25),/[^A-Za-z0-9]/.test(q)&&(U+=25),y(U)}i&&l("")},A=async D=>{if(D.preventDefault(),!n.email||!n.password||!n.confirmPassword||!n.fullName)return l("Por favor completa todos los campos");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email))return l("Por favor ingresa un email vlido");if(n.password.length<6)return l("La contrasea debe tener al menos 6 caracteres");if(n.password!==n.confirmPassword)return l("Las contraseas no coinciden");if(n.fullName.length<2)return l("Por favor ingresa tu nombre completo");l(""),v(!0);const V=await S(n.email,n.password,n.fullName);if(V.success)f("Registro exitoso! Redirigiendo al dashboard..."),setTimeout(()=>{j("/dashboard")},2e3);else{let q=V.error||"Error al registrar usuario";q.includes("already registered")?q="Este email ya est registrado":q.includes("weak_password")&&(q="La contrasea es demasiado dbil"),l(q)}v(!1)},z=()=>p>=75?"bg-success":p>=50?"bg-warning":p>=25?"bg-info":"bg-danger",k=()=>p>=75?"Fuerte":p>=50?"Media":p>=25?"Dbil":"Muy dbil";return o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-md-8 col-lg-6 col-xl-5",children:o.jsxs("div",{className:"card shadow-lg border-0",children:[o.jsxs("div",{className:"card-header bg-success bg-gradient text-white py-4",children:[o.jsx("div",{className:"d-flex align-items-center justify-content-center mb-2",children:o.jsx("i",{className:"bi bi-person-plus display-6"})}),o.jsx("h3",{className:"text-center mb-0 fw-bold",children:"Crear Cuenta"}),o.jsx("p",{className:"text-center mb-0 opacity-75",children:"nete a nuestro sistema HelpDesk"})]}),o.jsxs("div",{className:"card-body p-4 p-md-5",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsxs("h4",{className:"fw-bold",children:[o.jsx("i",{className:"bi bi-person-plus me-2 text-success"}),"Registro de Usuario"]}),o.jsx("p",{className:"text-muted mb-0",children:"Completa el formulario para crear tu cuenta"})]}),d&&o.jsx("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:"bi bi-check-circle-fill me-2"}),o.jsxs("div",{children:[o.jsx("strong",{children:"xito!"})," ",d]})]})}),i&&o.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),o.jsx("div",{children:i})]}),o.jsx("button",{type:"button",className:"btn-close",onClick:()=>l(""),"aria-label":"Cerrar"})]}),o.jsxs("form",{onSubmit:A,children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{htmlFor:"fullName",className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-person me-1 text-success"}),"Nombre Completo"]}),o.jsxs("div",{className:"input-group",children:[o.jsx("span",{className:"input-group-text",children:o.jsx("i",{className:"bi bi-person-badge"})}),o.jsx("input",{type:"text",id:"fullName",name:"fullName",className:"form-control",placeholder:"Juan Prez",value:n.fullName,onChange:N,required:!0,disabled:m})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{htmlFor:"email",className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-envelope me-1 text-success"}),"Correo Electrnico"]}),o.jsxs("div",{className:"input-group",children:[o.jsx("span",{className:"input-group-text",children:o.jsx("i",{className:"bi bi-at"})}),o.jsx("input",{type:"email",id:"email",name:"email",className:"form-control",placeholder:"ejemplo@correo.com",value:n.email,onChange:N,required:!0,disabled:m})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{htmlFor:"password",className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-key me-1 text-success"}),"Contrasea"]}),o.jsxs("div",{className:"input-group",children:[o.jsx("span",{className:"input-group-text",children:o.jsx("i",{className:"bi bi-lock"})}),o.jsx("input",{type:"password",id:"password",name:"password",className:"form-control",placeholder:"",value:n.password,onChange:N,required:!0,disabled:m})]}),n.password&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"d-flex justify-content-between small",children:[o.jsx("span",{children:"Fortaleza:"}),o.jsx("span",{children:k()})]}),o.jsx("div",{className:"progress",style:{height:"5px"},children:o.jsx("div",{className:`progress-bar ${z()}`,role:"progressbar",style:{width:`${p}%`},"aria-valuenow":p,"aria-valuemin":"0","aria-valuemax":"100"})}),o.jsxs("div",{className:"form-text small",children:[o.jsx("i",{className:"bi bi-info-circle me-1"}),"Usa maysculas, nmeros y caracteres especiales"]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{htmlFor:"confirmPassword",className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-key-fill me-1 text-success"}),"Confirmar Contrasea"]}),o.jsxs("div",{className:"input-group",children:[o.jsx("span",{className:"input-group-text",children:o.jsx("i",{className:"bi bi-lock-fill"})}),o.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",className:`form-control ${n.password&&n.confirmPassword&&n.password!==n.confirmPassword?"is-invalid":""}`,placeholder:"",value:n.confirmPassword,onChange:N,required:!0,disabled:m})]}),n.password&&n.confirmPassword&&n.password!==n.confirmPassword&&o.jsxs("div",{className:"text-danger small mt-1",children:[o.jsx("i",{className:"bi bi-exclamation-circle me-1"}),"Las contraseas no coinciden"]})]}),o.jsxs("div",{className:"mb-4 form-check",children:[o.jsx("input",{type:"checkbox",className:"form-check-input",id:"terms",required:!0}),o.jsxs("label",{className:"form-check-label",htmlFor:"terms",children:["Acepto los"," ",o.jsx(ot,{to:"/terms",className:"text-decoration-none",children:"Trminos y Condiciones"})," ","y la"," ",o.jsx(ot,{to:"/privacy",className:"text-decoration-none",children:"Poltica de Privacidad"})]})]}),o.jsx("div",{className:"d-grid gap-2 mb-4",children:o.jsx("button",{type:"submit",className:"btn btn-success btn-lg fw-semibold",disabled:m,children:m?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Creando cuenta..."]}):o.jsxs(o.Fragment,{children:[o.jsx("i",{className:"bi bi-person-plus me-2"}),"Crear Cuenta"]})})})]}),o.jsxs("div",{className:"text-center mt-4",children:[o.jsxs("p",{className:"mb-3",children:["Ya tienes cuenta?"," ",o.jsxs(ot,{to:"/login",className:"text-decoration-none fw-semibold",children:[o.jsx("i",{className:"bi bi-box-arrow-in-right me-1"}),"Inicia Sesin aqu"]})]}),o.jsx("div",{className:"alert alert-light border small",children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:"bi bi-shield-check me-2 text-success"}),o.jsxs("div",{children:[o.jsx("strong",{children:"Seguridad:"})," Tus datos estn protegidos y no sern compartidos"]})]})})]})]}),o.jsx("div",{className:"card-footer bg-body-tertiary py-3 text-center",children:o.jsxs("small",{className:"text-muted",children:[o.jsx("i",{className:"bi bi-clock-history me-1"}),"El registro es instantneo. Podrs crear tickets inmediatamente."]})})]})})})};let Jr=null,Zr=null,al=null;const Nb=300*1e3,dx=async(n={},a={})=>{try{console.log(" Obteniendo tickets con filtros:",n);let i=nt.from("tickets").select(`
        *,
        categories (*),
        creator:profiles!tickets_created_by_fkey (
          id, email, full_name, role, avatar_url
        ),
        assignee:profiles!tickets_assigned_to_fkey (
          id, email, full_name, role, avatar_url
        ),
        comments (count)
      `,{count:"exact"});if(yx(i,n),a.sortBy?i=i.order(a.sortBy,{ascending:a.sortAsc!==!1}):i=i.order("created_at",{ascending:!1}),a.page&&a.pageSize){const m=(a.page-1)*a.pageSize,v=m+a.pageSize-1;i=i.range(m,v)}const{data:l,error:d,count:f}=await i;if(d)throw console.error(" Error obteniendo tickets:",d),new Error(`Error al obtener tickets: ${d.message}`);return console.log(` Tickets obtenidos: ${l?.length||0}`),{data:l||[],count:f||0,error:null}}catch(i){return console.error(" Error en getTickets:",i),{data:[],count:0,error:i.message||"Error desconocido"}}},_f=async n=>{try{if(!n)throw new Error("ID de ticket requerido");console.log(` Obteniendo ticket ${n}...`);const{data:a,error:i}=await nt.from("tickets").select(`
        *,
        categories (*),
        creator:profiles!tickets_created_by_fkey (
          id, email, full_name, role, avatar_url
        ),
        assignee:profiles!tickets_assigned_to_fkey (
          id, email, full_name, role, avatar_url
        ),
        comments (
          id,
          content,
          is_internal,
          created_at,
          user:profiles!comments_user_id_fkey (
            id, email, full_name, role, avatar_url
          )
        )
      `).eq("id",n).single();if(i)throw i.code==="PGRST116"?new Error("Ticket no encontrado"):i;return console.log(` Ticket ${n} obtenido`),{data:a,error:null}}catch(a){return console.error(` Error obteniendo ticket ${n}:`,a),{data:null,error:a.message||"Error al obtener ticket"}}},hx=async n=>{try{if(console.log(" Creando nuevo ticket...",n),!n.title||!n.title.trim())throw new Error("El ttulo es requerido");if(!n.description||!n.description.trim())throw new Error("La descripcin es requerida");if(!n.created_by)throw new Error("ID de creador requerido");const a={title:n.title.trim(),description:n.description.trim(),status:n.status||"open",priority:n.priority||"medium",created_by:n.created_by,assigned_to:n.assigned_to||null,category_id:n.category_id||null,module:n.module||"support",due_date:n.due_date||null,purchase_details:n.purchase_details||{},error_details:n.error_details||{}},{data:i,error:l}=await nt.from("tickets").insert([a]).select(`
        *,
        categories (*),
        creator:profiles!tickets_created_by_fkey (id, email, full_name)
      `).single();if(l)throw console.error(" Error de Supabase:",l),new Error(`Error al crear ticket: ${l.message}`);return await Pu(i.id,a.created_by,"ticket_created",null,"Nuevo ticket creado"),console.log(" Ticket creado exitosamente:",i.id),{data:i,error:null}}catch(a){return console.error(" Error creando ticket:",a),{data:null,error:a.message||"Error al crear ticket"}}},fx=async(n,a,i)=>{try{if(!n||!i)throw new Error("ID de ticket y usuario requeridos");console.log(` Actualizando ticket ${n}...`,a);const{data:l,error:d}=await _f(n);if(d||!l)throw console.error(" Error obteniendo ticket para actualizar:",d),new Error("Ticket no encontrado");const f={...a,assigned_to:a.assigned_to||null,category_id:a.category_id||null,due_date:a.due_date||null,updated_at:new Date().toISOString()},{data:m,error:v}=await nt.from("tickets").update(f).eq("id",n).select().single();if(v)throw console.error(" Error actualizando ticket:",v),new Error(`Error al actualizar ticket: ${v.message}`);return await _x(n,i,l,f),console.log(` Ticket ${n} actualizado`),{data:m,error:null}}catch(l){return console.error(` Error actualizando ticket ${n}:`,l),{data:null,error:l.message||"Error al actualizar ticket"}}},mx=async(n,a)=>{try{if(!n||!a)throw new Error("ID de ticket y usuario requeridos");console.log(` Eliminando ticket ${n}...`);const{data:i}=await _f(n);if(!i.data)throw new Error("Ticket no encontrado");const{error:l}=await nt.from("tickets").delete().eq("id",n);if(l)throw console.error(" Error eliminando ticket:",l),new Error(`Error al eliminar ticket: ${l.message}`);return await Pu(n,a,"ticket_deleted","Ticket activo","Ticket eliminado"),console.log(` Ticket ${n} eliminado`),{success:!0,error:null}}catch(i){return console.error(` Error eliminando ticket ${n}:`,i),{success:!1,error:i.message||"Error al eliminar ticket"}}},gx=async(n=!1)=>{try{const a=Date.now();if(!n&&Jr&&al&&a-al<Nb)return console.log(" Usando categoras en cache"),{data:Jr,error:null};console.log(" Obteniendo categoras de la base de datos...");const{data:i,error:l}=await nt.from("categories").select("*").order("name");if(l)throw console.error(" Error obteniendo categoras:",l),new Error(`Error al obtener categoras: ${l.message}`);return Jr=i||[],al=a,console.log(` ${Jr.length} categoras obtenidas`),{data:Jr,error:null}}catch(a){return console.error(" Error en getCategories:",a),{data:Jr||[],error:a.message||"Error al obtener categoras"}}},px=async(n=!1)=>{try{const a=Date.now();if(!n&&Zr&&al&&a-al<Nb)return console.log(" Usando usuarios en cache"),{data:Zr,error:null};console.log(" Obteniendo usuarios de la base de datos...");const{data:i,error:l}=await nt.from("profiles").select("id, email, full_name, role, avatar_url").order("full_name");if(l)throw console.error(" Error obteniendo usuarios:",l),new Error(`Error al obtener usuarios: ${l.message}`);return Zr=i||[],al=a,console.log(` ${Zr.length} usuarios obtenidos`),{data:Zr,error:null}}catch(a){return console.error(" Error en getUsers:",a),{data:Zr||[],error:a.message||"Error al obtener usuarios"}}},bx=async n=>{try{if(console.log(" Aadiendo comentario...",n),!n.ticket_id||!n.user_id||!n.content)throw new Error("Datos de comentario incompletos");const a={ticket_id:n.ticket_id,user_id:n.user_id,content:n.content.trim(),is_internal:n.is_internal||!1},{data:i,error:l}=await nt.from("comments").insert([a]).select(`
        *,
        user:profiles!comments_user_id_fkey (
          id, email, full_name, role, avatar_url
        )
      `).single();if(l)throw console.error(" Error aadiendo comentario:",l),new Error(`Error al aadir comentario: ${l.message}`);return await Pu(n.ticket_id,n.user_id,"comment_added",null,`Comentario agregado: ${a.content.substring(0,50)}...`),console.log(" Comentario aadido:",i.id),{data:i,error:null}}catch(a){return console.error(" Error aadiendo comentario:",a),{data:null,error:a.message||"Error al aadir comentario"}}},vx=async n=>{try{if(!n)throw new Error("ID de ticket requerido");console.log(` Obteniendo comentarios del ticket ${n}...`);const{data:a,error:i}=await nt.from("comments").select(`
        *,
        user:profiles!comments_user_id_fkey (
          id, email, full_name, role, avatar_url
        )
      `).eq("ticket_id",n).order("created_at",{ascending:!0});if(i)throw console.error(" Error obteniendo comentarios:",i),new Error(`Error al obtener comentarios: ${i.message}`);return console.log(` ${a?.length||0} comentarios obtenidos`),{data:a||[],error:null}}catch(a){return console.error(" Error obteniendo comentarios:",a),{data:[],error:a.message||"Error al obtener comentarios"}}},Tb=async n=>{try{console.log(` Obteniendo estadsticas para usuario ${n}...`);const[a,i,l,d,f]=await Promise.all([nt.from("tickets").select("*",{count:"exact",head:!0}).eq("created_by",n),nt.from("tickets").select("*",{count:"exact",head:!0}).eq("assigned_to",n),nt.from("tickets").select("*",{count:"exact",head:!0}).or(`created_by.eq.${n},assigned_to.eq.${n}`).eq("status","open"),nt.from("tickets").select("*",{count:"exact",head:!0}).or(`created_by.eq.${n},assigned_to.eq.${n}`).eq("status","in_progress"),nt.from("tickets").select("*",{count:"exact",head:!0}).or(`created_by.eq.${n},assigned_to.eq.${n}`).eq("status","resolved")]),m=[a.error,i.error,l.error,d.error,f.error].filter(Boolean);if(m.length>0)throw new Error(m[0].message);const v={totalCreated:a.count||0,totalAssigned:i.count||0,openTickets:l.count||0,inProgressTickets:d.count||0,resolvedTickets:f.count||0};return console.log(" Estadsticas obtenidas:",v),{data:v,error:null}}catch(a){return console.error(" Error obteniendo estadsticas:",a),{data:null,error:a.message||"Error al obtener estadsticas"}}},Ab=async()=>{try{console.log(" Obteniendo estadsticas del sistema...");const[n,a,i,l]=await Promise.all([nt.from("profiles").select("*",{count:"exact",head:!0}),nt.from("tickets").select("*",{count:"exact",head:!0}),nt.from("tickets").select("status",{count:"exact"}),nt.from("tickets").select("priority",{count:"exact"})]),d=[n.error,a.error,i.error,l.error].filter(Boolean);if(d.length>0)throw new Error(d[0].message);const f={},m={};(i.data||[]).forEach(p=>{f[p.status]=p.count}),(l.data||[]).forEach(p=>{m[p.priority]=p.count});const v={totalUsers:n.count||0,totalTickets:a.count||0,ticketsByStatus:f,ticketsByPriority:m,avgResponseTime:"24h",satisfactionRate:"92%"};return console.log(" Estadsticas del sistema obtenidas"),{data:v,error:null}}catch(n){return console.error(" Error obteniendo estadsticas del sistema:",n),{data:null,error:n.message||"Error al obtener estadsticas del sistema"}}},yx=(n,a)=>(a.status&&(Array.isArray(a.status)?n=n.in("status",a.status):n=n.eq("status",a.status)),a.priority&&(Array.isArray(a.priority)?n=n.in("priority",a.priority):n=n.eq("priority",a.priority)),a.created_by&&(n=n.eq("created_by",a.created_by)),a.assigned_to&&(a.assigned_to==="me"?n=n.not("assigned_to","is",null):a.assigned_to==="unassigned"?n=n.is("assigned_to",null):n=n.eq("assigned_to",a.assigned_to)),a.category_id&&(n=n.eq("category_id",a.category_id)),a.module&&(n=n.eq("module",a.module)),a.search&&(n=n.or(`title.ilike.%${a.search}%,description.ilike.%${a.search}%`)),a.startDate&&a.endDate&&(n=n.gte("created_at",a.startDate).lte("created_at",a.endDate)),n),_x=async(n,a,i,l)=>{try{const d=[],f=["status","priority","assigned_to","category_id","due_date","title","description"];for(const m of f){const v=i[m],p=l[m];JSON.stringify(v)!==JSON.stringify(p)&&d.push({field:m,oldValue:v!=null?String(v):null,newValue:p!=null?String(p):null})}if(d.length>0)for(const m of d)await Pu(n,a,m.field,m.oldValue,m.newValue)}catch(d){console.error("Error en trackChanges:",d)}},Pu=async(n,a,i,l,d)=>{try{await nt.from("ticket_history").insert([{ticket_id:n,changed_by:a,field_changed:i,old_value:l,new_value:d,change_date:new Date().toISOString()}]),console.log(` Historial registrado: ${i} cambiado`)}catch(f){console.error("Error registrando en historial:",f)}},wx=async n=>{try{const{data:a,error:i}=await nt.from("ticket_history").select(`
        *,
        changed_by:profiles!ticket_history_changed_by_fkey (
          id, email, full_name
        )
      `).eq("ticket_id",n).order("change_date",{ascending:!1});if(i)throw i;return{data:a||[],error:null}}catch(a){return console.error("Error obteniendo historial:",a),{data:[],error:a}}},Gu=n=>({low:"bg-success",medium:"bg-warning",high:"bg-danger",urgent:"bg-dark"})[n]||"bg-secondary",Iu=n=>({low:"bi-arrow-down",medium:"bi-dash",high:"bi-arrow-up",urgent:"bi-exclamation-triangle"})[n]||"bi-question-circle",zu=n=>({open:"bg-primary",in_progress:"bg-warning",resolved:"bg-success",closed:"bg-secondary"})[n]||"bg-info",wf=n=>({open:"bi-circle",in_progress:"bi-arrow-clockwise",resolved:"bi-check-circle",closed:"bi-lock"})[n]||"bi-question-circle",nl=n=>n?new Date(n).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"No establecida",Ku=n=>({low:"Baja",medium:"Media",high:"Alta",urgent:"Urgente"})[n]||"No especificada",Lu=n=>({open:"Abierto",in_progress:"En progreso",resolved:"Resuelto",closed:"Cerrado"})[n]||"Desconocido",Ob=n=>n?`TKT-${n.substring(0,8).toUpperCase()}`:"TKT-XXXX",la={getTickets:dx,getTicketById:_f,createTicket:hx,updateTicket:fx,deleteTicket:mx,getCategories:gx,getUsers:px,addComment:bx,getComments:vx,getTicketStats:Tb,getSystemStats:Ab,getTicketHistory:wx,getPriorityBadgeClass:Gu,getPriorityIcon:Iu,getStatusBadgeClass:zu,getStatusIcon:wf,formatDateForUI:nl,getPriorityText:Ku,getStatusText:Lu,generateTicketId:Ob},xx=()=>{const n=Fi(),{user:a,profile:i,userName:l,userRole:d,isAdmin:f,isAgent:m,loading:v}=ll(),[p,y]=L.useState(null),[S,j]=L.useState({total:0,open:0,assigned:0,inProgress:0,resolved:0}),[N,A]=L.useState([]),[z,k]=L.useState(!0),[D,V]=L.useState({totalUsers:0,totalTickets:0,avgResponseTime:"24h",satisfactionRate:"92%",ticketsByStatus:{},ticketsByPriority:{}}),[q,U]=L.useState("");L.useEffect(()=>{a&&!v&&W()},[a,v]);const W=async()=>{try{k(!0),U(""),console.log(" Cargando datos del dashboard..."),!i&&a?await ae():y(i),await Promise.all([se(),J(),Re()]),console.log(" Dashboard cargado exitosamente")}catch(ee){console.error(" Error cargando dashboard:",ee),U("Error al cargar los datos del dashboard. Por favor, intenta nuevamente.")}finally{k(!1)}},ae=async()=>{try{const{data:ee}=await la.getUsers(),De=ee?.find(Vt=>Vt.id===a.id);De&&y(De)}catch(ee){console.error("Error cargando perfil:",ee)}},se=async()=>{try{if(!a)return;console.log(" Cargando estadsticas de tickets...");const ee=await Tb(a.id);if(ee.error){console.error("Error en getTicketStats:",ee.error);return}ee.data&&j({total:ee.data.totalCreated||0,assigned:ee.data.totalAssigned||0,open:ee.data.openTickets||0,inProgress:ee.data.inProgressTickets||0,resolved:ee.data.resolvedTickets||0})}catch(ee){console.error("Error cargando tickets count:",ee)}},J=async()=>{try{if(!a)return;console.log(" Cargando tickets recientes...");const ee=await la.getTickets({created_by:a.id,assigned_to:a.id},{sortBy:"created_at",sortAsc:!1,pageSize:5});if(ee.error){console.error("Error en getTickets:",ee.error);return}ee.data&&A(ee.data)}catch(ee){console.error("Error cargando tickets recientes:",ee)}},Re=async()=>{try{if(!f&&!m)return;console.log(" Cargando estadsticas del sistema...");const ee=await Ab();if(ee.error){console.error("Error en getSystemStats:",ee.error);return}ee.data&&V({totalUsers:ee.data.totalUsers||0,totalTickets:ee.data.totalTickets||0,avgResponseTime:ee.data.avgResponseTime||"24h",satisfactionRate:ee.data.satisfactionRate||"92%",ticketsByStatus:ee.data.ticketsByStatus||{},ticketsByPriority:ee.data.ticketsByPriority||{}})}catch(ee){console.error("Error cargando estadsticas del sistema:",ee)}},Y=(ee="general")=>{n(`/tickets?create=${ee}`)},le=()=>{W()};return v||z?o.jsxs("div",{className:"text-center py-5",children:[o.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:o.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),o.jsx("h4",{className:"mt-3",children:"Cargando Dashboard..."}),o.jsx("p",{className:"text-muted",children:"Obteniendo informacin del sistema"})]}):q?o.jsxs("div",{className:"text-center py-5",children:[o.jsxs("div",{className:"alert alert-danger",role:"alert",children:[o.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),q]}),o.jsxs("button",{className:"btn btn-primary mt-3",onClick:le,children:[o.jsx("i",{className:"bi bi-arrow-clockwise me-2"}),"Reintentar"]})]}):a?o.jsxs("div",{className:"dashboard",children:[o.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4 pb-3 border-bottom",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"d-flex align-items-center mb-2",children:[o.jsxs("h1",{className:"display-6 fw-bold mb-0",children:[o.jsx("i",{className:"bi bi-speedometer2 me-2 text-primary"}),"Dashboard"]}),o.jsx("button",{className:"btn btn-sm btn-outline-secondary ms-3",onClick:le,title:"Refrescar datos",children:o.jsx("i",{className:"bi bi-arrow-clockwise"})})]}),o.jsxs("p",{className:"lead mb-2",children:["Bienvenido, ",o.jsx("strong",{className:"text-primary",children:l})]}),o.jsxs("div",{className:"d-flex align-items-center gap-2",children:[o.jsxs("span",{className:`badge ${d==="admin"?"bg-danger":d==="agent"?"bg-warning":"bg-primary"}`,children:[o.jsx("i",{className:"bi bi-person-badge me-1"}),d]}),o.jsxs("span",{className:"text-muted small",children:[o.jsx("i",{className:"bi bi-envelope me-1"}),a.email]}),p?.full_name&&o.jsxs("span",{className:"text-muted small",children:[o.jsx("i",{className:"bi bi-person me-1"}),p.full_name]})]})]}),o.jsx("div",{className:"mt-3 mt-md-0",children:o.jsxs("button",{className:"btn btn-primary",onClick:()=>Y(),children:[o.jsx("i",{className:"bi bi-plus-circle me-2"}),"Nuevo Ticket"]})})]}),o.jsxs("div",{className:"row g-4 mb-4",children:[o.jsx("div",{className:"col-md-6 col-lg-3",children:o.jsxs("div",{className:"card border-primary border-2 h-100 shadow-sm",children:[o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"bg-primary bg-opacity-10 p-3 rounded-3 me-3",children:o.jsx("i",{className:"bi bi-file-earmark-text fs-2 text-primary"})}),o.jsxs("div",{children:[o.jsx("h6",{className:"card-subtitle text-muted",children:"Mis Tickets"}),o.jsx("h2",{className:"card-title fw-bold",children:S.total}),o.jsx("p",{className:"card-text small",children:"Creados por m"})]})]})}),o.jsx("div",{className:"card-footer bg-transparent border-top-0 py-3",children:o.jsxs("a",{href:"/tickets?filter=my",className:"text-decoration-none d-flex align-items-center justify-content-between",children:[o.jsx("span",{children:"Ver todos mis tickets"}),o.jsx("i",{className:"bi bi-arrow-right"})]})})]})}),o.jsx("div",{className:"col-md-6 col-lg-3",children:o.jsxs("div",{className:"card border-warning border-2 h-100 shadow-sm",children:[o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"bg-warning bg-opacity-10 p-3 rounded-3 me-3",children:o.jsx("i",{className:"bi bi-person-check fs-2 text-warning"})}),o.jsxs("div",{children:[o.jsx("h6",{className:"card-subtitle text-muted",children:"Asignados a m"}),o.jsx("h2",{className:"card-title fw-bold",children:S.assigned}),o.jsxs("p",{className:"card-text small",children:[o.jsx("span",{className:"text-danger fw-semibold",children:S.open})," pendientes"]})]})]})}),o.jsx("div",{className:"card-footer bg-transparent border-top-0 py-3",children:o.jsxs("a",{href:"/tickets?filter=assigned",className:"text-decoration-none d-flex align-items-center justify-content-between",children:[o.jsx("span",{children:"Ver tareas asignadas"}),o.jsx("i",{className:"bi bi-arrow-right"})]})})]})}),o.jsx("div",{className:"col-md-6 col-lg-3",children:o.jsxs("div",{className:"card border-info border-2 h-100 shadow-sm",children:[o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"bg-info bg-opacity-10 p-3 rounded-3 me-3",children:o.jsx("i",{className:"bi bi-arrow-clockwise fs-2 text-info"})}),o.jsxs("div",{children:[o.jsx("h6",{className:"card-subtitle text-muted",children:"En Progreso"}),o.jsx("h2",{className:"card-title fw-bold",children:S.inProgress}),o.jsx("p",{className:"card-text small",children:"En proceso de resolucin"})]})]})}),o.jsx("div",{className:"card-footer bg-transparent border-top-0 py-3",children:o.jsxs("a",{href:"/tickets?status=in_progress",className:"text-decoration-none d-flex align-items-center justify-content-between",children:[o.jsx("span",{children:"Ver en progreso"}),o.jsx("i",{className:"bi bi-arrow-right"})]})})]})}),o.jsx("div",{className:"col-md-6 col-lg-3",children:o.jsxs("div",{className:"card border-success border-2 h-100 shadow-sm",children:[o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"bg-success bg-opacity-10 p-3 rounded-3 me-3",children:o.jsx("i",{className:"bi bi-check-circle fs-2 text-success"})}),o.jsxs("div",{children:[o.jsx("h6",{className:"card-subtitle text-muted",children:"Resueltos"}),o.jsx("h2",{className:"card-title fw-bold",children:S.resolved}),o.jsx("p",{className:"card-text small",children:"Completados con xito"})]})]})}),o.jsx("div",{className:"card-footer bg-transparent border-top-0 py-3",children:o.jsxs("a",{href:"/tickets?status=resolved",className:"text-decoration-none d-flex align-items-center justify-content-between",children:[o.jsx("span",{children:"Ver historial"}),o.jsx("i",{className:"bi bi-arrow-right"})]})})]})})]}),o.jsxs("div",{className:"row g-4",children:[o.jsxs("div",{className:"col-lg-8",children:[o.jsxs("div",{className:"card mb-4 shadow-sm",children:[o.jsxs("div",{className:"card-header bg-primary bg-opacity-10 d-flex justify-content-between align-items-center",children:[o.jsxs("h5",{className:"mb-0",children:[o.jsx("i",{className:"bi bi-lightning me-2"}),"Acciones Rpidas"]}),o.jsxs("button",{className:"btn btn-sm btn-primary",onClick:()=>n("/tickets?create=general"),children:[o.jsx("i",{className:"bi bi-plus-circle me-1"}),"Todos los tipos"]})]}),o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"row g-3",children:[o.jsx("div",{className:"col-sm-6 col-md-3",children:o.jsx("button",{className:"btn btn-outline-primary w-100 h-100 p-3 text-start",onClick:()=>n("/tickets?create=general"),children:o.jsxs("div",{className:"d-flex flex-column align-items-center text-center",children:[o.jsx("i",{className:"bi bi-file-earmark-text fs-1 mb-2"}),o.jsx("span",{className:"fw-semibold",children:"General"}),o.jsx("small",{className:"text-muted",children:"Ticket estndar"})]})})}),o.jsx("div",{className:"col-sm-6 col-md-3",children:o.jsx("button",{className:"btn btn-outline-success w-100 h-100 p-3 text-start",onClick:()=>n("/tickets?create=purchase"),children:o.jsxs("div",{className:"d-flex flex-column align-items-center text-center",children:[o.jsx("i",{className:"bi bi-cart fs-1 mb-2"}),o.jsx("span",{className:"fw-semibold",children:"Compra"}),o.jsx("small",{className:"text-muted",children:"Solicitar materiales"})]})})}),o.jsx("div",{className:"col-sm-6 col-md-3",children:o.jsx("button",{className:"btn btn-outline-danger w-100 h-100 p-3 text-start",onClick:()=>n("/tickets?create=error"),children:o.jsxs("div",{className:"d-flex flex-column align-items-center text-center",children:[o.jsx("i",{className:"bi bi-bug fs-1 mb-2"}),o.jsx("span",{className:"fw-semibold",children:"Error"}),o.jsx("small",{className:"text-muted",children:"Reportar problema"})]})})}),o.jsx("div",{className:"col-sm-6 col-md-3",children:o.jsx("button",{className:"btn btn-outline-info w-100 h-100 p-3 text-start",onClick:()=>n("/tickets?create=support"),children:o.jsxs("div",{className:"d-flex flex-column align-items-center text-center",children:[o.jsx("i",{className:"bi bi-headset fs-1 mb-2"}),o.jsx("span",{className:"fw-semibold",children:"Soporte"}),o.jsx("small",{className:"text-muted",children:"Asistencia tcnica"})]})})})]})})]}),o.jsxs("div",{className:"card shadow-sm",children:[o.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[o.jsxs("h5",{className:"mb-0",children:[o.jsx("i",{className:"bi bi-clock-history me-2"}),"Tickets Recientes"]}),o.jsxs("div",{children:[o.jsx("a",{href:"/tickets?filter=my",className:"btn btn-sm btn-outline-secondary me-2",children:"Mis tickets"}),o.jsx("a",{href:"/tickets",className:"btn btn-sm btn-outline-primary",children:"Ver todos"})]})]}),o.jsx("div",{className:"card-body p-0",children:N.length===0?o.jsxs("div",{className:"text-center py-5",children:[o.jsx("i",{className:"bi bi-inbox fs-1 text-muted mb-3"}),o.jsx("p",{className:"text-muted mb-2",children:"No hay tickets recientes"}),o.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>Y(),children:[o.jsx("i",{className:"bi bi-plus-circle me-1"}),"Crear primer ticket"]})]}):o.jsx("div",{className:"list-group list-group-flush",children:N.slice(0,5).map(ee=>o.jsx("a",{href:`/tickets/${ee.id}`,className:"list-group-item list-group-item-action py-3",children:o.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[o.jsxs("div",{className:"flex-grow-1 me-3",children:[o.jsx("h6",{className:"mb-1",children:ee.title}),o.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[ee.categories&&o.jsx("span",{className:"badge",style:{backgroundColor:ee.categories.color||"#6c757d",color:"white"},children:ee.categories.name}),o.jsxs("span",{className:`badge ${Gu(ee.priority)}`,children:[o.jsx("i",{className:`bi ${Iu(ee.priority)} me-1`}),Ku(ee.priority)]}),o.jsxs("span",{className:`badge ${zu(ee.status)}`,children:[o.jsx("i",{className:`bi ${wf(ee.status)} me-1`}),Lu(ee.status)]})]}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o.jsxs("small",{className:"text-muted",children:[o.jsx("i",{className:"bi bi-calendar me-1"}),nl(ee.created_at)]}),o.jsx("small",{className:"text-muted",children:ee.creator?.full_name||ee.creator?.email||"Usuario"})]})]}),o.jsx("div",{children:o.jsx("i",{className:"bi bi-chevron-right text-muted"})})]})},ee.id))})})]})]}),o.jsxs("div",{className:"col-lg-4",children:[o.jsxs("div",{className:"card mb-4 shadow-sm",children:[o.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[o.jsxs("h5",{className:"mb-0",children:[o.jsx("i",{className:"bi bi-person-circle me-2"}),"Mi Informacin"]}),o.jsx("a",{href:"/profile",className:"btn btn-sm btn-outline-primary",children:"Editar"})]}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"text-center mb-3",children:[o.jsx("div",{className:"rounded-circle bg-primary text-white d-flex align-items-center justify-content-center mx-auto mb-3",style:{width:"80px",height:"80px",fontSize:"2rem"},children:l?.charAt(0).toUpperCase()||"U"}),o.jsx("h5",{children:l}),o.jsx("p",{className:"text-muted mb-0",children:a.email}),o.jsx("span",{className:`badge mt-2 ${d==="admin"?"bg-danger":d==="agent"?"bg-warning":"bg-secondary"}`,children:d})]}),o.jsxs("div",{className:"list-group list-group-flush",children:[o.jsxs("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[o.jsxs("span",{children:[o.jsx("i",{className:"bi bi-person me-2 text-muted"}),"Nombre"]}),o.jsx("span",{className:"fw-semibold text-end",style:{maxWidth:"150px"},children:p?.full_name||"No especificado"})]}),o.jsxs("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[o.jsxs("span",{children:[o.jsx("i",{className:"bi bi-envelope me-2 text-muted"}),"Email"]}),o.jsx("span",{className:"text-truncate text-end",style:{maxWidth:"150px"},children:a.email})]}),o.jsxs("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[o.jsxs("span",{children:[o.jsx("i",{className:"bi bi-calendar me-2 text-muted"}),"Registrado"]}),o.jsx("span",{children:nl(a.created_at)})]}),o.jsxs("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[o.jsxs("span",{children:[o.jsx("i",{className:"bi bi-clock-history me-2 text-muted"}),"ltimo acceso"]}),o.jsx("span",{children:nl(a.last_sign_in_at)})]})]})]})]}),(f||m)&&o.jsxs("div",{className:"card shadow-sm",children:[o.jsx("div",{className:"card-header",children:o.jsxs("h5",{className:"mb-0",children:[o.jsx("i",{className:"bi bi-graph-up me-2"}),"Estadsticas del Sistema"]})}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"row g-3",children:[o.jsx("div",{className:"col-6",children:o.jsxs("div",{className:"text-center p-3 bg-light rounded-3",children:[o.jsx("i",{className:"bi bi-people fs-2 text-primary mb-2"}),o.jsx("h4",{className:"fw-bold",children:D.totalUsers}),o.jsx("small",{className:"text-muted",children:"Usuarios"})]})}),o.jsx("div",{className:"col-6",children:o.jsxs("div",{className:"text-center p-3 bg-light rounded-3",children:[o.jsx("i",{className:"bi bi-ticket-detailed fs-2 text-success mb-2"}),o.jsx("h4",{className:"fw-bold",children:D.totalTickets}),o.jsx("small",{className:"text-muted",children:"Tickets totales"})]})}),o.jsx("div",{className:"col-6",children:o.jsxs("div",{className:"text-center p-3 bg-light rounded-3",children:[o.jsx("i",{className:"bi bi-clock fs-2 text-warning mb-2"}),o.jsx("h4",{className:"fw-bold",children:D.avgResponseTime}),o.jsx("small",{className:"text-muted",children:"Tiempo respuesta"})]})}),o.jsx("div",{className:"col-6",children:o.jsxs("div",{className:"text-center p-3 bg-light rounded-3",children:[o.jsx("i",{className:"bi bi-emoji-smile fs-2 text-info mb-2"}),o.jsx("h4",{className:"fw-bold",children:D.satisfactionRate}),o.jsx("small",{className:"text-muted",children:"Satisfaccin"})]})})]}),Object.keys(D.ticketsByStatus).length>0&&o.jsxs("div",{className:"mt-4",children:[o.jsxs("h6",{className:"fw-semibold mb-3",children:[o.jsx("i",{className:"bi bi-pie-chart me-2"}),"Tickets por Estado"]}),o.jsx("div",{className:"list-group list-group-flush",children:Object.entries(D.ticketsByStatus).map(([ee,De])=>o.jsxs("div",{className:"list-group-item d-flex justify-content-between align-items-center py-2",children:[o.jsxs("span",{className:"d-flex align-items-center",children:[o.jsx("span",{className:`badge ${zu(ee)} me-2`,style:{width:"10px",height:"10px"}}),Lu(ee)]}),o.jsx("span",{className:"fw-semibold",children:De})]},ee))})]})]})]}),o.jsxs("div",{className:"card mt-4 shadow-sm",children:[o.jsx("div",{className:"card-header",children:o.jsxs("h5",{className:"mb-0",children:[o.jsx("i",{className:"bi bi-link me-2"}),"Enlaces Rpidos"]})}),o.jsx("div",{className:"card-body p-0",children:o.jsxs("div",{className:"list-group list-group-flush",children:[o.jsxs("a",{href:"/tickets",className:"list-group-item list-group-item-action d-flex align-items-center",children:[o.jsx("i",{className:"bi bi-list-task me-3 text-primary"}),o.jsxs("div",{children:[o.jsx("div",{className:"fw-semibold",children:"Todos los tickets"}),o.jsx("small",{className:"text-muted",children:"Ver todos los tickets del sistema"})]})]}),o.jsxs("a",{href:"/tickets?filter=my",className:"list-group-item list-group-item-action d-flex align-items-center",children:[o.jsx("i",{className:"bi bi-person me-3 text-success"}),o.jsxs("div",{children:[o.jsx("div",{className:"fw-semibold",children:"Mis tickets"}),o.jsx("small",{className:"text-muted",children:"Tickets que he creado"})]})]}),o.jsxs("a",{href:"/tickets?filter=assigned",className:"list-group-item list-group-item-action d-flex align-items-center",children:[o.jsx("i",{className:"bi bi-person-check me-3 text-warning"}),o.jsxs("div",{children:[o.jsx("div",{className:"fw-semibold",children:"Asignados a m"}),o.jsx("small",{className:"text-muted",children:"Tickets que debo resolver"})]})]}),o.jsxs("a",{href:"/calendar",className:"list-group-item list-group-item-action d-flex align-items-center",children:[o.jsx("i",{className:"bi bi-calendar me-3 text-info"}),o.jsxs("div",{children:[o.jsx("div",{className:"fw-semibold",children:"Calendario"}),o.jsx("small",{className:"text-muted",children:"Ver fechas lmite"})]})]}),f&&o.jsxs("a",{href:"/admin",className:"list-group-item list-group-item-action d-flex align-items-center text-danger",children:[o.jsx("i",{className:"bi bi-shield-lock me-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"fw-semibold",children:"Administracin"}),o.jsx("small",{className:"text-muted",children:"Panel de administrador"})]})]})]})})]})]})]}),o.jsx("div",{className:"mt-5 pt-4 border-top",children:o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("h6",{className:"fw-semibold mb-3",children:[o.jsx("i",{className:"bi bi-info-circle me-2"}),"Acerca de HelpDesk Pro"]}),o.jsx("p",{className:"text-muted small mb-0",children:"Sistema de gestin de tickets desarrollado con React y Supabase. Versin 1.0 - Panel de control interactivo."})]}),o.jsxs("div",{className:"col-md-6 text-md-end",children:[o.jsxs("h6",{className:"fw-semibold mb-3",children:[o.jsx("i",{className:"bi bi-activity me-2"}),"Estado del Sistema"]}),o.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-md-end gap-2",children:[o.jsxs("span",{className:"badge bg-success",children:[o.jsx("i",{className:"bi bi-check-circle me-1"}),"Dashboard activo"]}),o.jsxs("span",{className:"badge bg-success",children:[o.jsx("i",{className:"bi bi-check-circle me-1"}),N.length," tickets cargados"]}),o.jsxs("span",{className:`badge ${z?"bg-warning":"bg-success"}`,children:[o.jsx("i",{className:`bi ${z?"bi-hourglass-split":"bi-check-circle"} me-1`}),z?"Actualizando...":"Actualizado"]})]})]})]})})]}):o.jsxs("div",{className:"text-center py-5",children:[o.jsxs("div",{className:"alert alert-warning",role:"alert",children:[o.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),"No hay usuario autenticado. Por favor, inicia sesin."]}),o.jsxs("button",{className:"btn btn-primary mt-3",onClick:()=>n("/login"),children:[o.jsx("i",{className:"bi bi-box-arrow-in-right me-2"}),"Iniciar Sesin"]})]})},jx=({ticket:n,showAssignee:a=!0,showCategory:i=!0,onEdit:l})=>{const d=Fi(),f=()=>{d(`/tickets/${n.id}`)},m=()=>n.categories?.color||"#6c757d",v=()=>n.assignee?n.assignee.full_name||n.assignee.email||"Usuario":"Sin asignar",p=()=>n.creator&&(n.creator.full_name||n.creator.email)||"Usuario",y=()=>n.comments?.[0]?.count||0;return o.jsx("div",{className:"card card-hover shadow-sm mb-3",onClick:f,style:{cursor:"pointer",transition:"all 0.2s"},children:o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[o.jsxs("div",{className:"flex-grow-1 me-3",children:[o.jsxs("div",{className:"d-flex align-items-center mb-2",children:[o.jsx("h5",{className:"card-title mb-0 me-2",children:n.title}),o.jsx("small",{className:"text-muted",children:Ob(n.id)})]}),o.jsx("p",{className:"card-text text-muted small mb-3",children:n.description.length>150?`${n.description.substring(0,150)}...`:n.description}),o.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2 mb-3",children:[i&&n.categories&&o.jsxs("span",{className:"badge",style:{backgroundColor:m(),color:"white"},children:[o.jsx("i",{className:`bi ${n.categories.icon||"bi-tag"} me-1`}),n.categories.name]}),o.jsxs("span",{className:`badge ${Gu(n.priority)}`,children:[o.jsx("i",{className:`bi ${Iu(n.priority)} me-1`}),Ku(n.priority)]}),o.jsxs("span",{className:`badge ${zu(n.status)}`,children:[o.jsx("i",{className:`bi ${wf(n.status)} me-1`}),Lu(n.status)]}),n.module&&n.module!=="support"&&o.jsxs("span",{className:"badge bg-info",children:[o.jsx("i",{className:`bi ${Sx(n.module)} me-1`}),Ex(n.module)]}),y()>0&&o.jsxs("span",{className:"badge bg-light text-dark border",children:[o.jsx("i",{className:"bi bi-chat-left-text me-1"}),y()]})]}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o.jsxs("div",{className:"d-flex align-items-center gap-3",children:[o.jsxs("small",{className:"text-muted",children:[o.jsx("i",{className:"bi bi-person me-1"}),p()]}),o.jsxs("small",{className:"text-muted",children:[o.jsx("i",{className:"bi bi-calendar me-1"}),nl(n.created_at)]}),n.due_date&&o.jsxs("small",{className:`fw-semibold ${Nx(n.due_date)?"text-danger":"text-warning"}`,children:[o.jsx("i",{className:"bi bi-clock me-1"}),nl(n.due_date)]})]}),a&&o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsxs("small",{className:"text-muted me-2",children:[o.jsx("i",{className:"bi bi-person-check me-1"}),v()]}),!n.assignee&&o.jsx("span",{className:"badge bg-warning",children:"Sin asignar"})]})]})]}),o.jsxs("div",{className:"d-flex flex-column align-items-center ms-2",children:[l&&o.jsx("button",{className:"btn btn-sm btn-outline-primary mb-2",onClick:S=>{S.stopPropagation(),l(n.id)},title:"Editar ticket",children:o.jsx("i",{className:"bi bi-pencil"})}),o.jsx("i",{className:"bi bi-chevron-right text-muted fs-4"}),o.jsx("small",{className:"text-muted mt-1",children:"Ver"})]}),o.jsxs("div",{className:"d-flex flex-column align-items-center",children:[o.jsx("i",{className:"bi bi-chevron-right text-muted fs-4"}),o.jsx("div",{className:"mt-2",children:o.jsx("small",{className:"badge bg-light text-dark",children:"Ver detalles"})})]})]})})})},Sx=n=>({purchases:"bi-cart",errors:"bi-bug",support:"bi-headset",other:"bi-question-circle"})[n]||"bi-question-circle",Ex=n=>({purchases:"Compra",errors:"Error",support:"Soporte",other:"Otro"})[n]||"Otro",Nx=n=>{if(!n)return!1;const a=new Date(n),i=new Date;return a<i&&a.toDateString()!==i.toDateString()},Tx=({filters:n,onFilterChange:a,onClearFilters:i,loading:l=!1})=>{const[d,f]=L.useState([]),[m,v]=L.useState([]),[p,y]=L.useState(!1),[S,j]=L.useState(n);L.useEffect(()=>{N()},[]),L.useEffect(()=>{j(n)},[n]);const N=async()=>{try{y(!0);const[D,V]=await Promise.all([la.getCategories(),la.getUsers()]);D.data&&f(D.data),V.data&&v(V.data)}catch(D){console.error("Error cargando datos de filtros:",D)}finally{y(!1)}},A=(D,V)=>{const q={...S,[D]:V};j(q)},z=()=>{a(S)},k=()=>{j({status:"",priority:"",assigned_to:"",category_id:"",search:""}),i()};return o.jsx("div",{className:"filter-bar",children:o.jsxs("div",{className:"row g-3",children:[o.jsx("div",{className:"col-md-12 mb-3",children:o.jsxs("div",{className:"input-group",children:[o.jsx("span",{className:"input-group-text",children:o.jsx("i",{className:"bi bi-search"})}),o.jsx("input",{type:"text",className:"form-control",placeholder:"Buscar en ttulos y descripciones...",value:S.search||"",onChange:D=>A("search",D.target.value),onKeyPress:D=>D.key==="Enter"&&z()}),o.jsxs("button",{className:"btn btn-primary",onClick:z,disabled:l||p,children:[l?o.jsx("span",{className:"spinner-border spinner-border-sm me-1"}):o.jsx("i",{className:"bi bi-funnel me-1"}),"Aplicar"]})]})}),o.jsx("div",{className:"col-md-12",children:o.jsxs("div",{className:"row g-2",children:[o.jsxs("div",{className:"col-sm-6 col-md-3",children:[o.jsxs("label",{className:"form-label small fw-semibold",children:[o.jsx("i",{className:"bi bi-circle-fill me-1"}),"Estado"]}),o.jsxs("select",{className:"form-select form-select-sm",value:S.status||"",onChange:D=>A("status",D.target.value),children:[o.jsx("option",{value:"",children:"Todos los estados"}),o.jsx("option",{value:"open",children:"Abierto"}),o.jsx("option",{value:"in_progress",children:"En progreso"}),o.jsx("option",{value:"resolved",children:"Resuelto"}),o.jsx("option",{value:"closed",children:"Cerrado"})]})]}),o.jsxs("div",{className:"col-sm-6 col-md-3",children:[o.jsxs("label",{className:"form-label small fw-semibold",children:[o.jsx("i",{className:"bi bi-arrow-up me-1"}),"Prioridad"]}),o.jsxs("select",{className:"form-select form-select-sm",value:S.priority||"",onChange:D=>A("priority",D.target.value),children:[o.jsx("option",{value:"",children:"Todas las prioridades"}),o.jsx("option",{value:"low",children:"Baja"}),o.jsx("option",{value:"medium",children:"Media"}),o.jsx("option",{value:"high",children:"Alta"}),o.jsx("option",{value:"urgent",children:"Urgente"})]})]}),o.jsxs("div",{className:"col-sm-6 col-md-3",children:[o.jsxs("label",{className:"form-label small fw-semibold",children:[o.jsx("i",{className:"bi bi-tag me-1"}),"Categora"]}),o.jsxs("select",{className:"form-select form-select-sm",value:S.category_id||"",onChange:D=>A("category_id",D.target.value),disabled:p,children:[o.jsx("option",{value:"",children:"Todas las categoras"}),d.map(D=>o.jsx("option",{value:D.id,children:D.name},D.id))]})]}),o.jsxs("div",{className:"col-sm-6 col-md-3",children:[o.jsxs("label",{className:"form-label small fw-semibold",children:[o.jsx("i",{className:"bi bi-person-check me-1"}),"Asignado a"]}),o.jsxs("select",{className:"form-select form-select-sm",value:S.assigned_to||"",onChange:D=>A("assigned_to",D.target.value),disabled:p,children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"unassigned",children:"Sin asignar"}),o.jsx("option",{value:"me",children:"Asignados a m"}),o.jsx("optgroup",{label:"Usuarios",children:m.map(D=>o.jsx("option",{value:D.id,children:D.full_name||D.email},D.id))})]})]})]})}),o.jsx("div",{className:"col-md-12",children:o.jsxs("div",{className:"d-flex justify-content-between align-items-center pt-2 border-top",children:[o.jsx("div",{children:o.jsxs("button",{className:"btn btn-outline-secondary btn-sm",onClick:k,disabled:l,children:[o.jsx("i",{className:"bi bi-x-circle me-1"}),"Limpiar filtros"]})}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:z,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1"}),"Aplicando..."]}):o.jsxs(o.Fragment,{children:[o.jsx("i",{className:"bi bi-funnel me-1"}),"Aplicar filtros"]})}),o.jsxs("button",{className:"btn btn-primary btn-sm",onClick:z,disabled:l,children:[o.jsx("i",{className:"bi bi-search me-1"}),"Buscar"]})]})]})})]})})},Ax=({ticketId:n=null,categories:a=[],users:i=[],onClose:l,onSuccess:d,initialData:f=null})=>{const{user:m}=ll(),[v,p]=L.useState(!1),[y,S]=L.useState({}),[j,N]=L.useState({title:"",description:"",priority:"medium",category_id:"",assigned_to:"",due_date:"",module:"support",purchase_details:{items:[],justification:""},error_details:{environment:"development",steps:[],expected:"",actual:""}});L.useEffect(()=>{n?A():f&&N(f)},[n,f]);const A=async()=>{try{p(!0);const Y=await la.getTicketById(n);if(Y.data){const le=Y.data;N({title:le.title||"",description:le.description||"",priority:le.priority||"medium",category_id:le.category_id||"",assigned_to:le.assigned_to||"",due_date:le.due_date?le.due_date.substring(0,16):"",module:le.module||"support",purchase_details:le.purchase_details||{items:[],justification:""},error_details:le.error_details||{environment:"development",steps:[],expected:"",actual:""}})}}catch(Y){console.error("Error cargando ticket:",Y),alert("Error al cargar el ticket. Por favor, intenta nuevamente.")}finally{p(!1)}},z=()=>{const Y={};return j.title.trim()||(Y.title="El ttulo es requerido"),j.description.trim()||(Y.description="La descripcin es requerida"),j.title.length>200&&(Y.title="El ttulo no puede exceder 200 caracteres"),S(Y),Object.keys(Y).length===0},k=Y=>{const{name:le,value:ee}=Y.target;N(De=>({...De,[le]:ee})),y[le]&&S(De=>({...De,[le]:""}))},D=Y=>{N(le=>({...le,module:Y,purchase_details:Y==="purchases"?{items:[],justification:""}:null,error_details:Y==="errors"?{environment:"development",steps:[],expected:"",actual:""}:null}))},V=(Y,le)=>{const ee=[...j.purchase_details.items];ee[Y]=le,N(De=>({...De,purchase_details:{...De.purchase_details,items:ee.filter(Vt=>Vt.trim()!=="")}}))},q=()=>{N(Y=>({...Y,purchase_details:{...Y.purchase_details,items:[...Y.purchase_details.items,""]}}))},U=Y=>{const le=j.purchase_details.items.filter((ee,De)=>De!==Y);N(ee=>({...ee,purchase_details:{...ee.purchase_details,items:le}}))},W=(Y,le)=>{const ee=[...j.error_details.steps];ee[Y]=le,N(De=>({...De,error_details:{...De.error_details,steps:ee.filter(Vt=>Vt.trim()!=="")}}))},ae=()=>{N(Y=>({...Y,error_details:{...Y.error_details,steps:[...Y.error_details.steps,""]}}))},se=Y=>{const le=j.error_details.steps.filter((ee,De)=>De!==Y);N(ee=>({...ee,error_details:{...ee.error_details,steps:le}}))},J=async Y=>{if(Y.preventDefault(),!!z()){p(!0),S({});try{const le={title:j.title.trim(),description:j.description.trim(),priority:j.priority,category_id:j.category_id||null,assigned_to:j.assigned_to||null,due_date:j.due_date||null,module:j.module,purchase_details:j.module==="purchases"?j.purchase_details:null,error_details:j.module==="errors"?j.error_details:null,created_by:m.id,status:"open"};console.log(" Enviando ticket:",le);let ee;if(n?ee=await la.updateTicket(n,le,m.id):ee=await la.createTicket(le),ee.error)throw new Error(ee.error);alert(n?" Ticket actualizado exitosamente":" Ticket creado exitosamente"),d(ee.data)}catch(le){console.error("Error guardando ticket:",le);const ee=le.message.includes("required")?"Por favor completa todos los campos requeridos":le.message.includes("permission")?"No tienes permiso para realizar esta accin":"Error al guardar el ticket. Por favor, intenta nuevamente.";alert(` ${ee}`),S(De=>({...De,_general:ee}))}finally{p(!1)}}},Re=()=>{if(j.assigned_to===m.id)return"Asignado a m";if(j.assigned_to){const Y=i.find(le=>le.id===j.assigned_to);return Y?`Asignado a ${Y.full_name||Y.email}`:"Asignado"}return"Sin asignar"};return v&&n?o.jsxs("div",{className:"text-center py-5",children:[o.jsx("div",{className:"spinner-border text-primary",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),o.jsx("p",{className:"mt-3",children:"Cargando datos del ticket..."})]}):o.jsxs("div",{className:"ticket-form",children:[o.jsxs("div",{className:"modal-header bg-primary text-white",children:[o.jsxs("h5",{className:"modal-title",children:[o.jsx("i",{className:`bi ${n?"bi-pencil-square":"bi-plus-circle"} me-2`}),n?"Editar Ticket":"Nuevo Ticket"]}),o.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:l,disabled:v})]}),o.jsxs("form",{onSubmit:J,children:[o.jsxs("div",{className:"modal-body",style:{maxHeight:"70vh",overflowY:"auto"},children:[y._general&&o.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[o.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),y._general,o.jsx("button",{type:"button",className:"btn-close",onClick:()=>S(Y=>({...Y,_general:""}))})]}),o.jsxs("div",{className:"mb-3",children:[o.jsxs("label",{htmlFor:"title",className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-card-heading me-1"}),"Ttulo *"]}),o.jsx("input",{type:"text",id:"title",name:"title",className:`form-control ${y.title?"is-invalid":""}`,value:j.title,onChange:k,placeholder:"Ej: Error en el sistema de login, Solicitud de compra de laptops...",maxLength:"200",disabled:v}),y.title&&o.jsx("div",{className:"invalid-feedback",children:y.title}),o.jsx("div",{className:"form-text",children:"Describe brevemente el problema o solicitud. Mximo 200 caracteres."})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{htmlFor:"description",className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-text-paragraph me-1"}),"Descripcin Detallada *"]}),o.jsx("textarea",{id:"description",name:"description",className:`form-control ${y.description?"is-invalid":""}`,value:j.description,onChange:k,placeholder:"Describe con detalle el problema o solicitud. Incluye todos los detalles relevantes para que otros puedan entender y ayudar...",rows:"4",disabled:v}),y.description&&o.jsx("div",{className:"invalid-feedback",children:y.description}),o.jsx("div",{className:"form-text",children:"S especfico y claro. Incluye pasos para reproducir si es un error."})]}),o.jsxs("div",{className:"row g-3 mb-4",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"priority",className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-flag me-1"}),"Prioridad"]}),o.jsxs("div",{className:"input-group",children:[o.jsx("span",{className:`input-group-text ${Gu(j.priority)} text-white`,children:o.jsx("i",{className:`bi ${Iu(j.priority)}`})}),o.jsxs("select",{id:"priority",name:"priority",className:"form-select",value:j.priority,onChange:k,disabled:v,children:[o.jsx("option",{value:"low",children:" Baja - Sin urgencia"}),o.jsx("option",{value:"medium",children:" Media - Atencin normal"}),o.jsx("option",{value:"high",children:" Alta - Necesita atencin pronto"}),o.jsx("option",{value:"urgent",children:" Urgente - Requiere atencin inmediata"})]})]}),o.jsxs("div",{className:"form-text",children:["Nivel de urgencia: ",o.jsx("strong",{children:Ku(j.priority)})]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"category_id",className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-tag me-1"}),"Categora"]}),o.jsxs("select",{id:"category_id",name:"category_id",className:"form-select",value:j.category_id,onChange:k,disabled:v||a.length===0,children:[o.jsx("option",{value:"",children:"Seleccionar categora..."}),a.map(Y=>o.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),o.jsx("div",{className:"form-text",children:"Clasifica tu ticket para mejor organizacin"})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-grid-3x3-gap me-1"}),"Tipo de Solicitud"]}),o.jsx("div",{className:"row g-2",children:[{value:"errors",label:" Error/Problema",description:"Reportar un bug o problema tcnico",color:"danger"},{value:"purchases",label:" Solicitud de Compra",description:"Solicitar materiales, equipos o servicios",color:"success"},{value:"support",label:" Soporte/Ayuda",description:"Solicitar asistencia tcnica o ayuda",color:"primary"},{value:"other",label:" Otro",description:"Otra solicitud no clasificada",color:"secondary"}].map(Y=>o.jsx("div",{className:"col-sm-6 col-md-3",children:o.jsx("div",{className:`card text-center cursor-pointer ${j.module===Y.value?`border-${Y.color} border-2`:""}`,onClick:()=>D(Y.value),style:{cursor:"pointer",transition:"all 0.2s"},children:o.jsxs("div",{className:"card-body p-3",children:[o.jsx("div",{className:`mb-2 text-${Y.color}`,style:{fontSize:"1.5rem"},children:Y.label.split(" ")[0]}),o.jsx("small",{className:"text-muted d-block",children:Y.description})]})})},Y.value))})]}),j.module==="purchases"&&o.jsxs("div",{className:"card border-success mb-4",children:[o.jsx("div",{className:"card-header bg-success bg-opacity-10",children:o.jsxs("h6",{className:"mb-0",children:[o.jsx("i",{className:"bi bi-cart me-2"}),"Detalles de la Solicitud de Compra"]})}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"mb-3",children:[o.jsxs("label",{className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-list-ul me-1"}),"Items a comprar"]}),j.purchase_details.items.map((Y,le)=>o.jsxs("div",{className:"input-group mb-2",children:[o.jsx("input",{type:"text",className:"form-control",placeholder:`Item ${le+1} (ej: Laptop Dell, Licencia de Windows, etc.)`,value:Y,onChange:ee=>V(le,ee.target.value),disabled:v}),o.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>U(le),disabled:v,children:o.jsx("i",{className:"bi bi-trash"})})]},le)),o.jsxs("button",{type:"button",className:"btn btn-outline-success btn-sm",onClick:q,disabled:v,children:[o.jsx("i",{className:"bi bi-plus-circle me-1"}),"Agregar item"]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsxs("label",{htmlFor:"purchaseJustification",className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-chat-left-text me-1"}),"Justificacin"]}),o.jsx("textarea",{id:"purchaseJustification",className:"form-control",placeholder:"Explica por qu se necesitan estos items y cmo sern utilizados...",value:j.purchase_details.justification,onChange:Y=>N(le=>({...le,purchase_details:{...le.purchase_details,justification:Y.target.value}})),rows:"3",disabled:v})]})]})]}),j.module==="errors"&&o.jsxs("div",{className:"card border-danger mb-4",children:[o.jsx("div",{className:"card-header bg-danger bg-opacity-10",children:o.jsxs("h6",{className:"mb-0",children:[o.jsx("i",{className:"bi bi-bug me-2"}),"Detalles del Error"]})}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"mb-3",children:[o.jsxs("label",{htmlFor:"environment",className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-pc-display me-1"}),"Ambiente donde ocurre"]}),o.jsxs("select",{id:"environment",className:"form-select",value:j.error_details.environment,onChange:Y=>N(le=>({...le,error_details:{...le.error_details,environment:Y.target.value}})),disabled:v,children:[o.jsx("option",{value:"development",children:" Desarrollo"}),o.jsx("option",{value:"staging",children:" Staging/Pruebas"}),o.jsx("option",{value:"production",children:" Produccin"})]})]}),o.jsxs("div",{className:"row g-3 mb-3",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"expectedBehavior",className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-check-circle me-1"}),"Comportamiento esperado"]}),o.jsx("textarea",{id:"expectedBehavior",className:"form-control",placeholder:"Qu debera suceder normalmente...",value:j.error_details.expected,onChange:Y=>N(le=>({...le,error_details:{...le.error_details,expected:Y.target.value}})),rows:"2",disabled:v})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"actualBehavior",className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-x-circle me-1"}),"Comportamiento actual"]}),o.jsx("textarea",{id:"actualBehavior",className:"form-control",placeholder:"Qu est sucediendo realmente...",value:j.error_details.actual,onChange:Y=>N(le=>({...le,error_details:{...le.error_details,actual:Y.target.value}})),rows:"2",disabled:v})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsxs("label",{className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-list-ol me-1"}),"Pasos para reproducir el error"]}),j.error_details.steps.map((Y,le)=>o.jsxs("div",{className:"input-group mb-2",children:[o.jsx("span",{className:"input-group-text",children:le+1}),o.jsx("input",{type:"text",className:"form-control",placeholder:`Paso ${le+1} (ej: Click en el botn de login, etc.)`,value:Y,onChange:ee=>W(le,ee.target.value),disabled:v}),o.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>se(le),disabled:v,children:o.jsx("i",{className:"bi bi-trash"})})]},le)),o.jsxs("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:ae,disabled:v,children:[o.jsx("i",{className:"bi bi-plus-circle me-1"}),"Agregar paso"]})]})]})]}),o.jsxs("div",{className:"row g-3 mb-4",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"assigned_to",className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-person-check me-1"}),"Asignar a"]}),o.jsxs("div",{className:"input-group",children:[o.jsxs("button",{type:"button",className:`btn ${j.assigned_to===m.id?"btn-warning":j.assigned_to?"btn-info":"btn-outline-secondary"} me-2`,onClick:()=>N(Y=>({...Y,assigned_to:Y.assigned_to===m.id?"":m.id})),disabled:v,title:j.assigned_to===m.id?"Desasignarme":"Asignarme a m",children:[o.jsx("i",{className:"bi bi-person-fill me-1"}),j.assigned_to===m.id?"Desasignarme":"Asignarme"]}),o.jsxs("select",{id:"assigned_to",name:"assigned_to",className:"form-select",value:j.assigned_to,onChange:k,disabled:v,children:[o.jsx("option",{value:"",children:"Seleccionar persona..."}),o.jsx("option",{value:"",children:" Sin asignar (recomendado para tickets nuevos)"}),o.jsx("optgroup",{label:"Otros usuarios",children:i.filter(Y=>Y.id!==m.id).map(Y=>o.jsxs("option",{value:Y.id,children:[Y.full_name||Y.email," (",Y.role,")"]},Y.id))})]})]}),o.jsxs("div",{className:"form-text",children:["Estado actual: ",o.jsx("strong",{children:Re()})]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"due_date",className:"form-label fw-semibold",children:[o.jsx("i",{className:"bi bi-calendar-date me-1"}),"Fecha Lmite (Opcional)"]}),o.jsxs("div",{className:"input-group",children:[o.jsx("span",{className:"input-group-text",children:o.jsx("i",{className:"bi bi-clock"})}),o.jsx("input",{type:"datetime-local",id:"due_date",name:"due_date",className:"form-control",value:j.due_date,onChange:k,min:new Date().toISOString().slice(0,16),disabled:v})]}),o.jsx("div",{className:"form-text",children:"Cundo debe estar resuelto este ticket"})]})]})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:l,disabled:v,children:[o.jsx("i",{className:"bi bi-x-circle me-1"}),"Cancelar"]}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:v,children:v?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Guardando..."]}):o.jsxs(o.Fragment,{children:[o.jsx("i",{className:`bi ${n?"bi-check-circle":"bi-plus-circle"} me-1`}),n?"Actualizar Ticket":"Crear Ticket"]})})]})]})]})},Ox=({show:n,onClose:a,ticketId:i=null,initialData:l=null,onSuccess:d})=>{const[f,m]=L.useState([]),[v,p]=L.useState([]),[y,S]=L.useState(!1);L.useEffect(()=>{n&&j()},[n]);const j=async()=>{try{S(!0);const[A,z]=await Promise.all([la.getCategories(),la.getUsers()]);A.data&&m(A.data),z.data&&p(z.data)}catch(A){console.error("Error cargando datos del formulario:",A)}finally{S(!1)}},N=A=>{d&&d(A),a()};return n?o.jsx("div",{className:"modal fade show",tabIndex:"-1",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},children:o.jsx("div",{className:"modal-dialog modal-lg",children:o.jsx("div",{className:"modal-content",children:y?o.jsxs("div",{className:"modal-body text-center py-5",children:[o.jsx("div",{className:"spinner-border text-primary",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),o.jsx("p",{className:"mt-3",children:"Cargando formulario..."})]}):o.jsx(Ax,{ticketId:i,categories:f,users:v,onClose:a,onSuccess:N,initialData:l})})})}):null},Cx=()=>{const n=Fi(),a=gi(),{user:i,isAdmin:l,isAgent:d}=ll(),[f,m]=L.useState([]),[v,p]=L.useState(!0),[y,S]=L.useState(""),[j,N]=L.useState([]),[A,z]=L.useState([]),[k,D]=L.useState(!1),[V,q]=L.useState(null),[U,W]=L.useState(null),[ae,se]=L.useState({status:"",priority:"",assigned_to:"",category_id:"",search:""}),[J,Re]=L.useState({page:1,pageSize:10,totalItems:0,totalPages:1}),[Y,le]=L.useState("all");L.useEffect(()=>{i&&(ee(),De())},[i]),L.useEffect(()=>{i&&De()},[ae,J.page,Y]),L.useEffect(()=>{const te=new URLSearchParams(a.search),ie=te.get("view"),ge=te.get("create");ie&&(le(ie),re(ie)),ge&&ve(ge)},[a]);const ee=async()=>{try{const[te,ie]=await Promise.all([la.getCategories(),la.getUsers()]);te.data&&N(te.data),ie.data&&z(ie.data)}catch(te){console.error("Error cargando datos iniciales:",te)}},De=async()=>{try{p(!0),S("");const te=Vt();console.log(" Cargando tickets con filtros:",te);const ie=await la.getTickets(hs(te),{page:J.page,pageSize:J.pageSize,sortBy:"created_at",sortAsc:!1});if(ie.error)throw new Error(ie.error);m(ie.data||[]),Re(ge=>({...ge,totalItems:ie.count||0,totalPages:Math.ceil((ie.count||0)/J.pageSize)})),console.log(` ${ie.data?.length||0} tickets cargados`)}catch(te){console.error(" Error cargando tickets:",te),S("Error al cargar los tickets. Por favor, intenta nuevamente."),m([])}finally{p(!1)}},Vt=()=>{const te={...ae};switch(Y){case"my":return{...te,created_by:i.id};case"assigned":return{...te,assigned_to:i.id};case"unassigned":return{...te,assigned_to:"unassigned"};default:return te}},hs=te=>{const ie={...te};return Object.keys(ie).forEach(ge=>{(!ie[ge]||ie[ge]==="")&&delete ie[ge]}),ie.assigned_to==="unassigned"&&(ie.assigned_to=null),ie},is=te=>{se(te),Re(ie=>({...ie,page:1}))},I=()=>{se({status:"",priority:"",assigned_to:"",category_id:"",search:""}),le("all"),Re(te=>({...te,page:1}))},re=te=>{le(te),Re(ie=>({...ie,page:1})),(te==="my"||te==="assigned"||te==="unassigned")&&se(ie=>({...ie,assigned_to:"",created_by:""}))},ve=(te="support")=>{q(null);let ie={title:"",description:"",priority:"medium",category_id:"",assigned_to:"",due_date:"",module:te,purchase_details:te==="purchases"?{items:[],justification:""}:null,error_details:te==="errors"?{environment:"development",steps:[],expected:"",actual:""}:null};const ge={purchases:"Solicitud de compra de...",errors:"Error en el sistema de...",support:"Solicitud de soporte para...",general:"Ticket general sobre..."};ie.title=ge[te]||"",W(ie),D(!0)},Ke=te=>{q(te),D(!0)},Ye=te=>{D(!1),q(null),De()},E=te=>{te>=1&&te<=J.totalPages&&Re(ie=>({...ie,page:te}))},Q=()=>{De()},he=(()=>{const te=f.filter(ht=>ht.status==="open").length,ie=f.filter(ht=>ht.status==="in_progress").length,ge=f.filter(ht=>ht.assigned_to===i?.id).length;return{openCount:te,inProgressCount:ie,assignedToMe:ge}})();return v&&f.length===0?o.jsxs("div",{className:"text-center py-5",children:[o.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:o.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),o.jsx("h4",{className:"mt-3",children:"Cargando tickets..."}),o.jsx("p",{className:"text-muted",children:"Obteniendo informacin del sistema"})]}):o.jsxs("div",{className:"tickets-page",children:[o.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"display-6 fw-bold",children:[o.jsx("i",{className:"bi bi-ticket-detailed me-2 text-primary"}),"Tickets"]}),o.jsx("p",{className:"lead mb-0",children:"Gestin y seguimiento de tickets del sistema"})]}),o.jsxs("div",{className:"mt-3 mt-md-0 d-flex gap-2",children:[o.jsxs("button",{className:"btn btn-outline-primary",onClick:Q,disabled:v,children:[o.jsx("i",{className:"bi bi-arrow-clockwise me-2"}),"Actualizar"]}),o.jsxs("button",{className:"btn btn-primary",onClick:ve,children:[o.jsx("i",{className:"bi bi-plus-circle me-2"}),"Nuevo Ticket"]})]})]}),o.jsxs("div",{className:"row g-3 mb-4",children:[o.jsx("div",{className:"col-md-4",children:o.jsx("div",{className:"card border-primary border-2",children:o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"bg-primary bg-opacity-10 p-3 rounded-3 me-3",children:o.jsx("i",{className:"bi bi-circle fs-2 text-primary"})}),o.jsxs("div",{children:[o.jsx("h6",{className:"card-subtitle text-muted",children:"Abiertos"}),o.jsx("h2",{className:"card-title fw-bold",children:he.openCount})]})]})})})}),o.jsx("div",{className:"col-md-4",children:o.jsx("div",{className:"card border-warning border-2",children:o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"bg-warning bg-opacity-10 p-3 rounded-3 me-3",children:o.jsx("i",{className:"bi bi-arrow-clockwise fs-2 text-warning"})}),o.jsxs("div",{children:[o.jsx("h6",{className:"card-subtitle text-muted",children:"En Progreso"}),o.jsx("h2",{className:"card-title fw-bold",children:he.inProgressCount})]})]})})})}),o.jsx("div",{className:"col-md-4",children:o.jsx("div",{className:"card border-info border-2",children:o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"bg-info bg-opacity-10 p-3 rounded-3 me-3",children:o.jsx("i",{className:"bi bi-person-check fs-2 text-info"})}),o.jsxs("div",{children:[o.jsx("h6",{className:"card-subtitle text-muted",children:"Asignados a m"}),o.jsx("h2",{className:"card-title fw-bold",children:he.assignedToMe})]})]})})})})]}),o.jsxs("div",{className:"card mb-4 shadow-sm",children:[o.jsx("div",{className:"card-header bg-dark",children:o.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center",children:[o.jsxs("h5",{className:"mb-0",children:[o.jsx("i",{className:"bi bi-funnel me-2"}),"Filtros y Bsqueda"]}),o.jsx("div",{className:"mt-2 mt-md-0",children:o.jsxs("div",{className:"btn-group btn-group-sm",role:"group",children:[o.jsx("button",{type:"button",className:`btn ${Y==="all"?"btn-primary":"btn-outline-primary"}`,onClick:()=>re("all"),children:"Todos"}),o.jsx("button",{type:"button",className:`btn ${Y==="my"?"btn-primary":"btn-outline-primary"}`,onClick:()=>re("my"),children:"Mis Tickets"}),o.jsx("button",{type:"button",className:`btn ${Y==="assigned"?"btn-primary":"btn-outline-primary"}`,onClick:()=>re("assigned"),children:"Asignados a m"}),l||d?o.jsx("button",{type:"button",className:`btn ${Y==="unassigned"?"btn-primary":"btn-outline-primary"}`,onClick:()=>re("unassigned"),children:"Sin asignar"}):null]})})]})}),o.jsx("div",{className:"card-body",children:o.jsx(Tx,{filters:ae,onFilterChange:is,onClearFilters:I,loading:v})})]}),o.jsxs("div",{className:"card shadow-sm",children:[o.jsxs("div",{className:"card-header bg-dark d-flex justify-content-between align-items-center",children:[o.jsxs("div",{children:[o.jsxs("h5",{className:"mb-0",children:[o.jsx("i",{className:"bi bi-list-task me-2"}),"Lista de Tickets",o.jsx("span",{className:"badge bg-primary ms-2",children:J.totalItems})]}),o.jsxs("small",{className:"text-muted",children:["Vista: ",o.jsx("span",{className:"fw-semibold text-capitalize",children:Y.replace("_"," ")})]})]}),o.jsx("div",{className:"d-flex align-items-center gap-2",children:o.jsxs("div",{className:"input-group input-group-sm",style:{width:"150px"},children:[o.jsx("span",{className:"input-group-text",children:o.jsx("i",{className:"bi bi-list-ol"})}),o.jsxs("select",{className:"form-select",value:J.pageSize,onChange:te=>Re(ie=>({...ie,pageSize:parseInt(te.target.value),page:1})),children:[o.jsx("option",{value:"5",children:"5 por pgina"}),o.jsx("option",{value:"10",children:"10 por pgina"}),o.jsx("option",{value:"20",children:"20 por pgina"}),o.jsx("option",{value:"50",children:"50 por pgina"})]})]})})]}),o.jsx("div",{className:"card-body",children:y?o.jsxs("div",{className:"alert alert-danger",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2 fs-4"}),o.jsxs("div",{children:[o.jsx("h6",{children:"Error al cargar tickets"}),o.jsx("p",{className:"mb-0",children:y})]})]}),o.jsxs("div",{className:"mt-3",children:[o.jsx("button",{className:"btn btn-sm btn-outline-danger me-2",onClick:Q,children:"Reintentar"}),o.jsx("button",{className:"btn btn-sm btn-danger",onClick:I,children:"Limpiar filtros"})]})]}):f.length===0?o.jsxs("div",{className:"text-center py-5",children:[o.jsx("div",{className:"mb-4",children:o.jsx("i",{className:"bi bi-inbox fs-1 text-muted",style:{fontSize:"4rem"}})}),o.jsx("h4",{children:"No hay tickets"}),o.jsx("p",{className:"text-muted mb-4",children:Object.keys(hs(ae)).length>0||Y!=="all"?"No se encontraron tickets con los filtros aplicados.":"No hay tickets en el sistema. Crea el primero!"}),o.jsxs("div",{className:"d-flex justify-content-center gap-3",children:[o.jsxs("button",{className:"btn btn-primary",onClick:ve,children:[o.jsx("i",{className:"bi bi-plus-circle me-2"}),"Crear Primer Ticket"]}),o.jsxs("button",{className:"btn btn-outline-secondary",onClick:I,children:[o.jsx("i",{className:"bi bi-x-circle me-2"}),"Limpiar filtros"]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"tickets-list",children:f.map(te=>o.jsx(jx,{ticket:te,showAssignee:Y!=="assigned",showCategory:!0,onEdit:Ke},te.id))}),J.totalPages>1&&o.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-4 pt-3 border-top",children:[o.jsx("div",{children:o.jsxs("small",{className:"text-muted",children:["Mostrando ",o.jsx("strong",{children:(J.page-1)*J.pageSize+1})," -"," ",o.jsx("strong",{children:Math.min(J.page*J.pageSize,J.totalItems)})," de"," ",o.jsx("strong",{children:J.totalItems})," tickets"]})}),o.jsx("nav",{"aria-label":"Paginacin de tickets",children:o.jsxs("ul",{className:"pagination mb-0",children:[o.jsx("li",{className:`page-item ${J.page===1?"disabled":""}`,children:o.jsxs("button",{className:"page-link",onClick:()=>E(J.page-1),disabled:J.page===1,children:[o.jsx("i",{className:"bi bi-chevron-left"})," Anterior"]})}),[...Array(Math.min(5,J.totalPages))].map((te,ie)=>{let ge;return J.totalPages<=5||J.page<=3?ge=ie+1:J.page>=J.totalPages-2?ge=J.totalPages-4+ie:ge=J.page-2+ie,o.jsx("li",{className:`page-item ${J.page===ge?"active":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>E(ge),children:ge})},ge)}),o.jsx("li",{className:`page-item ${J.page===J.totalPages?"disabled":""}`,children:o.jsxs("button",{className:"page-link",onClick:()=>E(J.page+1),disabled:J.page===J.totalPages,children:["Siguiente ",o.jsx("i",{className:"bi bi-chevron-right"})]})})]})})]})]})}),f.length>0&&o.jsx("div",{className:"card-footer bg-dark",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-6",children:o.jsxs("small",{className:"text-muted",children:[o.jsx("i",{className:"bi bi-info-circle me-1"}),"Haz clic en cualquier ticket para ver sus detalles"]})}),o.jsx("div",{className:"col-md-6 text-md-end",children:o.jsxs("small",{className:"text-muted",children:[o.jsx("i",{className:"bi bi-clock me-1"}),"ltima actualizacin: ",new Date().toLocaleTimeString()]})})]})})]}),k&&o.jsx(Ox,{show:k,onClose:()=>{D(!1),W(null),n("/tickets",{replace:!0})},ticketId:V,initialData:U,onSuccess:Ye}),o.jsx("div",{className:"position-fixed bottom-0 end-0 p-3",style:{zIndex:1e3},children:o.jsx("button",{className:"btn btn-primary btn-lg rounded-pill shadow-lg",onClick:()=>ve("general"),style:{width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Crear nuevo ticket",children:o.jsx("i",{className:"bi bi-plus fs-4"})})})]})},kx=()=>o.jsxs("div",{children:[o.jsxs("h2",{className:"mb-4",children:[o.jsx("i",{className:"bi bi-file-text me-2 text-primary"}),"Detalle del Ticket"]}),o.jsxs("div",{className:"alert alert-info",children:[o.jsx("i",{className:"bi bi-info-circle me-2"}),"Detalle del ticket - En construccin"]})]}),Rx=()=>o.jsxs("div",{children:[o.jsxs("h2",{className:"mb-4",children:[o.jsx("i",{className:"bi bi-pencil-square me-2 text-primary"}),"Editar Ticket"]}),o.jsxs("div",{className:"alert alert-info",children:[o.jsx("i",{className:"bi bi-info-circle me-2"}),"Editar ticket - En construccin"]})]}),Ka=({children:n})=>o.jsxs(o.Fragment,{children:[o.jsx(lx,{}),o.jsx("main",{className:"main-content py-4",children:o.jsx("div",{className:"container",children:n})}),o.jsx(ox,{})]}),Bp=({children:n})=>o.jsx("div",{className:"auth-layout d-flex align-items-center justify-content-center min-vh-100",children:o.jsx("div",{className:"container py-5",children:n})});function Dx(){return o.jsx(b_,{children:o.jsx("div",{className:"app",children:o.jsxs(Yy,{children:[o.jsx(Gs,{path:"/login",element:o.jsx(Bp,{children:o.jsx(cx,{})})}),o.jsx(Gs,{path:"/register",element:o.jsx(Bp,{children:o.jsx(ux,{})})}),o.jsx(Gs,{path:"/",element:o.jsx(Ka,{children:o.jsxs("div",{className:"text-center py-5",children:[o.jsx("div",{className:"mb-4",children:o.jsx("i",{className:"bi bi-tools display-1 text-primary"})}),o.jsx("h1",{className:"display-5 fw-bold mb-3",children:"HelpDesk Pro"}),o.jsx("p",{className:"lead mb-4",children:"Sistema profesional de gestin de tickets desarrollado con las tecnologas ms modernas."}),o.jsx("div",{className:"row justify-content-center mt-5",children:o.jsx("div",{className:"col-md-8",children:o.jsx("div",{className:"card shadow",children:o.jsxs("div",{className:"card-body",children:[o.jsxs("h5",{className:"card-title",children:[o.jsx("i",{className:"bi bi-rocket-takeoff me-2 text-primary"}),"Proyecto Educativo"]}),o.jsxs("p",{className:"card-text",children:["Esta es la ",o.jsx("strong",{children:"Etapa 0"})," del proyecto. Hemos establecido la estructura base con:"]}),o.jsxs("div",{className:"row text-center mt-3",children:[o.jsxs("div",{className:"col",children:[o.jsx("i",{className:"bi bi-bootstrap-fill fs-1 text-primary"}),o.jsx("p",{className:"mt-2 fw-semibold",children:"Bootstrap 5"})]}),o.jsxs("div",{className:"col",children:[o.jsx("i",{className:"bi bi-react fs-1 text-info"}),o.jsx("p",{className:"mt-2 fw-semibold",children:"React 18"})]}),o.jsxs("div",{className:"col",children:[o.jsx("i",{className:"bi bi-lightning-charge fs-1 text-warning"}),o.jsx("p",{className:"mt-2 fw-semibold",children:"Vite"})]}),o.jsxs("div",{className:"col",children:[o.jsx("i",{className:"bi bi-database fs-1 text-success"}),o.jsx("p",{className:"mt-2 fw-semibold",children:"Supabase"})]})]})]})})})})]})})}),o.jsx(Gs,{path:"/dashboard",element:o.jsx(Au,{children:o.jsx(Ka,{children:o.jsx(xx,{})})})}),o.jsx(Gs,{path:"/tickets",element:o.jsx(Au,{children:o.jsx(Ka,{children:o.jsx(Cx,{})})})}),o.jsx(Gs,{path:"/tickets/:id",element:o.jsx(Au,{children:o.jsx(Ka,{children:o.jsx(kx,{})})})}),o.jsx(Gs,{path:"/tickets/:id/edit",element:o.jsx(Au,{children:o.jsx(Ka,{children:o.jsx(Rx,{})})})}),o.jsx(Gs,{path:"/reports",element:o.jsx(Ka,{children:o.jsxs("div",{className:"text-center py-5",children:[o.jsxs("h2",{children:[o.jsx("i",{className:"bi bi-graph-up me-2 text-primary"}),"Reportes"]}),o.jsx("p",{className:"lead",children:"Pgina de reportes - En construccin"})]})})}),o.jsx(Gs,{path:"/calendar",element:o.jsx(Ka,{children:o.jsxs("div",{className:"text-center py-5",children:[o.jsxs("h2",{children:[o.jsx("i",{className:"bi bi-calendar me-2 text-primary"}),"Calendario"]}),o.jsx("p",{className:"lead",children:"Calendario de tickets - En construccin"})]})})}),o.jsx(Gs,{path:"/profile",element:o.jsx(Ka,{children:o.jsxs("div",{className:"text-center py-5",children:[o.jsxs("h2",{children:[o.jsx("i",{className:"bi bi-person-circle me-2 text-primary"}),"Mi Perfil"]}),o.jsx("p",{className:"lead",children:"Perfil de usuario - En construccin"})]})})}),o.jsx(Gs,{path:"/settings",element:o.jsx(Ka,{children:o.jsxs("div",{className:"text-center py-5",children:[o.jsxs("h2",{children:[o.jsx("i",{className:"bi bi-gear me-2 text-primary"}),"Configuracin"]}),o.jsx("p",{className:"lead",children:"Configuracin del sistema - En construccin"})]})})}),o.jsx(Gs,{path:"*",element:o.jsx(Ka,{children:o.jsxs("div",{className:"text-center py-5",children:[o.jsx("h1",{className:"display-1 text-muted",children:"404"}),o.jsx("h2",{children:"Pgina no encontrada"}),o.jsx("p",{className:"lead",children:"La pgina que buscas no existe."}),o.jsxs("a",{href:"/",className:"btn btn-primary mt-3",children:[o.jsx("i",{className:"bi bi-house-door me-2"}),"Volver al inicio"]})]})})})]})})})}var ku={exports:{}};var Ux=ku.exports,qp;function Mx(){return qp||(qp=1,(function(n,a){(function(i,l){n.exports=l()})(Ux,function(){const i=new Map,l={set(_,u,g){i.has(_)||i.set(_,new Map);const x=i.get(_);x.has(u)||x.size===0?x.set(u,g):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(x.keys())[0]}.`)},get:(_,u)=>i.has(_)&&i.get(_).get(u)||null,remove(_,u){if(!i.has(_))return;const g=i.get(_);g.delete(u),g.size===0&&i.delete(_)}},d="transitionend",f=_=>(_&&window.CSS&&window.CSS.escape&&(_=_.replace(/#([^\s"#']+)/g,(u,g)=>`#${CSS.escape(g)}`)),_),m=_=>_==null?`${_}`:Object.prototype.toString.call(_).match(/\s([a-z]+)/i)[1].toLowerCase(),v=_=>{_.dispatchEvent(new Event(d))},p=_=>!(!_||typeof _!="object")&&(_.jquery!==void 0&&(_=_[0]),_.nodeType!==void 0),y=_=>p(_)?_.jquery?_[0]:_:typeof _=="string"&&_.length>0?document.querySelector(f(_)):null,S=_=>{if(!p(_)||_.getClientRects().length===0)return!1;const u=getComputedStyle(_).getPropertyValue("visibility")==="visible",g=_.closest("details:not([open])");if(!g)return u;if(g!==_){const x=_.closest("summary");if(x&&x.parentNode!==g||x===null)return!1}return u},j=_=>!_||_.nodeType!==Node.ELEMENT_NODE||!!_.classList.contains("disabled")||(_.disabled!==void 0?_.disabled:_.hasAttribute("disabled")&&_.getAttribute("disabled")!=="false"),N=_=>{if(!document.documentElement.attachShadow)return null;if(typeof _.getRootNode=="function"){const u=_.getRootNode();return u instanceof ShadowRoot?u:null}return _ instanceof ShadowRoot?_:_.parentNode?N(_.parentNode):null},A=()=>{},z=_=>{_.offsetHeight},k=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,D=[],V=()=>document.documentElement.dir==="rtl",q=_=>{var u;u=()=>{const g=k();if(g){const x=_.NAME,C=g.fn[x];g.fn[x]=_.jQueryInterface,g.fn[x].Constructor=_,g.fn[x].noConflict=()=>(g.fn[x]=C,_.jQueryInterface)}},document.readyState==="loading"?(D.length||document.addEventListener("DOMContentLoaded",()=>{for(const g of D)g()}),D.push(u)):u()},U=(_,u=[],g=_)=>typeof _=="function"?_.call(...u):g,W=(_,u,g=!0)=>{if(!g)return void U(_);const x=(G=>{if(!G)return 0;let{transitionDuration:F,transitionDelay:ne}=window.getComputedStyle(G);const de=Number.parseFloat(F),fe=Number.parseFloat(ne);return de||fe?(F=F.split(",")[0],ne=ne.split(",")[0],1e3*(Number.parseFloat(F)+Number.parseFloat(ne))):0})(u)+5;let C=!1;const R=({target:G})=>{G===u&&(C=!0,u.removeEventListener(d,R),U(_))};u.addEventListener(d,R),setTimeout(()=>{C||v(u)},x)},ae=(_,u,g,x)=>{const C=_.length;let R=_.indexOf(u);return R===-1?!g&&x?_[C-1]:_[0]:(R+=g?1:-1,x&&(R=(R+C)%C),_[Math.max(0,Math.min(R,C-1))])},se=/[^.]*(?=\..*)\.|.*/,J=/\..*/,Re=/::\d+$/,Y={};let le=1;const ee={mouseenter:"mouseover",mouseleave:"mouseout"},De=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Vt(_,u){return u&&`${u}::${le++}`||_.uidEvent||le++}function hs(_){const u=Vt(_);return _.uidEvent=u,Y[u]=Y[u]||{},Y[u]}function is(_,u,g=null){return Object.values(_).find(x=>x.callable===u&&x.delegationSelector===g)}function I(_,u,g){const x=typeof u=="string",C=x?g:u||g;let R=Ye(_);return De.has(R)||(R=_),[x,C,R]}function re(_,u,g,x,C){if(typeof u!="string"||!_)return;let[R,G,F]=I(u,g,x);u in ee&&(G=(xe=>function(Ne){if(!Ne.relatedTarget||Ne.relatedTarget!==Ne.delegateTarget&&!Ne.delegateTarget.contains(Ne.relatedTarget))return xe.call(this,Ne)})(G));const ne=hs(_),de=ne[F]||(ne[F]={}),fe=is(de,G,R?g:null);if(fe)return void(fe.oneOff=fe.oneOff&&C);const oe=Vt(G,u.replace(se,"")),Ae=R?(function(we,xe,Ne){return function _e(Qe){const We=we.querySelectorAll(xe);for(let{target:Te}=Qe;Te&&Te!==this;Te=Te.parentNode)for(const Me of We)if(Me===Te)return Q(Qe,{delegateTarget:Te}),_e.oneOff&&E.off(we,Qe.type,xe,Ne),Ne.apply(Te,[Qe])}})(_,g,G):(function(we,xe){return function Ne(_e){return Q(_e,{delegateTarget:we}),Ne.oneOff&&E.off(we,_e.type,xe),xe.apply(we,[_e])}})(_,G);Ae.delegationSelector=R?g:null,Ae.callable=G,Ae.oneOff=C,Ae.uidEvent=oe,de[oe]=Ae,_.addEventListener(F,Ae,R)}function ve(_,u,g,x,C){const R=is(u[g],x,C);R&&(_.removeEventListener(g,R,!!C),delete u[g][R.uidEvent])}function Ke(_,u,g,x){const C=u[g]||{};for(const[R,G]of Object.entries(C))R.includes(x)&&ve(_,u,g,G.callable,G.delegationSelector)}function Ye(_){return _=_.replace(J,""),ee[_]||_}const E={on(_,u,g,x){re(_,u,g,x,!1)},one(_,u,g,x){re(_,u,g,x,!0)},off(_,u,g,x){if(typeof u!="string"||!_)return;const[C,R,G]=I(u,g,x),F=G!==u,ne=hs(_),de=ne[G]||{},fe=u.startsWith(".");if(R===void 0){if(fe)for(const oe of Object.keys(ne))Ke(_,ne,oe,u.slice(1));for(const[oe,Ae]of Object.entries(de)){const we=oe.replace(Re,"");F&&!u.includes(we)||ve(_,ne,G,Ae.callable,Ae.delegationSelector)}}else{if(!Object.keys(de).length)return;ve(_,ne,G,R,C?g:null)}},trigger(_,u,g){if(typeof u!="string"||!_)return null;const x=k();let C=null,R=!0,G=!0,F=!1;u!==Ye(u)&&x&&(C=x.Event(u,g),x(_).trigger(C),R=!C.isPropagationStopped(),G=!C.isImmediatePropagationStopped(),F=C.isDefaultPrevented());const ne=Q(new Event(u,{bubbles:R,cancelable:!0}),g);return F&&ne.preventDefault(),G&&_.dispatchEvent(ne),ne.defaultPrevented&&C&&C.preventDefault(),ne}};function Q(_,u={}){for(const[g,x]of Object.entries(u))try{_[g]=x}catch{Object.defineProperty(_,g,{configurable:!0,get:()=>x})}return _}function ce(_){if(_==="true")return!0;if(_==="false")return!1;if(_===Number(_).toString())return Number(_);if(_===""||_==="null")return null;if(typeof _!="string")return _;try{return JSON.parse(decodeURIComponent(_))}catch{return _}}function he(_){return _.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const te={setDataAttribute(_,u,g){_.setAttribute(`data-bs-${he(u)}`,g)},removeDataAttribute(_,u){_.removeAttribute(`data-bs-${he(u)}`)},getDataAttributes(_){if(!_)return{};const u={},g=Object.keys(_.dataset).filter(x=>x.startsWith("bs")&&!x.startsWith("bsConfig"));for(const x of g){let C=x.replace(/^bs/,"");C=C.charAt(0).toLowerCase()+C.slice(1),u[C]=ce(_.dataset[x])}return u},getDataAttribute:(_,u)=>ce(_.getAttribute(`data-bs-${he(u)}`))};class ie{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,g){const x=p(g)?te.getDataAttribute(g,"config"):{};return{...this.constructor.Default,...typeof x=="object"?x:{},...p(g)?te.getDataAttributes(g):{},...typeof u=="object"?u:{}}}_typeCheckConfig(u,g=this.constructor.DefaultType){for(const[x,C]of Object.entries(g)){const R=u[x],G=p(R)?"element":m(R);if(!new RegExp(C).test(G))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${x}" provided type "${G}" but expected type "${C}".`)}}}class ge extends ie{constructor(u,g){super(),(u=y(u))&&(this._element=u,this._config=this._getConfig(g),l.set(this._element,this.constructor.DATA_KEY,this))}dispose(){l.remove(this._element,this.constructor.DATA_KEY),E.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,g,x=!0){W(u,g,x)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return l.get(y(u),this.DATA_KEY)}static getOrCreateInstance(u,g={}){return this.getInstance(u)||new this(u,typeof g=="object"?g:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const ht=_=>{let u=_.getAttribute("data-bs-target");if(!u||u==="#"){let g=_.getAttribute("href");if(!g||!g.includes("#")&&!g.startsWith("."))return null;g.includes("#")&&!g.startsWith("#")&&(g=`#${g.split("#")[1]}`),u=g&&g!=="#"?g.trim():null}return u?u.split(",").map(g=>f(g)).join(","):null},ue={find:(_,u=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(u,_)),findOne:(_,u=document.documentElement)=>Element.prototype.querySelector.call(u,_),children:(_,u)=>[].concat(..._.children).filter(g=>g.matches(u)),parents(_,u){const g=[];let x=_.parentNode.closest(u);for(;x;)g.push(x),x=x.parentNode.closest(u);return g},prev(_,u){let g=_.previousElementSibling;for(;g;){if(g.matches(u))return[g];g=g.previousElementSibling}return[]},next(_,u){let g=_.nextElementSibling;for(;g;){if(g.matches(u))return[g];g=g.nextElementSibling}return[]},focusableChildren(_){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(g=>`${g}:not([tabindex^="-"])`).join(",");return this.find(u,_).filter(g=>!j(g)&&S(g))},getSelectorFromElement(_){const u=ht(_);return u&&ue.findOne(u)?u:null},getElementFromSelector(_){const u=ht(_);return u?ue.findOne(u):null},getMultipleElementsFromSelector(_){const u=ht(_);return u?ue.find(u):[]}},Ta=(_,u="hide")=>{const g=`click.dismiss${_.EVENT_KEY}`,x=_.NAME;E.on(document,g,`[data-bs-dismiss="${x}"]`,function(C){if(["A","AREA"].includes(this.tagName)&&C.preventDefault(),j(this))return;const R=ue.getElementFromSelector(this)||this.closest(`.${x}`);_.getOrCreateInstance(R)[u]()})},pi=".bs.alert",ol=`close${pi}`,Ko=`closed${pi}`;class Ls extends ge{static get NAME(){return"alert"}close(){if(E.trigger(this._element,ol).defaultPrevented)return;this._element.classList.remove("show");const u=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,u)}_destroyElement(){this._element.remove(),E.trigger(this._element,Ko),this.dispose()}static jQueryInterface(u){return this.each(function(){const g=Ls.getOrCreateInstance(this);if(typeof u=="string"){if(g[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);g[u](this)}})}}Ta(Ls,"close"),q(Ls);const Wi='[data-bs-toggle="button"]';class Ya extends ge{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(u){return this.each(function(){const g=Ya.getOrCreateInstance(this);u==="toggle"&&g[u]()})}}E.on(document,"click.bs.button.data-api",Wi,_=>{_.preventDefault();const u=_.target.closest(Wi);Ya.getOrCreateInstance(u).toggle()}),q(Ya);const wn=".bs.swipe",Yo=`touchstart${wn}`,cl=`touchmove${wn}`,ul=`touchend${wn}`,dl=`pointerdown${wn}`,Yu=`pointerup${wn}`,Xu={endCallback:null,leftCallback:null,rightCallback:null},fs={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class er extends ie{constructor(u,g){super(),this._element=u,u&&er.isSupported()&&(this._config=this._getConfig(g),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Xu}static get DefaultType(){return fs}static get NAME(){return"swipe"}dispose(){E.off(this._element,wn)}_start(u){this._supportPointerEvents?this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX):this._deltaX=u.touches[0].clientX}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),U(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=40)return;const g=u/this._deltaX;this._deltaX=0,g&&U(g>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(E.on(this._element,dl,u=>this._start(u)),E.on(this._element,Yu,u=>this._end(u)),this._element.classList.add("pointer-event")):(E.on(this._element,Yo,u=>this._start(u)),E.on(this._element,cl,u=>this._move(u)),E.on(this._element,ul,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&(u.pointerType==="pen"||u.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ca=".bs.carousel",hl=".data-api",tr="ArrowLeft",Qu="ArrowRight",xn="next",jn="prev",Sn="left",Aa="right",ms=`slide${ca}`,Xs=`slid${ca}`,gs=`keydown${ca}`,Ju=`mouseenter${ca}`,Zu=`mouseleave${ca}`,Fu=`dragstart${ca}`,sr=`load${ca}${hl}`,ar=`click${ca}${hl}`,bi="carousel",Qs="active",vi=".active",En=".carousel-item",Wu=vi+En,Xo={[tr]:Aa,[Qu]:Sn},fl={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},yi={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Nn extends ge{constructor(u,g){super(u,g),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ue.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===bi&&this.cycle()}static get Default(){return fl}static get DefaultType(){return yi}static get NAME(){return"carousel"}next(){this._slide(xn)}nextWhenVisible(){!document.hidden&&S(this._element)&&this.next()}prev(){this._slide(jn)}pause(){this._isSliding&&v(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?E.one(this._element,Xs,()=>this.cycle()):this.cycle())}to(u){const g=this._getItems();if(u>g.length-1||u<0)return;if(this._isSliding)return void E.one(this._element,Xs,()=>this.to(u));const x=this._getItemIndex(this._getActive());if(x===u)return;const C=u>x?xn:jn;this._slide(C,g[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&E.on(this._element,gs,u=>this._keydown(u)),this._config.pause==="hover"&&(E.on(this._element,Ju,()=>this.pause()),E.on(this._element,Zu,()=>this._maybeEnableCycle())),this._config.touch&&er.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const g of ue.find(".carousel-item img",this._element))E.on(g,Fu,x=>x.preventDefault());const u={leftCallback:()=>this._slide(this._directionToOrder(Sn)),rightCallback:()=>this._slide(this._directionToOrder(Aa)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new er(this._element,u)}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const g=Xo[u.key];g&&(u.preventDefault(),this._slide(this._directionToOrder(g)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const g=ue.findOne(vi,this._indicatorsElement);g.classList.remove(Qs),g.removeAttribute("aria-current");const x=ue.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);x&&(x.classList.add(Qs),x.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const g=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=g||this._config.defaultInterval}_slide(u,g=null){if(this._isSliding)return;const x=this._getActive(),C=u===xn,R=g||ae(this._getItems(),x,C,this._config.wrap);if(R===x)return;const G=this._getItemIndex(R),F=oe=>E.trigger(this._element,oe,{relatedTarget:R,direction:this._orderToDirection(u),from:this._getItemIndex(x),to:G});if(F(ms).defaultPrevented||!x||!R)return;const ne=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(G),this._activeElement=R;const de=C?"carousel-item-start":"carousel-item-end",fe=C?"carousel-item-next":"carousel-item-prev";R.classList.add(fe),z(R),x.classList.add(de),R.classList.add(de),this._queueCallback(()=>{R.classList.remove(de,fe),R.classList.add(Qs),x.classList.remove(Qs,fe,de),this._isSliding=!1,F(Xs)},x,this._isAnimated()),ne&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ue.findOne(Wu,this._element)}_getItems(){return ue.find(En,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return V()?u===Sn?jn:xn:u===Sn?xn:jn}_orderToDirection(u){return V()?u===jn?Sn:Aa:u===jn?Aa:Sn}static jQueryInterface(u){return this.each(function(){const g=Nn.getOrCreateInstance(this,u);if(typeof u!="number"){if(typeof u=="string"){if(g[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);g[u]()}}else g.to(u)})}}E.on(document,ar,"[data-bs-slide], [data-bs-slide-to]",function(_){const u=ue.getElementFromSelector(this);if(!u||!u.classList.contains(bi))return;_.preventDefault();const g=Nn.getOrCreateInstance(u),x=this.getAttribute("data-bs-slide-to");return x?(g.to(x),void g._maybeEnableCycle()):te.getDataAttribute(this,"slide")==="next"?(g.next(),void g._maybeEnableCycle()):(g.prev(),void g._maybeEnableCycle())}),E.on(window,sr,()=>{const _=ue.find('[data-bs-ride="carousel"]');for(const u of _)Nn.getOrCreateInstance(u)}),q(Nn);const Tn=".bs.collapse",Qo=`show${Tn}`,Jo=`shown${Tn}`,ml=`hide${Tn}`,gl=`hidden${Tn}`,Zo=`click${Tn}.data-api`,nr="show",ps="collapse",St="collapsing",rs=`:scope .${ps} .${ps}`,Oa='[data-bs-toggle="collapse"]',pl={parent:null,toggle:!0},ed={parent:"(null|element)",toggle:"boolean"};class An extends ge{constructor(u,g){super(u,g),this._isTransitioning=!1,this._triggerArray=[];const x=ue.find(Oa);for(const C of x){const R=ue.getSelectorFromElement(C),G=ue.find(R).filter(F=>F===this._element);R!==null&&G.length&&this._triggerArray.push(C)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return pl}static get DefaultType(){return ed}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(C=>C!==this._element).map(C=>An.getOrCreateInstance(C,{toggle:!1}))),u.length&&u[0]._isTransitioning||E.trigger(this._element,Qo).defaultPrevented)return;for(const C of u)C.hide();const g=this._getDimension();this._element.classList.remove(ps),this._element.classList.add(St),this._element.style[g]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const x=`scroll${g[0].toUpperCase()+g.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(St),this._element.classList.add(ps,nr),this._element.style[g]="",E.trigger(this._element,Jo)},this._element,!0),this._element.style[g]=`${this._element[x]}px`}hide(){if(this._isTransitioning||!this._isShown()||E.trigger(this._element,ml).defaultPrevented)return;const u=this._getDimension();this._element.style[u]=`${this._element.getBoundingClientRect()[u]}px`,z(this._element),this._element.classList.add(St),this._element.classList.remove(ps,nr);for(const g of this._triggerArray){const x=ue.getElementFromSelector(g);x&&!this._isShown(x)&&this._addAriaAndCollapsedClass([g],!1)}this._isTransitioning=!0,this._element.style[u]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(St),this._element.classList.add(ps),E.trigger(this._element,gl)},this._element,!0)}_isShown(u=this._element){return u.classList.contains(nr)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=y(u.parent),u}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(Oa);for(const g of u){const x=ue.getElementFromSelector(g);x&&this._addAriaAndCollapsedClass([g],this._isShown(x))}}_getFirstLevelChildren(u){const g=ue.find(rs,this._config.parent);return ue.find(u,this._config.parent).filter(x=>!g.includes(x))}_addAriaAndCollapsedClass(u,g){if(u.length)for(const x of u)x.classList.toggle("collapsed",!g),x.setAttribute("aria-expanded",g)}static jQueryInterface(u){const g={};return typeof u=="string"&&/show|hide/.test(u)&&(g.toggle=!1),this.each(function(){const x=An.getOrCreateInstance(this,g);if(typeof u=="string"){if(x[u]===void 0)throw new TypeError(`No method named "${u}"`);x[u]()}})}}E.on(document,Zo,Oa,function(_){(_.target.tagName==="A"||_.delegateTarget&&_.delegateTarget.tagName==="A")&&_.preventDefault();for(const u of ue.getMultipleElementsFromSelector(this))An.getOrCreateInstance(u,{toggle:!1}).toggle()}),q(An);var Pt="top",$t="bottom",Zt="right",Et="left",ua="auto",Js=[Pt,$t,Zt,Et],Ns="start",ft="end",bl="clippingParents",ir="viewport",Ts="popper",Xa="reference",vl=Js.reduce(function(_,u){return _.concat([u+"-"+Ns,u+"-"+ft])},[]),rr=[].concat(Js,[ua]).reduce(function(_,u){return _.concat([u,u+"-"+Ns,u+"-"+ft])},[]),yl="beforeRead",Fo="read",_i="afterRead",wi="beforeMain",Zs="main",bs="afterMain",_l="beforeWrite",Wo="write",lr="afterWrite",wl=[yl,Fo,_i,wi,Zs,bs,_l,Wo,lr];function vs(_){return _?(_.nodeName||"").toLowerCase():null}function ys(_){if(_==null)return window;if(_.toString()!=="[object Window]"){var u=_.ownerDocument;return u&&u.defaultView||window}return _}function kt(_){return _ instanceof ys(_).Element||_ instanceof Element}function ls(_){return _ instanceof ys(_).HTMLElement||_ instanceof HTMLElement}function or(_){return typeof ShadowRoot<"u"&&(_ instanceof ys(_).ShadowRoot||_ instanceof ShadowRoot)}const xi={name:"applyStyles",enabled:!0,phase:"write",fn:function(_){var u=_.state;Object.keys(u.elements).forEach(function(g){var x=u.styles[g]||{},C=u.attributes[g]||{},R=u.elements[g];ls(R)&&vs(R)&&(Object.assign(R.style,x),Object.keys(C).forEach(function(G){var F=C[G];F===!1?R.removeAttribute(G):R.setAttribute(G,F===!0?"":F)}))})},effect:function(_){var u=_.state,g={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,g.popper),u.styles=g,u.elements.arrow&&Object.assign(u.elements.arrow.style,g.arrow),function(){Object.keys(u.elements).forEach(function(x){var C=u.elements[x],R=u.attributes[x]||{},G=Object.keys(u.styles.hasOwnProperty(x)?u.styles[x]:g[x]).reduce(function(F,ne){return F[ne]="",F},{});ls(C)&&vs(C)&&(Object.assign(C.style,G),Object.keys(R).forEach(function(F){C.removeAttribute(F)}))})}},requires:["computeStyles"]};function Ft(_){return _.split("-")[0]}var Ca=Math.max,ji=Math.min,$s=Math.round;function xl(){var _=navigator.userAgentData;return _!=null&&_.brands&&Array.isArray(_.brands)?_.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function jl(){return!/^((?!chrome|android).)*safari/i.test(xl())}function Qa(_,u,g){u===void 0&&(u=!1),g===void 0&&(g=!1);var x=_.getBoundingClientRect(),C=1,R=1;u&&ls(_)&&(C=_.offsetWidth>0&&$s(x.width)/_.offsetWidth||1,R=_.offsetHeight>0&&$s(x.height)/_.offsetHeight||1);var G=(kt(_)?ys(_):window).visualViewport,F=!jl()&&g,ne=(x.left+(F&&G?G.offsetLeft:0))/C,de=(x.top+(F&&G?G.offsetTop:0))/R,fe=x.width/C,oe=x.height/R;return{width:fe,height:oe,top:de,right:ne+fe,bottom:de+oe,left:ne,x:ne,y:de}}function Si(_){var u=Qa(_),g=_.offsetWidth,x=_.offsetHeight;return Math.abs(u.width-g)<=1&&(g=u.width),Math.abs(u.height-x)<=1&&(x=u.height),{x:_.offsetLeft,y:_.offsetTop,width:g,height:x}}function ec(_,u){var g=u.getRootNode&&u.getRootNode();if(_.contains(u))return!0;if(g&&or(g)){var x=u;do{if(x&&_.isSameNode(x))return!0;x=x.parentNode||x.host}while(x)}return!1}function da(_){return ys(_).getComputedStyle(_)}function cr(_){return["table","td","th"].indexOf(vs(_))>=0}function Gt(_){return((kt(_)?_.ownerDocument:_.document)||window.document).documentElement}function On(_){return vs(_)==="html"?_:_.assignedSlot||_.parentNode||(or(_)?_.host:null)||Gt(_)}function ur(_){return ls(_)&&da(_).position!=="fixed"?_.offsetParent:null}function Fs(_){for(var u=ys(_),g=ur(_);g&&cr(g)&&da(g).position==="static";)g=ur(g);return g&&(vs(g)==="html"||vs(g)==="body"&&da(g).position==="static")?u:g||(function(x){var C=/firefox/i.test(xl());if(/Trident/i.test(xl())&&ls(x)&&da(x).position==="fixed")return null;var R=On(x);for(or(R)&&(R=R.host);ls(R)&&["html","body"].indexOf(vs(R))<0;){var G=da(R);if(G.transform!=="none"||G.perspective!=="none"||G.contain==="paint"||["transform","perspective"].indexOf(G.willChange)!==-1||C&&G.willChange==="filter"||C&&G.filter&&G.filter!=="none")return R;R=R.parentNode}return null})(_)||u}function ka(_){return["top","bottom"].indexOf(_)>=0?"x":"y"}function Cn(_,u,g){return Ca(_,ji(u,g))}function dr(_){return Object.assign({},{top:0,right:0,bottom:0,left:0},_)}function Sl(_,u){return u.reduce(function(g,x){return g[x]=_,g},{})}const kn={name:"arrow",enabled:!0,phase:"main",fn:function(_){var u,g=_.state,x=_.name,C=_.options,R=g.elements.arrow,G=g.modifiersData.popperOffsets,F=Ft(g.placement),ne=ka(F),de=[Et,Zt].indexOf(F)>=0?"height":"width";if(R&&G){var fe=(function(Pe,Ve){return dr(typeof(Pe=typeof Pe=="function"?Pe(Object.assign({},Ve.rects,{placement:Ve.placement})):Pe)!="number"?Pe:Sl(Pe,Js))})(C.padding,g),oe=Si(R),Ae=ne==="y"?Pt:Et,we=ne==="y"?$t:Zt,xe=g.rects.reference[de]+g.rects.reference[ne]-G[ne]-g.rects.popper[de],Ne=G[ne]-g.rects.reference[ne],_e=Fs(R),Qe=_e?ne==="y"?_e.clientHeight||0:_e.clientWidth||0:0,We=xe/2-Ne/2,Te=fe[Ae],Me=Qe-oe[de]-fe[we],Oe=Qe/2-oe[de]/2+We,Le=Cn(Te,Oe,Me),Ge=ne;g.modifiersData[x]=((u={})[Ge]=Le,u.centerOffset=Le-Oe,u)}},effect:function(_){var u=_.state,g=_.options.element,x=g===void 0?"[data-popper-arrow]":g;x!=null&&(typeof x!="string"||(x=u.elements.popper.querySelector(x)))&&ec(u.elements.popper,x)&&(u.elements.arrow=x)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function os(_){return _.split("-")[1]}var El={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Rn(_){var u,g=_.popper,x=_.popperRect,C=_.placement,R=_.variation,G=_.offsets,F=_.position,ne=_.gpuAcceleration,de=_.adaptive,fe=_.roundOffsets,oe=_.isFixed,Ae=G.x,we=Ae===void 0?0:Ae,xe=G.y,Ne=xe===void 0?0:xe,_e=typeof fe=="function"?fe({x:we,y:Ne}):{x:we,y:Ne};we=_e.x,Ne=_e.y;var Qe=G.hasOwnProperty("x"),We=G.hasOwnProperty("y"),Te=Et,Me=Pt,Oe=window;if(de){var Le=Fs(g),Ge="clientHeight",Pe="clientWidth";Le===ys(g)&&da(Le=Gt(g)).position!=="static"&&F==="absolute"&&(Ge="scrollHeight",Pe="scrollWidth"),(C===Pt||(C===Et||C===Zt)&&R===ft)&&(Me=$t,Ne-=(oe&&Le===Oe&&Oe.visualViewport?Oe.visualViewport.height:Le[Ge])-x.height,Ne*=ne?1:-1),C!==Et&&(C!==Pt&&C!==$t||R!==ft)||(Te=Zt,we-=(oe&&Le===Oe&&Oe.visualViewport?Oe.visualViewport.width:Le[Pe])-x.width,we*=ne?1:-1)}var Ve,gt=Object.assign({position:F},de&&El),cs=fe===!0?(function(Xt,Ut){var Ss=Xt.x,us=Xt.y,ct=Ut.devicePixelRatio||1;return{x:$s(Ss*ct)/ct||0,y:$s(us*ct)/ct||0}})({x:we,y:Ne},ys(g)):{x:we,y:Ne};return we=cs.x,Ne=cs.y,ne?Object.assign({},gt,((Ve={})[Me]=We?"0":"",Ve[Te]=Qe?"0":"",Ve.transform=(Oe.devicePixelRatio||1)<=1?"translate("+we+"px, "+Ne+"px)":"translate3d("+we+"px, "+Ne+"px, 0)",Ve)):Object.assign({},gt,((u={})[Me]=We?Ne+"px":"",u[Te]=Qe?we+"px":"",u.transform="",u))}const Ws={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(_){var u=_.state,g=_.options,x=g.gpuAcceleration,C=x===void 0||x,R=g.adaptive,G=R===void 0||R,F=g.roundOffsets,ne=F===void 0||F,de={placement:Ft(u.placement),variation:os(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:C,isFixed:u.options.strategy==="fixed"};u.modifiersData.popperOffsets!=null&&(u.styles.popper=Object.assign({},u.styles.popper,Rn(Object.assign({},de,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:G,roundOffsets:ne})))),u.modifiersData.arrow!=null&&(u.styles.arrow=Object.assign({},u.styles.arrow,Rn(Object.assign({},de,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ne})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})},data:{}};var Dn={passive:!0};const Un={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(_){var u=_.state,g=_.instance,x=_.options,C=x.scroll,R=C===void 0||C,G=x.resize,F=G===void 0||G,ne=ys(u.elements.popper),de=[].concat(u.scrollParents.reference,u.scrollParents.popper);return R&&de.forEach(function(fe){fe.addEventListener("scroll",g.update,Dn)}),F&&ne.addEventListener("resize",g.update,Dn),function(){R&&de.forEach(function(fe){fe.removeEventListener("scroll",g.update,Dn)}),F&&ne.removeEventListener("resize",g.update,Dn)}},data:{}};var tc={left:"right",right:"left",bottom:"top",top:"bottom"};function Ja(_){return _.replace(/left|right|bottom|top/g,function(u){return tc[u]})}var hr={start:"end",end:"start"};function Nl(_){return _.replace(/start|end/g,function(u){return hr[u]})}function It(_){var u=ys(_);return{scrollLeft:u.pageXOffset,scrollTop:u.pageYOffset}}function ha(_){return Qa(Gt(_)).left+It(_).scrollLeft}function Mn(_){var u=da(_),g=u.overflow,x=u.overflowX,C=u.overflowY;return/auto|scroll|overlay|hidden/.test(g+C+x)}function zn(_){return["html","body","#document"].indexOf(vs(_))>=0?_.ownerDocument.body:ls(_)&&Mn(_)?_:zn(On(_))}function Ei(_,u){var g;u===void 0&&(u=[]);var x=zn(_),C=x===((g=_.ownerDocument)==null?void 0:g.body),R=ys(x),G=C?[R].concat(R.visualViewport||[],Mn(x)?x:[]):x,F=u.concat(G);return C?F:F.concat(Ei(On(G)))}function Ni(_){return Object.assign({},_,{left:_.x,top:_.y,right:_.x+_.width,bottom:_.y+_.height})}function fr(_,u,g){return u===ir?Ni((function(x,C){var R=ys(x),G=Gt(x),F=R.visualViewport,ne=G.clientWidth,de=G.clientHeight,fe=0,oe=0;if(F){ne=F.width,de=F.height;var Ae=jl();(Ae||!Ae&&C==="fixed")&&(fe=F.offsetLeft,oe=F.offsetTop)}return{width:ne,height:de,x:fe+ha(x),y:oe}})(_,g)):kt(u)?(function(x,C){var R=Qa(x,!1,C==="fixed");return R.top=R.top+x.clientTop,R.left=R.left+x.clientLeft,R.bottom=R.top+x.clientHeight,R.right=R.left+x.clientWidth,R.width=x.clientWidth,R.height=x.clientHeight,R.x=R.left,R.y=R.top,R})(u,g):Ni((function(x){var C,R=Gt(x),G=It(x),F=(C=x.ownerDocument)==null?void 0:C.body,ne=Ca(R.scrollWidth,R.clientWidth,F?F.scrollWidth:0,F?F.clientWidth:0),de=Ca(R.scrollHeight,R.clientHeight,F?F.scrollHeight:0,F?F.clientHeight:0),fe=-G.scrollLeft+ha(x),oe=-G.scrollTop;return da(F||R).direction==="rtl"&&(fe+=Ca(R.clientWidth,F?F.clientWidth:0)-ne),{width:ne,height:de,x:fe,y:oe}})(Gt(_)))}function Ln(_){var u,g=_.reference,x=_.element,C=_.placement,R=C?Ft(C):null,G=C?os(C):null,F=g.x+g.width/2-x.width/2,ne=g.y+g.height/2-x.height/2;switch(R){case Pt:u={x:F,y:g.y-x.height};break;case $t:u={x:F,y:g.y+g.height};break;case Zt:u={x:g.x+g.width,y:ne};break;case Et:u={x:g.x-x.width,y:ne};break;default:u={x:g.x,y:g.y}}var de=R?ka(R):null;if(de!=null){var fe=de==="y"?"height":"width";switch(G){case Ns:u[de]=u[de]-(g[fe]/2-x[fe]/2);break;case ft:u[de]=u[de]+(g[fe]/2-x[fe]/2)}}return u}function fa(_,u){u===void 0&&(u={});var g=u,x=g.placement,C=x===void 0?_.placement:x,R=g.strategy,G=R===void 0?_.strategy:R,F=g.boundary,ne=F===void 0?bl:F,de=g.rootBoundary,fe=de===void 0?ir:de,oe=g.elementContext,Ae=oe===void 0?Ts:oe,we=g.altBoundary,xe=we!==void 0&&we,Ne=g.padding,_e=Ne===void 0?0:Ne,Qe=dr(typeof _e!="number"?_e:Sl(_e,Js)),We=Ae===Ts?Xa:Ts,Te=_.rects.popper,Me=_.elements[xe?We:Ae],Oe=(function(Ut,Ss,us,ct){var pt=Ss==="clippingParents"?(function(et){var bt=Ei(On(et)),ut=["absolute","fixed"].indexOf(da(et).position)>=0&&ls(et)?Fs(et):et;return kt(ut)?bt.filter(function(tt){return kt(tt)&&ec(tt,ut)&&vs(tt)!=="body"}):[]})(Ut):[].concat(Ss),wt=[].concat(pt,[us]),Es=wt[0],Tt=wt.reduce(function(et,bt){var ut=fr(Ut,bt,ct);return et.top=Ca(ut.top,et.top),et.right=ji(ut.right,et.right),et.bottom=ji(ut.bottom,et.bottom),et.left=Ca(ut.left,et.left),et},fr(Ut,Es,ct));return Tt.width=Tt.right-Tt.left,Tt.height=Tt.bottom-Tt.top,Tt.x=Tt.left,Tt.y=Tt.top,Tt})(kt(Me)?Me:Me.contextElement||Gt(_.elements.popper),ne,fe,G),Le=Qa(_.elements.reference),Ge=Ln({reference:Le,element:Te,placement:C}),Pe=Ni(Object.assign({},Te,Ge)),Ve=Ae===Ts?Pe:Le,gt={top:Oe.top-Ve.top+Qe.top,bottom:Ve.bottom-Oe.bottom+Qe.bottom,left:Oe.left-Ve.left+Qe.left,right:Ve.right-Oe.right+Qe.right},cs=_.modifiersData.offset;if(Ae===Ts&&cs){var Xt=cs[C];Object.keys(gt).forEach(function(Ut){var Ss=[Zt,$t].indexOf(Ut)>=0?1:-1,us=[Pt,$t].indexOf(Ut)>=0?"y":"x";gt[Ut]+=Xt[us]*Ss})}return gt}function sc(_,u){u===void 0&&(u={});var g=u,x=g.placement,C=g.boundary,R=g.rootBoundary,G=g.padding,F=g.flipVariations,ne=g.allowedAutoPlacements,de=ne===void 0?rr:ne,fe=os(x),oe=fe?F?vl:vl.filter(function(xe){return os(xe)===fe}):Js,Ae=oe.filter(function(xe){return de.indexOf(xe)>=0});Ae.length===0&&(Ae=oe);var we=Ae.reduce(function(xe,Ne){return xe[Ne]=fa(_,{placement:Ne,boundary:C,rootBoundary:R,padding:G})[Ft(Ne)],xe},{});return Object.keys(we).sort(function(xe,Ne){return we[xe]-we[Ne]})}const ac={name:"flip",enabled:!0,phase:"main",fn:function(_){var u=_.state,g=_.options,x=_.name;if(!u.modifiersData[x]._skip){for(var C=g.mainAxis,R=C===void 0||C,G=g.altAxis,F=G===void 0||G,ne=g.fallbackPlacements,de=g.padding,fe=g.boundary,oe=g.rootBoundary,Ae=g.altBoundary,we=g.flipVariations,xe=we===void 0||we,Ne=g.allowedAutoPlacements,_e=u.options.placement,Qe=Ft(_e),We=ne||(Qe!==_e&&xe?(function(et){if(Ft(et)===ua)return[];var bt=Ja(et);return[Nl(et),bt,Nl(bt)]})(_e):[Ja(_e)]),Te=[_e].concat(We).reduce(function(et,bt){return et.concat(Ft(bt)===ua?sc(u,{placement:bt,boundary:fe,rootBoundary:oe,padding:de,flipVariations:xe,allowedAutoPlacements:Ne}):bt)},[]),Me=u.rects.reference,Oe=u.rects.popper,Le=new Map,Ge=!0,Pe=Te[0],Ve=0;Ve<Te.length;Ve++){var gt=Te[Ve],cs=Ft(gt),Xt=os(gt)===Ns,Ut=[Pt,$t].indexOf(cs)>=0,Ss=Ut?"width":"height",us=fa(u,{placement:gt,boundary:fe,rootBoundary:oe,altBoundary:Ae,padding:de}),ct=Ut?Xt?Zt:Et:Xt?$t:Pt;Me[Ss]>Oe[Ss]&&(ct=Ja(ct));var pt=Ja(ct),wt=[];if(R&&wt.push(us[cs]<=0),F&&wt.push(us[ct]<=0,us[pt]<=0),wt.every(function(et){return et})){Pe=gt,Ge=!1;break}Le.set(gt,wt)}if(Ge)for(var Es=function(et){var bt=Te.find(function(ut){var tt=Le.get(ut);if(tt)return tt.slice(0,et).every(function(sn){return sn})});if(bt)return Pe=bt,"break"},Tt=xe?3:1;Tt>0&&Es(Tt)!=="break";Tt--);u.placement!==Pe&&(u.modifiersData[x]._skip=!0,u.placement=Pe,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function nc(_,u,g){return g===void 0&&(g={x:0,y:0}),{top:_.top-u.height-g.y,right:_.right-u.width+g.x,bottom:_.bottom-u.height+g.y,left:_.left-u.width-g.x}}function ic(_){return[Pt,Zt,$t,Et].some(function(u){return _[u]>=0})}const mr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(_){var u=_.state,g=_.name,x=u.rects.reference,C=u.rects.popper,R=u.modifiersData.preventOverflow,G=fa(u,{elementContext:"reference"}),F=fa(u,{altBoundary:!0}),ne=nc(G,x),de=nc(F,C,R),fe=ic(ne),oe=ic(de);u.modifiersData[g]={referenceClippingOffsets:ne,popperEscapeOffsets:de,isReferenceHidden:fe,hasPopperEscaped:oe},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":fe,"data-popper-escaped":oe})}},rc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(_){var u=_.state,g=_.options,x=_.name,C=g.offset,R=C===void 0?[0,0]:C,G=rr.reduce(function(fe,oe){return fe[oe]=(function(Ae,we,xe){var Ne=Ft(Ae),_e=[Et,Pt].indexOf(Ne)>=0?-1:1,Qe=typeof xe=="function"?xe(Object.assign({},we,{placement:Ae})):xe,We=Qe[0],Te=Qe[1];return We=We||0,Te=(Te||0)*_e,[Et,Zt].indexOf(Ne)>=0?{x:Te,y:We}:{x:We,y:Te}})(oe,u.rects,R),fe},{}),F=G[u.placement],ne=F.x,de=F.y;u.modifiersData.popperOffsets!=null&&(u.modifiersData.popperOffsets.x+=ne,u.modifiersData.popperOffsets.y+=de),u.modifiersData[x]=G}},Tl={name:"popperOffsets",enabled:!0,phase:"read",fn:function(_){var u=_.state,g=_.name;u.modifiersData[g]=Ln({reference:u.rects.reference,element:u.rects.popper,placement:u.placement})},data:{}},lc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(_){var u=_.state,g=_.options,x=_.name,C=g.mainAxis,R=C===void 0||C,G=g.altAxis,F=G!==void 0&&G,ne=g.boundary,de=g.rootBoundary,fe=g.altBoundary,oe=g.padding,Ae=g.tether,we=Ae===void 0||Ae,xe=g.tetherOffset,Ne=xe===void 0?0:xe,_e=fa(u,{boundary:ne,rootBoundary:de,padding:oe,altBoundary:fe}),Qe=Ft(u.placement),We=os(u.placement),Te=!We,Me=ka(Qe),Oe=Me==="x"?"y":"x",Le=u.modifiersData.popperOffsets,Ge=u.rects.reference,Pe=u.rects.popper,Ve=typeof Ne=="function"?Ne(Object.assign({},u.rects,{placement:u.placement})):Ne,gt=typeof Ve=="number"?{mainAxis:Ve,altAxis:Ve}:Object.assign({mainAxis:0,altAxis:0},Ve),cs=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,Xt={x:0,y:0};if(Le){if(R){var Ut,Ss=Me==="y"?Pt:Et,us=Me==="y"?$t:Zt,ct=Me==="y"?"height":"width",pt=Le[Me],wt=pt+_e[Ss],Es=pt-_e[us],Tt=we?-Pe[ct]/2:0,et=We===Ns?Ge[ct]:Pe[ct],bt=We===Ns?-Pe[ct]:-Ge[ct],ut=u.elements.arrow,tt=we&&ut?Si(ut):{width:0,height:0},sn=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},na=sn[Ss],Ce=sn[us],Ie=Cn(0,Ge[ct],tt[ct]),At=Te?Ge[ct]/2-Tt-Ie-na-gt.mainAxis:et-Ie-na-gt.mainAxis,Nr=Te?-Ge[ct]/2+Tt+Ie+Ce+gt.mainAxis:bt+Ie+Ce+gt.mainAxis,Pa=u.elements.arrow&&Fs(u.elements.arrow),an=Pa?Me==="y"?Pa.clientTop||0:Pa.clientLeft||0:0,$i=(Ut=cs?.[Me])!=null?Ut:0,Bi=pt+Nr-$i,nn=Cn(we?ji(wt,pt+At-$i-an):wt,pt,we?Ca(Es,Bi):Es);Le[Me]=nn,Xt[Me]=nn-pt}if(F){var $c,vt=Me==="x"?Pt:Et,io=Me==="x"?$t:Zt,_a=Le[Oe],qi=Oe==="y"?"height":"width",ro=_a+_e[vt],Bc=_a-_e[io],Hi=[Pt,Et].indexOf(Qe)!==-1,Tr=($c=cs?.[Oe])!=null?$c:0,Ar=Hi?ro:_a-Ge[qi]-Pe[qi]-Tr+gt.altAxis,Qt=Hi?_a+Ge[qi]+Pe[qi]-Tr-gt.altAxis:Bc,yt=we&&Hi?(function(Or,Vi,Fn){var Cr=Cn(Or,Vi,Fn);return Cr>Fn?Fn:Cr})(Ar,_a,Qt):Cn(we?Ar:ro,_a,we?Qt:Bc);Le[Oe]=yt,Xt[Oe]=yt-_a}u.modifiersData[x]=Xt}},requiresIfExists:["offset"]};function td(_,u,g){g===void 0&&(g=!1);var x,C,R=ls(u),G=ls(u)&&(function(oe){var Ae=oe.getBoundingClientRect(),we=$s(Ae.width)/oe.offsetWidth||1,xe=$s(Ae.height)/oe.offsetHeight||1;return we!==1||xe!==1})(u),F=Gt(u),ne=Qa(_,G,g),de={scrollLeft:0,scrollTop:0},fe={x:0,y:0};return(R||!R&&!g)&&((vs(u)!=="body"||Mn(F))&&(de=(x=u)!==ys(x)&&ls(x)?{scrollLeft:(C=x).scrollLeft,scrollTop:C.scrollTop}:It(x)),ls(u)?((fe=Qa(u,!0)).x+=u.clientLeft,fe.y+=u.clientTop):F&&(fe.x=ha(F))),{x:ne.left+de.scrollLeft-fe.x,y:ne.top+de.scrollTop-fe.y,width:ne.width,height:ne.height}}function sd(_){var u=new Map,g=new Set,x=[];function C(R){g.add(R.name),[].concat(R.requires||[],R.requiresIfExists||[]).forEach(function(G){if(!g.has(G)){var F=u.get(G);F&&C(F)}}),x.push(R)}return _.forEach(function(R){u.set(R.name,R)}),_.forEach(function(R){g.has(R.name)||C(R)}),x}var Al={placement:"bottom",modifiers:[],strategy:"absolute"};function oc(){for(var _=arguments.length,u=new Array(_),g=0;g<_;g++)u[g]=arguments[g];return!u.some(function(x){return!(x&&typeof x.getBoundingClientRect=="function")})}function gr(_){_===void 0&&(_={});var u=_,g=u.defaultModifiers,x=g===void 0?[]:g,C=u.defaultOptions,R=C===void 0?Al:C;return function(G,F,ne){ne===void 0&&(ne=R);var de,fe,oe={placement:"bottom",orderedModifiers:[],options:Object.assign({},Al,R),modifiersData:{},elements:{reference:G,popper:F},attributes:{},styles:{}},Ae=[],we=!1,xe={state:oe,setOptions:function(_e){var Qe=typeof _e=="function"?_e(oe.options):_e;Ne(),oe.options=Object.assign({},R,oe.options,Qe),oe.scrollParents={reference:kt(G)?Ei(G):G.contextElement?Ei(G.contextElement):[],popper:Ei(F)};var We,Te,Me=(function(Oe){var Le=sd(Oe);return wl.reduce(function(Ge,Pe){return Ge.concat(Le.filter(function(Ve){return Ve.phase===Pe}))},[])})((We=[].concat(x,oe.options.modifiers),Te=We.reduce(function(Oe,Le){var Ge=Oe[Le.name];return Oe[Le.name]=Ge?Object.assign({},Ge,Le,{options:Object.assign({},Ge.options,Le.options),data:Object.assign({},Ge.data,Le.data)}):Le,Oe},{}),Object.keys(Te).map(function(Oe){return Te[Oe]})));return oe.orderedModifiers=Me.filter(function(Oe){return Oe.enabled}),oe.orderedModifiers.forEach(function(Oe){var Le=Oe.name,Ge=Oe.options,Pe=Ge===void 0?{}:Ge,Ve=Oe.effect;if(typeof Ve=="function"){var gt=Ve({state:oe,name:Le,instance:xe,options:Pe});Ae.push(gt||function(){})}}),xe.update()},forceUpdate:function(){if(!we){var _e=oe.elements,Qe=_e.reference,We=_e.popper;if(oc(Qe,We)){oe.rects={reference:td(Qe,Fs(We),oe.options.strategy==="fixed"),popper:Si(We)},oe.reset=!1,oe.placement=oe.options.placement,oe.orderedModifiers.forEach(function(Ve){return oe.modifiersData[Ve.name]=Object.assign({},Ve.data)});for(var Te=0;Te<oe.orderedModifiers.length;Te++)if(oe.reset!==!0){var Me=oe.orderedModifiers[Te],Oe=Me.fn,Le=Me.options,Ge=Le===void 0?{}:Le,Pe=Me.name;typeof Oe=="function"&&(oe=Oe({state:oe,options:Ge,name:Pe,instance:xe})||oe)}else oe.reset=!1,Te=-1}}},update:(de=function(){return new Promise(function(_e){xe.forceUpdate(),_e(oe)})},function(){return fe||(fe=new Promise(function(_e){Promise.resolve().then(function(){fe=void 0,_e(de())})})),fe}),destroy:function(){Ne(),we=!0}};if(!oc(G,F))return xe;function Ne(){Ae.forEach(function(_e){return _e()}),Ae=[]}return xe.setOptions(ne).then(function(_e){!we&&ne.onFirstUpdate&&ne.onFirstUpdate(_e)}),xe}}var ad=gr(),nd=gr({defaultModifiers:[Un,Tl,Ws,xi]}),Ti=gr({defaultModifiers:[Un,Tl,Ws,xi,rc,ac,lc,kn,mr]});const cc=Object.freeze(Object.defineProperty({__proto__:null,afterMain:bs,afterRead:_i,afterWrite:lr,applyStyles:xi,arrow:kn,auto:ua,basePlacements:Js,beforeMain:wi,beforeRead:yl,beforeWrite:_l,bottom:$t,clippingParents:bl,computeStyles:Ws,createPopper:Ti,createPopperBase:ad,createPopperLite:nd,detectOverflow:fa,end:ft,eventListeners:Un,flip:ac,hide:mr,left:Et,main:Zs,modifierPhases:wl,offset:rc,placements:rr,popper:Ts,popperGenerator:gr,popperOffsets:Tl,preventOverflow:lc,read:Fo,reference:Xa,right:Zt,start:Ns,top:Pt,variationPlacements:vl,viewport:ir,write:Wo},Symbol.toStringTag,{value:"Module"})),uc="dropdown",Za=".bs.dropdown",pr=".data-api",id="ArrowUp",dc="ArrowDown",rd=`hide${Za}`,ld=`hidden${Za}`,od=`show${Za}`,cd=`shown${Za}`,hc=`click${Za}${pr}`,fc=`keydown${Za}${pr}`,ud=`keyup${Za}${pr}`,Ra="show",Bs='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',dd=`${Bs}.${Ra}`,Ai=".dropdown-menu",mc=V()?"top-end":"top-start",gc=V()?"top-start":"top-end",pc=V()?"bottom-end":"bottom-start",bc=V()?"bottom-start":"bottom-end",$n=V()?"left-start":"right-start",hd=V()?"right-start":"left-start",fd={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},md={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class As extends ge{constructor(u,g){super(u,g),this._popper=null,this._parent=this._element.parentNode,this._menu=ue.next(this._element,Ai)[0]||ue.prev(this._element,Ai)[0]||ue.findOne(Ai,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return fd}static get DefaultType(){return md}static get NAME(){return uc}toggle(){return this._isShown()?this.hide():this.show()}show(){if(j(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!E.trigger(this._element,od,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const g of[].concat(...document.body.children))E.on(g,"mouseover",A);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ra),this._element.classList.add(Ra),E.trigger(this._element,cd,u)}}hide(){if(j(this._element)||!this._isShown())return;const u={relatedTarget:this._element};this._completeHide(u)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!E.trigger(this._element,rd,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const g of[].concat(...document.body.children))E.off(g,"mouseover",A);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ra),this._element.classList.remove(Ra),this._element.setAttribute("aria-expanded","false"),te.removeDataAttribute(this._menu,"popper"),E.trigger(this._element,ld,u)}}_getConfig(u){if(typeof(u=super._getConfig(u)).reference=="object"&&!p(u.reference)&&typeof u.reference.getBoundingClientRect!="function")throw new TypeError(`${uc.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(cc===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let u=this._element;this._config.reference==="parent"?u=this._parent:p(this._config.reference)?u=y(this._config.reference):typeof this._config.reference=="object"&&(u=this._config.reference);const g=this._getPopperConfig();this._popper=Ti(u,this._menu,g)}_isShown(){return this._menu.classList.contains(Ra)}_getPlacement(){const u=this._parent;if(u.classList.contains("dropend"))return $n;if(u.classList.contains("dropstart"))return hd;if(u.classList.contains("dropup-center"))return"top";if(u.classList.contains("dropdown-center"))return"bottom";const g=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return u.classList.contains("dropup")?g?gc:mc:g?bc:pc}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(g=>Number.parseInt(g,10)):typeof u=="function"?g=>u(g,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(te.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...U(this._config.popperConfig,[void 0,u])}}_selectMenuItem({key:u,target:g}){const x=ue.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(C=>S(C));x.length&&ae(x,g,u===dc,!x.includes(g)).focus()}static jQueryInterface(u){return this.each(function(){const g=As.getOrCreateInstance(this,u);if(typeof u=="string"){if(g[u]===void 0)throw new TypeError(`No method named "${u}"`);g[u]()}})}static clearMenus(u){if(u.button===2||u.type==="keyup"&&u.key!=="Tab")return;const g=ue.find(dd);for(const x of g){const C=As.getInstance(x);if(!C||C._config.autoClose===!1)continue;const R=u.composedPath(),G=R.includes(C._menu);if(R.includes(C._element)||C._config.autoClose==="inside"&&!G||C._config.autoClose==="outside"&&G||C._menu.contains(u.target)&&(u.type==="keyup"&&u.key==="Tab"||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const F={relatedTarget:C._element};u.type==="click"&&(F.clickEvent=u),C._completeHide(F)}}static dataApiKeydownHandler(u){const g=/input|textarea/i.test(u.target.tagName),x=u.key==="Escape",C=[id,dc].includes(u.key);if(!C&&!x||g&&!x)return;u.preventDefault();const R=this.matches(Bs)?this:ue.prev(this,Bs)[0]||ue.next(this,Bs)[0]||ue.findOne(Bs,u.delegateTarget.parentNode),G=As.getOrCreateInstance(R);if(C)return u.stopPropagation(),G.show(),void G._selectMenuItem(u);G._isShown()&&(u.stopPropagation(),G.hide(),R.focus())}}E.on(document,fc,Bs,As.dataApiKeydownHandler),E.on(document,fc,Ai,As.dataApiKeydownHandler),E.on(document,hc,As.clearMenus),E.on(document,ud,As.clearMenus),E.on(document,hc,Bs,function(_){_.preventDefault(),As.getOrCreateInstance(this).toggle()}),q(As);const Ol="backdrop",Bn="show",qn=`mousedown.bs.${Ol}`,gd={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},br={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Cl extends ie{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return gd}static get DefaultType(){return br}static get NAME(){return Ol}show(u){if(!this._config.isVisible)return void U(u);this._append();const g=this._getElement();this._config.isAnimated&&z(g),g.classList.add(Bn),this._emulateAnimation(()=>{U(u)})}hide(u){this._config.isVisible?(this._getElement().classList.remove(Bn),this._emulateAnimation(()=>{this.dispose(),U(u)})):U(u)}dispose(){this._isAppended&&(E.off(this._element,qn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add("fade"),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=y(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),E.on(u,qn,()=>{U(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){W(u,this._getElement(),this._config.isAnimated)}}const Oi=".bs.focustrap",kl=`focusin${Oi}`,Rl=`keydown.tab${Oi}`,Dl="backward",vc={autofocus:!0,trapElement:null},yc={autofocus:"boolean",trapElement:"element"};class _c extends ie{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return vc}static get DefaultType(){return yc}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),E.off(document,Oi),E.on(document,kl,u=>this._handleFocusin(u)),E.on(document,Rl,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,E.off(document,Oi))}_handleFocusin(u){const{trapElement:g}=this._config;if(u.target===document||u.target===g||g.contains(u.target))return;const x=ue.focusableChildren(g);x.length===0?g.focus():this._lastTabNavDirection===Dl?x[x.length-1].focus():x[0].focus()}_handleKeydown(u){u.key==="Tab"&&(this._lastTabNavDirection=u.shiftKey?Dl:"forward")}}const wc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",xc=".sticky-top",vr="padding-right",jc="margin-right";class Wt{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,vr,g=>g+u),this._setElementAttributes(wc,vr,g=>g+u),this._setElementAttributes(xc,jc,g=>g-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,vr),this._resetElementAttributes(wc,vr),this._resetElementAttributes(xc,jc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,g,x){const C=this.getWidth();this._applyManipulationCallback(u,R=>{if(R!==this._element&&window.innerWidth>R.clientWidth+C)return;this._saveInitialAttribute(R,g);const G=window.getComputedStyle(R).getPropertyValue(g);R.style.setProperty(g,`${x(Number.parseFloat(G))}px`)})}_saveInitialAttribute(u,g){const x=u.style.getPropertyValue(g);x&&te.setDataAttribute(u,g,x)}_resetElementAttributes(u,g){this._applyManipulationCallback(u,x=>{const C=te.getDataAttribute(x,g);C!==null?(te.removeDataAttribute(x,g),x.style.setProperty(g,C)):x.style.removeProperty(g)})}_applyManipulationCallback(u,g){if(p(u))g(u);else for(const x of ue.find(u,this._element))g(x)}}const Kt=".bs.modal",Sc=`hide${Kt}`,Ec=`hidePrevented${Kt}`,Ul=`hidden${Kt}`,Ml=`show${Kt}`,zl=`shown${Kt}`,pd=`resize${Kt}`,Hn=`click.dismiss${Kt}`,Ll=`mousedown.dismiss${Kt}`,Ci=`keydown.dismiss${Kt}`,$l=`click${Kt}.data-api`,Bl="modal-open",Da="show",Ua="modal-static",ql={backdrop:!0,focus:!0,keyboard:!0},Nc={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class _s extends ge{constructor(u,g){super(u,g),this._dialog=ue.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Wt,this._addEventListeners()}static get Default(){return ql}static get DefaultType(){return Nc}static get NAME(){return"modal"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||E.trigger(this._element,Ml,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Bl),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){this._isShown&&!this._isTransitioning&&(E.trigger(this._element,Sc).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Da),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){E.off(window,Kt),E.off(this._dialog,Kt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Cl({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new _c({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const g=ue.findOne(".modal-body",this._dialog);g&&(g.scrollTop=0),z(this._element),this._element.classList.add(Da),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,E.trigger(this._element,zl,{relatedTarget:u})},this._dialog,this._isAnimated())}_addEventListeners(){E.on(this._element,Ci,u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),E.on(window,pd,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),E.on(this._element,Ll,u=>{E.one(this._element,Hn,g=>{this._element===u.target&&this._element===g.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Bl),this._resetAdjustments(),this._scrollBar.reset(),E.trigger(this._element,Ul)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(E.trigger(this._element,Ec).defaultPrevented)return;const u=this._element.scrollHeight>document.documentElement.clientHeight,g=this._element.style.overflowY;g==="hidden"||this._element.classList.contains(Ua)||(u||(this._element.style.overflowY="hidden"),this._element.classList.add(Ua),this._queueCallback(()=>{this._element.classList.remove(Ua),this._queueCallback(()=>{this._element.style.overflowY=g},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,g=this._scrollBar.getWidth(),x=g>0;if(x&&!u){const C=V()?"paddingLeft":"paddingRight";this._element.style[C]=`${g}px`}if(!x&&u){const C=V()?"paddingRight":"paddingLeft";this._element.style[C]=`${g}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,g){return this.each(function(){const x=_s.getOrCreateInstance(this,u);if(typeof u=="string"){if(x[u]===void 0)throw new TypeError(`No method named "${u}"`);x[u](g)}})}}E.on(document,$l,'[data-bs-toggle="modal"]',function(_){const u=ue.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&_.preventDefault(),E.one(u,Ml,x=>{x.defaultPrevented||E.one(u,Ul,()=>{S(this)&&this.focus()})});const g=ue.findOne(".modal.show");g&&_s.getInstance(g).hide(),_s.getOrCreateInstance(u).toggle(this)}),Ta(_s),q(_s);const ea=".bs.offcanvas",Hl=".data-api",Tc=`load${ea}${Hl}`,Ac="show",Oc="showing",Cc="hiding",Vl=".offcanvas.show",kc=`show${ea}`,Pl=`shown${ea}`,qs=`hide${ea}`,ki=`hidePrevented${ea}`,ws=`hidden${ea}`,Vn=`resize${ea}`,Gl=`click${ea}${Hl}`,yr=`keydown.dismiss${ea}`,_r={backdrop:!0,keyboard:!0,scroll:!1},Il={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class es extends ge{constructor(u,g){super(u,g),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return _r}static get DefaultType(){return Il}static get NAME(){return"offcanvas"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||E.trigger(this._element,kc,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Wt().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Oc),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Ac),this._element.classList.remove(Oc),E.trigger(this._element,Pl,{relatedTarget:u})},this._element,!0))}hide(){this._isShown&&(E.trigger(this._element,qs).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Cc),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Ac,Cc),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Wt().reset(),E.trigger(this._element,ws)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const u=!!this._config.backdrop;return new Cl({className:"offcanvas-backdrop",isVisible:u,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:u?()=>{this._config.backdrop!=="static"?this.hide():E.trigger(this._element,ki)}:null})}_initializeFocusTrap(){return new _c({trapElement:this._element})}_addEventListeners(){E.on(this._element,yr,u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():E.trigger(this._element,ki))})}static jQueryInterface(u){return this.each(function(){const g=es.getOrCreateInstance(this,u);if(typeof u=="string"){if(g[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);g[u](this)}})}}E.on(document,Gl,'[data-bs-toggle="offcanvas"]',function(_){const u=ue.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),j(this))return;E.one(u,ws,()=>{S(this)&&this.focus()});const g=ue.findOne(Vl);g&&g!==u&&es.getInstance(g).hide(),es.getOrCreateInstance(u).toggle(this)}),E.on(window,Tc,()=>{for(const _ of ue.find(Vl))es.getOrCreateInstance(_).show()}),E.on(window,Vn,()=>{for(const _ of ue.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(_).position!=="fixed"&&es.getOrCreateInstance(_).hide()}),Ta(es),q(es);const Kl={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},wr=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Pn=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,bd=(_,u)=>{const g=_.nodeName.toLowerCase();return u.includes(g)?!wr.has(g)||!!Pn.test(_.nodeValue):u.filter(x=>x instanceof RegExp).some(x=>x.test(g))},xs={allowList:Kl,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Yl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ma={entry:"(string|element|function|null)",selector:"(string|element)"};class Rc extends ie{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return xs}static get DefaultType(){return Yl}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[C,R]of Object.entries(this._config.content))this._setContent(u,R,C);const g=u.children[0],x=this._resolvePossibleFunction(this._config.extraClass);return x&&g.classList.add(...x.split(" ")),g}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[g,x]of Object.entries(u))super._typeCheckConfig({selector:g,entry:x},ma)}_setContent(u,g,x){const C=ue.findOne(x,u);C&&((g=this._resolvePossibleFunction(g))?p(g)?this._putElementInTemplate(y(g),C):this._config.html?C.innerHTML=this._maybeSanitize(g):C.textContent=g:C.remove())}_maybeSanitize(u){return this._config.sanitize?(function(g,x,C){if(!g.length)return g;if(C&&typeof C=="function")return C(g);const R=new window.DOMParser().parseFromString(g,"text/html"),G=[].concat(...R.body.querySelectorAll("*"));for(const F of G){const ne=F.nodeName.toLowerCase();if(!Object.keys(x).includes(ne)){F.remove();continue}const de=[].concat(...F.attributes),fe=[].concat(x["*"]||[],x[ne]||[]);for(const oe of de)bd(oe,fe)||F.removeAttribute(oe.nodeName)}return R.body.innerHTML})(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return U(u,[void 0,this])}_putElementInTemplate(u,g){if(this._config.html)return g.innerHTML="",void g.append(u);g.textContent=u.textContent}}const xr=new Set(["sanitize","allowList","sanitizeFn"]),ga="fade",Gn="show",Dc=".tooltip-inner",jr=".modal",Xl="hide.bs.modal",Yt="hover",Ma="focus",za="click",Sr={AUTO:"auto",TOP:"top",RIGHT:V()?"left":"right",BOTTOM:"bottom",LEFT:V()?"right":"left"},Ri={allowList:Kl,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Os={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Rt extends ge{constructor(u,g){if(cc===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(u,g),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ri}static get DefaultType(){return Os}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),E.off(this._element.closest(jr),Xl,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const u=E.trigger(this._element,this.constructor.eventName("show")),g=(N(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!g)return;this._disposePopper();const x=this._getTipElement();this._element.setAttribute("aria-describedby",x.getAttribute("id"));const{container:C}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(C.append(x),E.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(x),x.classList.add(Gn),"ontouchstart"in document.documentElement)for(const R of[].concat(...document.body.children))E.on(R,"mouseover",A);this._queueCallback(()=>{E.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!E.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Gn),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))E.off(u,"mouseover",A);this._activeTrigger[za]=!1,this._activeTrigger[Ma]=!1,this._activeTrigger[Yt]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),E.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const g=this._getTemplateFactory(u).toHtml();if(!g)return null;g.classList.remove(ga,Gn),g.classList.add(`bs-${this.constructor.NAME}-auto`);const x=(C=>{do C+=Math.floor(1e6*Math.random());while(document.getElementById(C));return C})(this.constructor.NAME).toString();return g.setAttribute("id",x),this._isAnimated()&&g.classList.add(ga),g}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new Rc({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Dc]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ga)}_isShown(){return this.tip&&this.tip.classList.contains(Gn)}_createPopper(u){const g=U(this._config.placement,[this,u,this._element]),x=Sr[g.toUpperCase()];return Ti(this._element,u,this._getPopperConfig(x))}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(g=>Number.parseInt(g,10)):typeof u=="function"?g=>u(g,this._element):u}_resolvePossibleFunction(u){return U(u,[this._element,this._element])}_getPopperConfig(u){const g={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:x=>{this._getTipElement().setAttribute("data-popper-placement",x.state.placement)}}]};return{...g,...U(this._config.popperConfig,[void 0,g])}}_setListeners(){const u=this._config.trigger.split(" ");for(const g of u)if(g==="click")E.on(this._element,this.constructor.eventName("click"),this._config.selector,x=>{const C=this._initializeOnDelegatedTarget(x);C._activeTrigger[za]=!(C._isShown()&&C._activeTrigger[za]),C.toggle()});else if(g!=="manual"){const x=g===Yt?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),C=g===Yt?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");E.on(this._element,x,this._config.selector,R=>{const G=this._initializeOnDelegatedTarget(R);G._activeTrigger[R.type==="focusin"?Ma:Yt]=!0,G._enter()}),E.on(this._element,C,this._config.selector,R=>{const G=this._initializeOnDelegatedTarget(R);G._activeTrigger[R.type==="focusout"?Ma:Yt]=G._element.contains(R.relatedTarget),G._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},E.on(this._element.closest(jr),Xl,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,g){clearTimeout(this._timeout),this._timeout=setTimeout(u,g)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const g=te.getDataAttributes(this._element);for(const x of Object.keys(g))xr.has(x)&&delete g[x];return u={...g,...typeof u=="object"&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=u.container===!1?document.body:y(u.container),typeof u.delay=="number"&&(u.delay={show:u.delay,hide:u.delay}),typeof u.title=="number"&&(u.title=u.title.toString()),typeof u.content=="number"&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[g,x]of Object.entries(this._config))this.constructor.Default[g]!==x&&(u[g]=x);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const g=Rt.getOrCreateInstance(this,u);if(typeof u=="string"){if(g[u]===void 0)throw new TypeError(`No method named "${u}"`);g[u]()}})}}q(Rt);const La=".popover-header",ta=".popover-body",sa={...Rt.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},pa={...Rt.DefaultType,content:"(null|string|element|function)"};class Di extends Rt{static get Default(){return sa}static get DefaultType(){return pa}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[La]:this._getTitle(),[ta]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const g=Di.getOrCreateInstance(this,u);if(typeof u=="string"){if(g[u]===void 0)throw new TypeError(`No method named "${u}"`);g[u]()}})}}q(Di);const Ui=".bs.scrollspy",Ql=`activate${Ui}`,Jl=`click${Ui}`,Bt=`load${Ui}.data-api`,Xe="active",ze="[href]",ba=".nav-link",Cs=`${ba}, .nav-item > ${ba}, .list-group-item`,Zl={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},$a={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class In extends ge{constructor(u,g){super(u,g),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Zl}static get DefaultType(){return $a}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=y(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,typeof u.threshold=="string"&&(u.threshold=u.threshold.split(",").map(g=>Number.parseFloat(g))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(E.off(this._config.target,Jl),E.on(this._config.target,Jl,ze,u=>{const g=this._observableSections.get(u.target.hash);if(g){u.preventDefault();const x=this._rootElement||window,C=g.offsetTop-this._element.offsetTop;if(x.scrollTo)return void x.scrollTo({top:C,behavior:"smooth"});x.scrollTop=C}}))}_getNewObserver(){const u={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(g=>this._observerCallback(g),u)}_observerCallback(u){const g=G=>this._targetLinks.get(`#${G.target.id}`),x=G=>{this._previousScrollData.visibleEntryTop=G.target.offsetTop,this._process(g(G))},C=(this._rootElement||document.documentElement).scrollTop,R=C>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=C;for(const G of u){if(!G.isIntersecting){this._activeTarget=null,this._clearActiveClass(g(G));continue}const F=G.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(R&&F){if(x(G),!C)return}else R||F||x(G)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=ue.find(ze,this._config.target);for(const g of u){if(!g.hash||j(g))continue;const x=ue.findOne(decodeURI(g.hash),this._element);S(x)&&(this._targetLinks.set(decodeURI(g.hash),g),this._observableSections.set(g.hash,x))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(Xe),this._activateParents(u),E.trigger(this._element,Ql,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains("dropdown-item"))ue.findOne(".dropdown-toggle",u.closest(".dropdown")).classList.add(Xe);else for(const g of ue.parents(u,".nav, .list-group"))for(const x of ue.prev(g,Cs))x.classList.add(Xe)}_clearActiveClass(u){u.classList.remove(Xe);const g=ue.find(`${ze}.${Xe}`,u);for(const x of g)x.classList.remove(Xe)}static jQueryInterface(u){return this.each(function(){const g=In.getOrCreateInstance(this,u);if(typeof u=="string"){if(g[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);g[u]()}})}}E.on(window,Bt,()=>{for(const _ of ue.find('[data-bs-spy="scroll"]'))In.getOrCreateInstance(_)}),q(In);const Ba=".bs.tab",Kn=`hide${Ba}`,Fa=`hidden${Ba}`,Fl=`show${Ba}`,Mi=`shown${Ba}`,Wl=`click${Ba}`,Wa=`keydown${Ba}`,va=`load${Ba}`,qa="ArrowLeft",aa="ArrowRight",eo="ArrowUp",Er="ArrowDown",Ha="Home",zi="End",js="active",Dt="fade",Yn="show",to=".dropdown-toggle",so=`:not(${to})`,Uc='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ao=`.nav-link${so}, .list-group-item${so}, [role="tab"]${so}, ${Uc}`,Nt=`.${js}[data-bs-toggle="tab"], .${js}[data-bs-toggle="pill"], .${js}[data-bs-toggle="list"]`;class ya extends ge{constructor(u){super(u),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),E.on(this._element,Wa,g=>this._keydown(g)))}static get NAME(){return"tab"}show(){const u=this._element;if(this._elemIsActive(u))return;const g=this._getActiveElem(),x=g?E.trigger(g,Kn,{relatedTarget:u}):null;E.trigger(u,Fl,{relatedTarget:g}).defaultPrevented||x&&x.defaultPrevented||(this._deactivate(g,u),this._activate(u,g))}_activate(u,g){u&&(u.classList.add(js),this._activate(ue.getElementFromSelector(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),E.trigger(u,Mi,{relatedTarget:g})):u.classList.add(Yn)},u,u.classList.contains(Dt)))}_deactivate(u,g){u&&(u.classList.remove(js),u.blur(),this._deactivate(ue.getElementFromSelector(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),E.trigger(u,Fa,{relatedTarget:g})):u.classList.remove(Yn)},u,u.classList.contains(Dt)))}_keydown(u){if(![qa,aa,eo,Er,Ha,zi].includes(u.key))return;u.stopPropagation(),u.preventDefault();const g=this._getChildren().filter(C=>!j(C));let x;if([Ha,zi].includes(u.key))x=g[u.key===Ha?0:g.length-1];else{const C=[aa,Er].includes(u.key);x=ae(g,u.target,C,!0)}x&&(x.focus({preventScroll:!0}),ya.getOrCreateInstance(x).show())}_getChildren(){return ue.find(ao,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,g){this._setAttributeIfNotExists(u,"role","tablist");for(const x of g)this._setInitialAttributesOnChild(x)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const g=this._elemIsActive(u),x=this._getOuterElement(u);u.setAttribute("aria-selected",g),x!==u&&this._setAttributeIfNotExists(x,"role","presentation"),g||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const g=ue.getElementFromSelector(u);g&&(this._setAttributeIfNotExists(g,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(g,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,g){const x=this._getOuterElement(u);if(!x.classList.contains("dropdown"))return;const C=(R,G)=>{const F=ue.findOne(R,x);F&&F.classList.toggle(G,g)};C(to,js),C(".dropdown-menu",Yn),x.setAttribute("aria-expanded",g)}_setAttributeIfNotExists(u,g,x){u.hasAttribute(g)||u.setAttribute(g,x)}_elemIsActive(u){return u.classList.contains(js)}_getInnerElement(u){return u.matches(ao)?u:ue.findOne(ao,u)}_getOuterElement(u){return u.closest(".nav-item, .list-group-item")||u}static jQueryInterface(u){return this.each(function(){const g=ya.getOrCreateInstance(this);if(typeof u=="string"){if(g[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);g[u]()}})}}E.on(document,Wl,Uc,function(_){["A","AREA"].includes(this.tagName)&&_.preventDefault(),j(this)||ya.getOrCreateInstance(this).show()}),E.on(window,va,()=>{for(const _ of ue.find(Nt))ya.getOrCreateInstance(_)}),q(ya);const ks=".bs.toast",Li=`mouseover${ks}`,no=`mouseout${ks}`,Xn=`focusin${ks}`,Qn=`focusout${ks}`,vd=`hide${ks}`,Mc=`hidden${ks}`,yd=`show${ks}`,zc=`shown${ks}`,Va="hide",Jn="show",en="showing",Lc={animation:"boolean",autohide:"boolean",delay:"number"},Zn={animation:!0,autohide:!0,delay:5e3};class tn extends ge{constructor(u,g){super(u,g),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Zn}static get DefaultType(){return Lc}static get NAME(){return"toast"}show(){E.trigger(this._element,yd).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Va),z(this._element),this._element.classList.add(Jn,en),this._queueCallback(()=>{this._element.classList.remove(en),E.trigger(this._element,zc),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(E.trigger(this._element,vd).defaultPrevented||(this._element.classList.add(en),this._queueCallback(()=>{this._element.classList.add(Va),this._element.classList.remove(en,Jn),E.trigger(this._element,Mc)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Jn),super.dispose()}isShown(){return this._element.classList.contains(Jn)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,g){switch(u.type){case"mouseover":case"mouseout":this._hasMouseInteraction=g;break;case"focusin":case"focusout":this._hasKeyboardInteraction=g}if(g)return void this._clearTimeout();const x=u.relatedTarget;this._element===x||this._element.contains(x)||this._maybeScheduleHide()}_setListeners(){E.on(this._element,Li,u=>this._onInteraction(u,!0)),E.on(this._element,no,u=>this._onInteraction(u,!1)),E.on(this._element,Xn,u=>this._onInteraction(u,!0)),E.on(this._element,Qn,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const g=tn.getOrCreateInstance(this,u);if(typeof u=="string"){if(g[u]===void 0)throw new TypeError(`No method named "${u}"`);g[u](this)}})}}return Ta(tn),q(tn),{Alert:Ls,Button:Ya,Carousel:Nn,Collapse:An,Dropdown:As,Modal:_s,Offcanvas:es,Popover:Di,ScrollSpy:In,Tab:ya,Toast:tn,Tooltip:Rt}})})(ku)),ku.exports}Mx();Jv.createRoot(document.getElementById("root")).render(o.jsx(Vv.StrictMode,{children:o.jsx(rx,{children:o.jsx(Dx,{})})}));
